2017-07-09 19:45:44  --------------------------------------------------------------------------------
2017-07-09 19:45:44  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  __schema {
    queryType {
      name
    }
  }
}

2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  __schema {
    queryType {
      name
    }
  }
}

2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    role
    username
  }
}

2017-07-09 19:45:55  user readOne with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    role
    username
  }
}

2017-07-09 19:45:55  user readOne with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca2") {
    role
    username
  }
}

2017-07-09 19:45:55  user readOne with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    id
    username
    bio
  }
}

2017-07-09 19:45:55  user readOne with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users {
    username
    createdAt
  }
}

2017-07-09 19:45:55  users readMany with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users(limit: 1) {
    username
    createdAt
  }
}

2017-07-09 19:45:55  users readMany with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users(lastCreatedAt: 1479776904993) {
    username
    createdAt
  }
}

2017-07-09 19:45:55  users readMany with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users(lastCreatedAt: 1479776904993, limit: 1) {
    username
    createdAt
  }
}

2017-07-09 19:45:55  users readMany with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers {
      username
      createdAt
    }
  }
}

2017-07-09 19:45:55  user readOne with user stubailo is authorized
2017-07-09 19:45:55  followers readMany with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers(limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 19:45:55  user readOne with user stubailo is authorized
2017-07-09 19:45:55  followers readMany with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers(lastCreatedAt: 1479776905993) {
      username
      createdAt
    }
  }
}

2017-07-09 19:45:55  user readOne with user stubailo is authorized
2017-07-09 19:45:55  followers readMany with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers(lastCreatedAt: 1479776905993, limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 19:45:55  user readOne with user stubailo is authorized
2017-07-09 19:45:55  followers readMany with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following {
      username
      createdAt
    }
  }
}

2017-07-09 19:45:55  user readOne with user stubailo is authorized
2017-07-09 19:45:55  following readMany with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following(limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 19:45:55  user readOne with user stubailo is authorized
2017-07-09 19:45:55  following readMany with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following(lastCreatedAt: 1479776905993) {
      username
      createdAt
    }
  }
}

2017-07-09 19:45:55  user readOne with user stubailo is authorized
2017-07-09 19:45:55  following readMany with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following(lastCreatedAt: 1479776905993, limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 19:45:55  user readOne with user stubailo is authorized
2017-07-09 19:45:55  following readMany with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets {
      id
      createdAt
    }
  }
}

2017-07-09 19:45:55  user readOne with user stubailo is authorized
2017-07-09 19:45:55  tweets readMany with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets(limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 19:45:55  user readOne with user stubailo is authorized
2017-07-09 19:45:55  tweets readMany with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets(lastCreatedAt: 1479964340853) {
      id
      createdAt
    }
  }
}

2017-07-09 19:45:55  user readOne with user stubailo is authorized
2017-07-09 19:45:55  tweets readMany with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets(lastCreatedAt: 1479964340853, limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 19:45:55  user readOne with user stubailo is authorized
2017-07-09 19:45:55  tweets readMany with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked {
      id
      createdAt
    }
  }
}

2017-07-09 19:45:55  user readOne with user stubailo is authorized
2017-07-09 19:45:55  liked readMany with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked(limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 19:45:55  user readOne with user stubailo is authorized
2017-07-09 19:45:55  liked readMany with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked(lastCreatedAt: 1479964371334) {
      id
      createdAt
    }
  }
}

2017-07-09 19:45:55  user readOne with user stubailo is authorized
2017-07-09 19:45:55  liked readMany with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked(lastCreatedAt: 1479964371334, limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 19:45:55  user readOne with user stubailo is authorized
2017-07-09 19:45:55  liked readMany with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e351") {
    id
    body
  }
}

2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e351") {
    author {
      username
    }
  }
}

2017-07-09 19:45:55  tweet readOne with user stubailo is authorized
2017-07-09 19:45:55  tweet readOne with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets {
    id
    createdAt
  }
}

2017-07-09 19:45:55  tweets readMany with user stubailo is authorized
2017-07-09 19:45:55  author readOne with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets(limit: 1) {
    id
    createdAt
  }
}

2017-07-09 19:45:55  tweets readMany with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets(lastCreatedAt: 1479964340853) {
    id
    createdAt
  }
}

2017-07-09 19:45:55  tweets readMany with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets(lastCreatedAt: 1479964340853, limit: 1) {
    id
    createdAt
  }
}

2017-07-09 19:45:55  tweets readMany with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers {
      username
      createdAt
    }
  }
}

2017-07-09 19:45:55  tweet readOne with user stubailo is authorized
2017-07-09 19:45:55  likers readMany with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers(limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 19:45:55  tweet readOne with user stubailo is authorized
2017-07-09 19:45:55  likers readMany with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers(lastCreatedAt: 1479776904993) {
      username
      createdAt
    }
  }
}

2017-07-09 19:45:55  tweet readOne with user stubailo is authorized
2017-07-09 19:45:55  likers readMany with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers(lastCreatedAt: 1479776904993, limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 19:45:55  tweet readOne with user stubailo is authorized
2017-07-09 19:45:55  likers readMany with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "tobkle", bio: "someone", role: "admin"}) {
    id
    role
  }
}

2017-07-09 19:45:55  insert user create with user stubailo is authorized
2017-07-09 19:45:55  inserted user 59626bd3381b9493f5a80a90.
2017-07-09 19:45:55  pubsub userInserted readOne with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "tobkle", role: "admin", id: "59626bd3381b9493f5a80a90",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "editor"}) {
    id
  }
}

2017-07-09 19:45:55  insert user create with user tobkle is authorized
2017-07-09 19:45:55  inserted user 59626bd3381b9493f5a80a91.
2017-07-09 19:45:55  pubsub userInserted readOne with user tobkle is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "tobkle", role: "admin", id: "59626bd3381b9493f5a80a90",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59626bd3381b9493f5a80a91") {
    username
    bio
    role
  }
}

2017-07-09 19:45:55  user readOne with user tobkle is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "tobkle", role: "admin", id: "59626bd3381b9493f5a80a90",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59626bd3381b9493f5a80a90") {
    username
    role
  }
}

2017-07-09 19:45:55  user readOne with user tobkle is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "tobkle", role: "admin", id: "59626bd3381b9493f5a80a90",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59626bd3381b9493f5a80a91", input: {username: "zoltan", bio: "Maker of things, I guess", role: "editor"}) {
    username
    bio
    role
  }
}

2017-07-09 19:45:55  update user update with user tobkle is authorized
2017-07-09 19:45:55  updated user 59626bd3381b9493f5a80a91.
2017-07-09 19:45:55  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "tobkle", role: "admin", id: "59626bd3381b9493f5a80a90",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59626bd3381b9493f5a80a90", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 19:45:55  update user update with user tobkle is authorized
2017-07-09 19:45:55  updated user 59626bd3381b9493f5a80a90.
2017-07-09 19:45:55  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "tobkle", role: "admin", id: "59626bd3381b9493f5a80a90",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59626bd3381b9493f5a80a91", input: {username: "zoltan", bio: "now an admin", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 19:45:55  update user update with user tobkle is authorized
2017-07-09 19:45:55  updated user 59626bd3381b9493f5a80a91.
2017-07-09 19:45:55  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "tobkle", role: "admin", id: "59626bd3381b9493f5a80a90",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59626bd3381b9493f5a80a90", input: {username: "tobkle", bio: "Maker of things, I guess", role: "editor"}) {
    username
    bio
    role
  }
}

2017-07-09 19:45:55  update user update with user tobkle is authorized
2017-07-09 19:45:55  updated user 59626bd3381b9493f5a80a90.
2017-07-09 19:45:55  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "tobkle", role: "editor", id: "59626bd3381b9493f5a80a90",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59626bd3381b9493f5a80a90", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 19:45:55  authQuery: {
  "$or": [
    {
      "_id": "59626bd3381b9493f5a80a90"
    }
  ]
}
2017-07-09 19:45:55  ERROR Not authorized to update field "role"
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "zoltan", role: "admin", id: "59626bd3381b9493f5a80a91",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59626bd3381b9493f5a80a90", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 19:45:55  update user update with user zoltan is authorized
2017-07-09 19:45:55  updated user 59626bd3381b9493f5a80a90.
2017-07-09 19:45:55  pubsub userUpdated readOne with user zoltan is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "tobkle", role: "admin", id: "59626bd3381b9493f5a80a90",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "59626bd3381b9493f5a80a91")
}

2017-07-09 19:45:55  removeUser delete with user tobkle is authorized
2017-07-09 19:45:55  removed user 59626bd3381b9493f5a80a91.
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "tobkle", role: "admin", id: "59626bd3381b9493f5a80a90",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "59626bd3381b9493f5a80a90", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 19:45:55  insert tweet create with user tobkle is authorized
2017-07-09 19:45:55  inserted tweet 59626bd3381b9493f5a80a92.
2017-07-09 19:45:55  pubsub tweetInserted readOne with user tobkle is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "tobkle", role: "admin", id: "59626bd3381b9493f5a80a90",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59626bd3381b9493f5a80a92") {
    author {
      id
    }
    body
  }
}

2017-07-09 19:45:55  tweet readOne with user tobkle is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "tobkle", role: "admin", id: "59626bd3381b9493f5a80a90",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 19:45:55  insert tweet create with user tobkle is authorized
2017-07-09 19:45:55  author readOne with user tobkle is authorized
2017-07-09 19:45:55  inserted tweet 59626bd3381b9493f5a80a93.
2017-07-09 19:45:55  pubsub tweetInserted readOne with user tobkle is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "tobkle", role: "admin", id: "59626bd3381b9493f5a80a90",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 19:45:55  tweet readOne with user tobkle is authorized
2017-07-09 19:45:55  author readOne with user tobkle is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "tobkle", role: "admin", id: "59626bd3381b9493f5a80a90",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "59626bd3381b9493f5a80a92", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 19:45:55  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 19:45:55  update tweet update with user tobkle is authorized
2017-07-09 19:45:55  updated tweet 59626bd3381b9493f5a80a92.
2017-07-09 19:45:55  pubsub tweetUpdated readOne with user tobkle is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "tobkle", role: "admin", id: "59626bd3381b9493f5a80a90",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "59626bd3381b9493f5a80a93", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 19:45:55  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 19:45:55  update tweet update with user tobkle is authorized
2017-07-09 19:45:55  updated tweet 59626bd3381b9493f5a80a93.
2017-07-09 19:45:55  pubsub tweetUpdated readOne with user tobkle is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "tobkle", role: "admin", id: "59626bd3381b9493f5a80a90",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59626bd3381b9493f5a80a92") {
    body
  }
}

2017-07-09 19:45:55  tweet readOne with user tobkle is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "tobkle", role: "admin", id: "59626bd3381b9493f5a80a90",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "59626bd3381b9493f5a80a92")
}

2017-07-09 19:45:55  removeTweet delete with user tobkle is authorized
2017-07-09 19:45:55  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 19:45:55  removed tweet 59626bd3381b9493f5a80a92.
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "tobkle", role: "admin", id: "59626bd3381b9493f5a80a90",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "59626bd3381b9493f5a80a93")
}

2017-07-09 19:45:55  removeTweet delete with user tobkle is authorized
2017-07-09 19:45:55  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 19:45:55  removed tweet 59626bd3381b9493f5a80a93.
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "tobkle", role: "admin", id: "59626bd3381b9493f5a80a90",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59626bd3381b9493f5a80a92") {
    body
  }
}

2017-07-09 19:45:55  tweet readOne with user tobkle is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "tobkle", role: "admin", id: "59626bd3381b9493f5a80a90",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "59626bd3381b9493f5a80a90")
}

2017-07-09 19:45:55  removeUser delete with user tobkle is authorized
2017-07-09 19:45:55  removed user 59626bd3381b9493f5a80a90.
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59626bd3381b9493f5a80a90") {
    username
    bio
    role
  }
}

2017-07-09 19:45:55  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "user"}) {
    id
  }
}

2017-07-09 19:45:55  ERROR Authorization: Not authorized to create in insert user.
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    username
    bio
    role
  }
}

2017-07-09 19:45:55  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "583291a1638566b3c5a92ca1", input: {username: "zoltan", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 19:45:55  ERROR Authorization: Not authorized to update in update user.
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "583291a1638566b3c5a92ca1")
}

2017-07-09 19:45:55  ERROR Authorization: Not authorized to delete in removeUser.
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 19:45:55  ERROR Authorization: Not authorized to create in insert tweet.
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 19:45:55  tweet readOne with user <no-user> is authorized
2017-07-09 19:45:55  ERROR Authorization: Not authorized to readOne in author.
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 19:45:55  tweet getOneById in updateById for docBefore readOne with user <no-user> is authorized
2017-07-09 19:45:55  ERROR Authorization: Not authorized to update in update tweet.
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 19:45:55  tweet getOneById in updateById for docBefore readOne with user <no-user> is authorized
2017-07-09 19:45:55  ERROR Authorization: Not authorized to update in update tweet.
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "583676d3618530145474e352")
}

2017-07-09 19:45:55  ERROR Authorization: Not authorized to delete in removeTweet.
2017-07-09 19:45:55  tweet getOneById in removeById for docBefore readOne with user <no-user> is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "tobkle", bio: "someone", role: "user"}) {
    id
    role
  }
}

2017-07-09 19:45:55  insert user create with user stubailo is authorized
2017-07-09 19:45:55  inserted user 59626bd3381b9493f5a80a94.
2017-07-09 19:45:55  pubsub userInserted readOne with user stubailo is authorized
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "tobkle", role: "user", id: "59626bd3381b9493f5a80a94",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "user"}) {
    id
  }
}

2017-07-09 19:45:55  authQuery: {
  "$or": []
}
2017-07-09 19:45:55  ERROR Authorization: Not authorized to create in insert user.
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "tobkle", role: "user", id: "59626bd3381b9493f5a80a94",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    username
    bio
    role
  }
}

2017-07-09 19:45:55  authQuery: {
  "$or": [
    {
      "_id": "59626bd3381b9493f5a80a94"
    }
  ]
}
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "tobkle", role: "user", id: "59626bd3381b9493f5a80a94",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59626bd3381b9493f5a80a94") {
    username
  }
}

2017-07-09 19:45:55  authQuery: {
  "$or": [
    {
      "_id": "59626bd3381b9493f5a80a94"
    }
  ]
}
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "tobkle", role: "user", id: "59626bd3381b9493f5a80a94",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59626bd3381b9493f5a80a94") {
    username
    role
  }
}

2017-07-09 19:45:55  authQuery: {
  "$or": [
    {
      "_id": "59626bd3381b9493f5a80a94"
    }
  ]
}
2017-07-09 19:45:55  --------------------------------------------------------------------------------
2017-07-09 19:45:55  Request:
User: "tobkle", role: "user", id: "59626bd3381b9493f5a80a94",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "583291a1638566b3c5a92ca1", input: {username: "zoltan", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 19:45:55  authQuery: {
  "$or": [
    {
      "_id": "59626bd3381b9493f5a80a94"
    }
  ]
}
2017-07-09 19:45:55  ERROR Not authorized to update user
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tobkle", role: "user", id: "59626bd3381b9493f5a80a94",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59626bd3381b9493f5a80a94", input: {username: "tobkle", bio: "Maker of things, I guess"}) {
    username
    bio
  }
}

2017-07-09 19:45:56  authQuery: {
  "$or": [
    {
      "_id": "59626bd3381b9493f5a80a94"
    }
  ]
}
2017-07-09 19:45:56  updated user 59626bd3381b9493f5a80a94.
2017-07-09 19:45:56  authQuery: {
  "$or": [
    {
      "_id": "59626bd3381b9493f5a80a94"
    }
  ]
}
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tobkle", role: "user", id: "59626bd3381b9493f5a80a94",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59626bd3381b9493f5a80a94", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 19:45:56  authQuery: {
  "$or": [
    {
      "_id": "59626bd3381b9493f5a80a94"
    }
  ]
}
2017-07-09 19:45:56  ERROR Not authorized to update field "role"
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tobkle", role: "user", id: "59626bd3381b9493f5a80a94",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "583291a1638566b3c5a92ca1")
}

2017-07-09 19:45:56  authQuery: {
  "$or": [
    {
      "_id": "59626bd3381b9493f5a80a94"
    }
  ]
}
2017-07-09 19:45:56  ERROR remove user failed for finalQuery: {
  "_id": "583291a1638566b3c5a92ca1",
  "$or": [
    {
      "_id": "59626bd3381b9493f5a80a94"
    }
  ]
}
2017-07-09 19:45:56  ERROR remove user not possible for 583291a1638566b3c5a92ca1.
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tobkle", role: "user", id: "59626bd3381b9493f5a80a94",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "59626bd3381b9493f5a80a94", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 19:45:56  authQuery: {
  "$or": [
    {
      "authorId": "59626bd3381b9493f5a80a94"
    }
  ]
}
2017-07-09 19:45:56  inserted tweet 59626bd4381b9493f5a80a95.
2017-07-09 19:45:56  pubsub tweetInserted readOne with user tobkle is authorized
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tobkle", role: "user", id: "59626bd3381b9493f5a80a94",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 19:45:56  authQuery: {
  "$or": [
    {
      "authorId": "59626bd3381b9493f5a80a94"
    }
  ]
}
2017-07-09 19:45:56  ERROR Not authorized to insert tweet
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tobkle", role: "user", id: "59626bd3381b9493f5a80a94",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59626bd4381b9493f5a80a95") {
    author {
      id
    }
    body
  }
}

2017-07-09 19:45:56  tweet readOne with user tobkle is authorized
2017-07-09 19:45:56  authQuery: {
  "$or": [
    {
      "_id": "59626bd3381b9493f5a80a94"
    }
  ]
}
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tobkle", role: "user", id: "59626bd3381b9493f5a80a94",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 19:45:56  tweet readOne with user tobkle is authorized
2017-07-09 19:45:56  authQuery: {
  "$or": [
    {
      "_id": "59626bd3381b9493f5a80a94"
    }
  ]
}
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tobkle", role: "user", id: "59626bd3381b9493f5a80a94",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "59626bd4381b9493f5a80a95", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 19:45:56  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 19:45:56  authQuery: {
  "$or": [
    {
      "authorId": "59626bd3381b9493f5a80a94"
    },
    {
      "coauthorsIds": "59626bd3381b9493f5a80a94"
    }
  ]
}
2017-07-09 19:45:56  updated tweet 59626bd4381b9493f5a80a95.
2017-07-09 19:45:56  pubsub tweetUpdated readOne with user tobkle is authorized
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tobkle", role: "user", id: "59626bd3381b9493f5a80a94",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 19:45:56  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 19:45:56  authQuery: {
  "$or": [
    {
      "authorId": "59626bd3381b9493f5a80a94"
    },
    {
      "coauthorsIds": "59626bd3381b9493f5a80a94"
    }
  ]
}
2017-07-09 19:45:56  ERROR Not authorized to update tweet
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tobkle", role: "user", id: "59626bd3381b9493f5a80a94",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59626bd4381b9493f5a80a95") {
    body
  }
}

2017-07-09 19:45:56  tweet readOne with user tobkle is authorized
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tobkle", role: "user", id: "59626bd3381b9493f5a80a94",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "59626bd4381b9493f5a80a95")
}

2017-07-09 19:45:56  authQuery: {
  "$or": [
    {
      "authorId": "59626bd3381b9493f5a80a94"
    }
  ]
}
2017-07-09 19:45:56  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 19:45:56  removed tweet 59626bd4381b9493f5a80a95.
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tobkle", role: "user", id: "59626bd3381b9493f5a80a94",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "583676d3618530145474e352")
}

2017-07-09 19:45:56  authQuery: {
  "$or": [
    {
      "authorId": "59626bd3381b9493f5a80a94"
    }
  ]
}
2017-07-09 19:45:56  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 19:45:56  ERROR remove tweet failed for finalQuery: {
  "_id": "583676d3618530145474e352",
  "$or": [
    {
      "authorId": "59626bd3381b9493f5a80a94"
    }
  ]
}
2017-07-09 19:45:56  ERROR remove tweet not possible for 583676d3618530145474e352.
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tobkle", role: "user", id: "59626bd3381b9493f5a80a94",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59626bd4381b9493f5a80a95") {
    body
  }
}

2017-07-09 19:45:56  tweet readOne with user tobkle is authorized
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tobkle", role: "user", id: "59626bd3381b9493f5a80a94",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "59626bd3381b9493f5a80a94")
}

2017-07-09 19:45:56  authQuery: {
  "$or": [
    {
      "_id": "59626bd3381b9493f5a80a94"
    }
  ]
}
2017-07-09 19:45:56  removed user 59626bd3381b9493f5a80a94.
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59626bd3381b9493f5a80a94") {
    username
    bio
    role
  }
}

2017-07-09 19:45:56  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "tobkle", bio: "someone", role: "editor"}) {
    id
    role
  }
}

2017-07-09 19:45:56  insert user create with user stubailo is authorized
2017-07-09 19:45:56  inserted user 59626bd4381b9493f5a80a96.
2017-07-09 19:45:56  pubsub userInserted readOne with user stubailo is authorized
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tobkle", role: "editor", id: "59626bd4381b9493f5a80a96",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "editor"}) {
    id
  }
}

2017-07-09 19:45:56  authQuery: {
  "$or": []
}
2017-07-09 19:45:56  ERROR Authorization: Not authorized to create in insert user.
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tobkle", role: "editor", id: "59626bd4381b9493f5a80a96",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    username
    bio
    role
  }
}

2017-07-09 19:45:56  authQuery: {
  "$or": [
    {
      "_id": "59626bd4381b9493f5a80a96"
    }
  ]
}
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tobkle", role: "editor", id: "59626bd4381b9493f5a80a96",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59626bd4381b9493f5a80a96") {
    username
    role
  }
}

2017-07-09 19:45:56  authQuery: {
  "$or": [
    {
      "_id": "59626bd4381b9493f5a80a96"
    }
  ]
}
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tobkle", role: "editor", id: "59626bd4381b9493f5a80a96",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "583291a1638566b3c5a92ca1", input: {username: "zoltan", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 19:45:56  authQuery: {
  "$or": [
    {
      "_id": "59626bd4381b9493f5a80a96"
    }
  ]
}
2017-07-09 19:45:56  ERROR Not authorized to update user
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tobkle", role: "editor", id: "59626bd4381b9493f5a80a96",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59626bd4381b9493f5a80a96", input: {username: "tmeasday", bio: "Maker of things, I guess"}) {
    username
    bio
  }
}

2017-07-09 19:45:56  authQuery: {
  "$or": [
    {
      "_id": "59626bd4381b9493f5a80a96"
    }
  ]
}
2017-07-09 19:45:56  updated user 59626bd4381b9493f5a80a96.
2017-07-09 19:45:56  authQuery: {
  "$or": [
    {
      "_id": "59626bd4381b9493f5a80a96"
    }
  ]
}
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tmeasday", role: "editor", id: "59626bd4381b9493f5a80a96",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59626bd4381b9493f5a80a96", input: {username: "tmeasday", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 19:45:56  authQuery: {
  "$or": [
    {
      "_id": "59626bd4381b9493f5a80a96"
    }
  ]
}
2017-07-09 19:45:56  ERROR Not authorized to update field "role"
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tmeasday", role: "editor", id: "59626bd4381b9493f5a80a96",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "583291a1638566b3c5a92ca1")
}

2017-07-09 19:45:56  authQuery: {
  "$or": [
    {
      "_id": "59626bd4381b9493f5a80a96"
    }
  ]
}
2017-07-09 19:45:56  ERROR remove user failed for finalQuery: {
  "_id": "583291a1638566b3c5a92ca1",
  "$or": [
    {
      "_id": "59626bd4381b9493f5a80a96"
    }
  ]
}
2017-07-09 19:45:56  ERROR remove user not possible for 583291a1638566b3c5a92ca1.
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tmeasday", role: "editor", id: "59626bd4381b9493f5a80a96",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "59626bd4381b9493f5a80a96", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 19:45:56  authQuery: {
  "$or": [
    {
      "authorId": "59626bd4381b9493f5a80a96"
    }
  ]
}
2017-07-09 19:45:56  inserted tweet 59626bd4381b9493f5a80a97.
2017-07-09 19:45:56  pubsub tweetInserted readOne with user tmeasday is authorized
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tmeasday", role: "editor", id: "59626bd4381b9493f5a80a96",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 19:45:56  authQuery: {
  "$or": [
    {
      "authorId": "59626bd4381b9493f5a80a96"
    }
  ]
}
2017-07-09 19:45:56  ERROR Not authorized to insert tweet
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tmeasday", role: "editor", id: "59626bd4381b9493f5a80a96",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59626bd4381b9493f5a80a97") {
    author {
      id
    }
    body
  }
}

2017-07-09 19:45:56  tweet readOne with user tmeasday is authorized
2017-07-09 19:45:56  authQuery: {
  "$or": [
    {
      "_id": "59626bd4381b9493f5a80a96"
    }
  ]
}
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tmeasday", role: "editor", id: "59626bd4381b9493f5a80a96",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 19:45:56  tweet readOne with user tmeasday is authorized
2017-07-09 19:45:56  authQuery: {
  "$or": [
    {
      "_id": "59626bd4381b9493f5a80a96"
    }
  ]
}
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tmeasday", role: "editor", id: "59626bd4381b9493f5a80a96",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "59626bd4381b9493f5a80a97", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 19:45:56  tweet getOneById in updateById for docBefore readOne with user tmeasday is authorized
2017-07-09 19:45:56  authQuery: {
  "$or": [
    {
      "authorId": "59626bd4381b9493f5a80a96"
    },
    {
      "coauthorsIds": "59626bd4381b9493f5a80a96"
    }
  ]
}
2017-07-09 19:45:56  updated tweet 59626bd4381b9493f5a80a97.
2017-07-09 19:45:56  pubsub tweetUpdated readOne with user tmeasday is authorized
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tmeasday", role: "editor", id: "59626bd4381b9493f5a80a96",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 19:45:56  tweet getOneById in updateById for docBefore readOne with user tmeasday is authorized
2017-07-09 19:45:56  authQuery: {
  "$or": [
    {
      "authorId": "59626bd4381b9493f5a80a96"
    },
    {
      "coauthorsIds": "59626bd4381b9493f5a80a96"
    }
  ]
}
2017-07-09 19:45:56  ERROR Not authorized to update tweet
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tmeasday", role: "editor", id: "59626bd4381b9493f5a80a96",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59626bd4381b9493f5a80a97") {
    body
  }
}

2017-07-09 19:45:56  tweet readOne with user tmeasday is authorized
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tmeasday", role: "editor", id: "59626bd4381b9493f5a80a96",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "59626bd4381b9493f5a80a97")
}

2017-07-09 19:45:56  authQuery: {
  "$or": [
    {
      "authorId": "59626bd4381b9493f5a80a96"
    }
  ]
}
2017-07-09 19:45:56  tweet getOneById in removeById for docBefore readOne with user tmeasday is authorized
2017-07-09 19:45:56  removed tweet 59626bd4381b9493f5a80a97.
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tmeasday", role: "editor", id: "59626bd4381b9493f5a80a96",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "583676d3618530145474e352")
}

2017-07-09 19:45:56  authQuery: {
  "$or": [
    {
      "authorId": "59626bd4381b9493f5a80a96"
    }
  ]
}
2017-07-09 19:45:56  tweet getOneById in removeById for docBefore readOne with user tmeasday is authorized
2017-07-09 19:45:56  ERROR remove tweet failed for finalQuery: {
  "_id": "583676d3618530145474e352",
  "$or": [
    {
      "authorId": "59626bd4381b9493f5a80a96"
    }
  ]
}
2017-07-09 19:45:56  ERROR remove tweet not possible for 583676d3618530145474e352.
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tmeasday", role: "editor", id: "59626bd4381b9493f5a80a96",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59626bd4381b9493f5a80a97") {
    body
  }
}

2017-07-09 19:45:56  tweet readOne with user tmeasday is authorized
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "tmeasday", role: "editor", id: "59626bd4381b9493f5a80a96",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "59626bd4381b9493f5a80a96")
}

2017-07-09 19:45:56  authQuery: {
  "$or": [
    {
      "_id": "59626bd4381b9493f5a80a96"
    }
  ]
}
2017-07-09 19:45:56  removed user 59626bd4381b9493f5a80a96.
2017-07-09 19:45:56  --------------------------------------------------------------------------------
2017-07-09 19:45:56  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59626bd4381b9493f5a80a96") {
    username
    bio
    role
  }
}

2017-07-09 19:45:56  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 19:54:26  Logger started
2017-07-09 19:57:26  Logger started
2017-07-09 19:57:54  --------------------------------------------------------------------------------
2017-07-09 19:57:54  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  __schema {
    queryType {
      name
    }
  }
}

2017-07-09 19:58:04  --------------------------------------------------------------------------------
2017-07-09 19:58:04  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  __schema {
    queryType {
      name
    }
  }
}

2017-07-09 19:58:04  --------------------------------------------------------------------------------
2017-07-09 19:58:04  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    role
    username
  }
}

2017-07-09 19:58:04  user readOne with user stubailo is authorized
2017-07-09 19:58:04  --------------------------------------------------------------------------------
2017-07-09 19:58:04  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    role
    username
  }
}

2017-07-09 19:58:04  user readOne with user stubailo is authorized
2017-07-09 19:58:04  --------------------------------------------------------------------------------
2017-07-09 19:58:04  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca2") {
    role
    username
  }
}

2017-07-09 19:58:04  user readOne with user stubailo is authorized
2017-07-09 19:58:04  --------------------------------------------------------------------------------
2017-07-09 19:58:04  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    id
    username
    bio
  }
}

2017-07-09 19:58:04  user readOne with user stubailo is authorized
2017-07-09 19:58:04  --------------------------------------------------------------------------------
2017-07-09 19:58:04  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users {
    username
    createdAt
  }
}

2017-07-09 19:58:04  users readMany with user stubailo is authorized
2017-07-09 19:58:04  --------------------------------------------------------------------------------
2017-07-09 19:58:04  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users(limit: 1) {
    username
    createdAt
  }
}

2017-07-09 19:58:04  users readMany with user stubailo is authorized
2017-07-09 19:58:04  --------------------------------------------------------------------------------
2017-07-09 19:58:04  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users(lastCreatedAt: 1479776904993) {
    username
    createdAt
  }
}

2017-07-09 19:58:04  users readMany with user stubailo is authorized
2017-07-09 19:58:04  --------------------------------------------------------------------------------
2017-07-09 19:58:04  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users(lastCreatedAt: 1479776904993, limit: 1) {
    username
    createdAt
  }
}

2017-07-09 19:58:04  users readMany with user stubailo is authorized
2017-07-09 19:58:04  --------------------------------------------------------------------------------
2017-07-09 19:58:04  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers {
      username
      createdAt
    }
  }
}

2017-07-09 19:58:04  user readOne with user stubailo is authorized
2017-07-09 19:58:04  followers readMany with user stubailo is authorized
2017-07-09 19:58:04  --------------------------------------------------------------------------------
2017-07-09 19:58:04  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers(limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 19:58:04  user readOne with user stubailo is authorized
2017-07-09 19:58:04  followers readMany with user stubailo is authorized
2017-07-09 19:58:04  --------------------------------------------------------------------------------
2017-07-09 19:58:04  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers(lastCreatedAt: 1479776905993) {
      username
      createdAt
    }
  }
}

2017-07-09 19:58:04  user readOne with user stubailo is authorized
2017-07-09 19:58:04  followers readMany with user stubailo is authorized
2017-07-09 19:58:04  --------------------------------------------------------------------------------
2017-07-09 19:58:04  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers(lastCreatedAt: 1479776905993, limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 19:58:04  user readOne with user stubailo is authorized
2017-07-09 19:58:04  followers readMany with user stubailo is authorized
2017-07-09 19:58:04  --------------------------------------------------------------------------------
2017-07-09 19:58:04  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following {
      username
      createdAt
    }
  }
}

2017-07-09 19:58:04  user readOne with user stubailo is authorized
2017-07-09 19:58:04  following readMany with user stubailo is authorized
2017-07-09 19:58:04  --------------------------------------------------------------------------------
2017-07-09 19:58:04  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following(limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 19:58:04  user readOne with user stubailo is authorized
2017-07-09 19:58:04  following readMany with user stubailo is authorized
2017-07-09 19:58:04  --------------------------------------------------------------------------------
2017-07-09 19:58:04  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following(lastCreatedAt: 1479776905993) {
      username
      createdAt
    }
  }
}

2017-07-09 19:58:04  user readOne with user stubailo is authorized
2017-07-09 19:58:04  following readMany with user stubailo is authorized
2017-07-09 19:58:04  --------------------------------------------------------------------------------
2017-07-09 19:58:04  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following(lastCreatedAt: 1479776905993, limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 19:58:04  user readOne with user stubailo is authorized
2017-07-09 19:58:04  following readMany with user stubailo is authorized
2017-07-09 19:58:04  --------------------------------------------------------------------------------
2017-07-09 19:58:04  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets {
      id
      createdAt
    }
  }
}

2017-07-09 19:58:04  user readOne with user stubailo is authorized
2017-07-09 19:58:04  tweets readMany with user stubailo is authorized
2017-07-09 19:58:04  --------------------------------------------------------------------------------
2017-07-09 19:58:04  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets(limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 19:58:04  user readOne with user stubailo is authorized
2017-07-09 19:58:04  tweets readMany with user stubailo is authorized
2017-07-09 19:58:04  --------------------------------------------------------------------------------
2017-07-09 19:58:04  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets(lastCreatedAt: 1479964340853) {
      id
      createdAt
    }
  }
}

2017-07-09 19:58:04  user readOne with user stubailo is authorized
2017-07-09 19:58:04  tweets readMany with user stubailo is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets(lastCreatedAt: 1479964340853, limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 19:58:05  user readOne with user stubailo is authorized
2017-07-09 19:58:05  tweets readMany with user stubailo is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked {
      id
      createdAt
    }
  }
}

2017-07-09 19:58:05  user readOne with user stubailo is authorized
2017-07-09 19:58:05  liked readMany with user stubailo is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked(limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 19:58:05  user readOne with user stubailo is authorized
2017-07-09 19:58:05  liked readMany with user stubailo is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked(lastCreatedAt: 1479964371334) {
      id
      createdAt
    }
  }
}

2017-07-09 19:58:05  user readOne with user stubailo is authorized
2017-07-09 19:58:05  liked readMany with user stubailo is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked(lastCreatedAt: 1479964371334, limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 19:58:05  user readOne with user stubailo is authorized
2017-07-09 19:58:05  liked readMany with user stubailo is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e351") {
    id
    body
  }
}

2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e351") {
    author {
      username
    }
  }
}

2017-07-09 19:58:05  tweet readOne with user stubailo is authorized
2017-07-09 19:58:05  tweet readOne with user stubailo is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets {
    id
    createdAt
  }
}

2017-07-09 19:58:05  tweets readMany with user stubailo is authorized
2017-07-09 19:58:05  author readOne with user stubailo is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets(limit: 1) {
    id
    createdAt
  }
}

2017-07-09 19:58:05  tweets readMany with user stubailo is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets(lastCreatedAt: 1479964340853) {
    id
    createdAt
  }
}

2017-07-09 19:58:05  tweets readMany with user stubailo is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets(lastCreatedAt: 1479964340853, limit: 1) {
    id
    createdAt
  }
}

2017-07-09 19:58:05  tweets readMany with user stubailo is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers {
      username
      createdAt
    }
  }
}

2017-07-09 19:58:05  tweet readOne with user stubailo is authorized
2017-07-09 19:58:05  likers readMany with user stubailo is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers(limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 19:58:05  tweet readOne with user stubailo is authorized
2017-07-09 19:58:05  likers readMany with user stubailo is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers(lastCreatedAt: 1479776904993) {
      username
      createdAt
    }
  }
}

2017-07-09 19:58:05  tweet readOne with user stubailo is authorized
2017-07-09 19:58:05  likers readMany with user stubailo is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers(lastCreatedAt: 1479776904993, limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 19:58:05  tweet readOne with user stubailo is authorized
2017-07-09 19:58:05  likers readMany with user stubailo is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "tobkle", bio: "someone", role: "admin"}) {
    id
    role
  }
}

2017-07-09 19:58:05  insert user create with user stubailo is authorized
2017-07-09 19:58:05  inserted user 59626ead9506339804845128.
2017-07-09 19:58:05  pubsub userInserted readOne with user stubailo is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "admin", id: "59626ead9506339804845128",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "editor"}) {
    id
  }
}

2017-07-09 19:58:05  insert user create with user tobkle is authorized
2017-07-09 19:58:05  inserted user 59626ead9506339804845129.
2017-07-09 19:58:05  pubsub userInserted readOne with user tobkle is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "admin", id: "59626ead9506339804845128",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59626ead9506339804845129") {
    username
    bio
    role
  }
}

2017-07-09 19:58:05  user readOne with user tobkle is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "admin", id: "59626ead9506339804845128",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59626ead9506339804845128") {
    username
    role
  }
}

2017-07-09 19:58:05  user readOne with user tobkle is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "admin", id: "59626ead9506339804845128",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59626ead9506339804845129", input: {username: "zoltan", bio: "Maker of things, I guess", role: "editor"}) {
    username
    bio
    role
  }
}

2017-07-09 19:58:05  update user update with user tobkle is authorized
2017-07-09 19:58:05  updated user 59626ead9506339804845129.
2017-07-09 19:58:05  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "admin", id: "59626ead9506339804845128",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59626ead9506339804845128", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 19:58:05  update user update with user tobkle is authorized
2017-07-09 19:58:05  updated user 59626ead9506339804845128.
2017-07-09 19:58:05  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "admin", id: "59626ead9506339804845128",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59626ead9506339804845129", input: {username: "zoltan", bio: "now an admin", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 19:58:05  update user update with user tobkle is authorized
2017-07-09 19:58:05  updated user 59626ead9506339804845129.
2017-07-09 19:58:05  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "admin", id: "59626ead9506339804845128",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59626ead9506339804845128", input: {username: "tobkle", bio: "Maker of things, I guess", role: "editor"}) {
    username
    bio
    role
  }
}

2017-07-09 19:58:05  update user update with user tobkle is authorized
2017-07-09 19:58:05  updated user 59626ead9506339804845128.
2017-07-09 19:58:05  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "editor", id: "59626ead9506339804845128",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59626ead9506339804845128", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "_id": "59626ead9506339804845128"
    }
  ]
}
2017-07-09 19:58:05  ERROR Not authorized to update field "role"
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "zoltan", role: "admin", id: "59626ead9506339804845129",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59626ead9506339804845128", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 19:58:05  update user update with user zoltan is authorized
2017-07-09 19:58:05  updated user 59626ead9506339804845128.
2017-07-09 19:58:05  pubsub userUpdated readOne with user zoltan is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "admin", id: "59626ead9506339804845128",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "59626ead9506339804845129")
}

2017-07-09 19:58:05  removeUser delete with user tobkle is authorized
2017-07-09 19:58:05  removed user 59626ead9506339804845129.
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "admin", id: "59626ead9506339804845128",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "59626ead9506339804845128", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 19:58:05  insert tweet create with user tobkle is authorized
2017-07-09 19:58:05  inserted tweet 59626ead950633980484512a.
2017-07-09 19:58:05  pubsub tweetInserted readOne with user tobkle is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "admin", id: "59626ead9506339804845128",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 19:58:05  insert tweet create with user tobkle is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "admin", id: "59626ead9506339804845128",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59626ead950633980484512a") {
    author {
      id
    }
    body
  }
}

2017-07-09 19:58:05  tweet readOne with user tobkle is authorized
2017-07-09 19:58:05  inserted tweet 59626ead950633980484512b.
2017-07-09 19:58:05  pubsub tweetInserted readOne with user tobkle is authorized
2017-07-09 19:58:05  author readOne with user tobkle is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "admin", id: "59626ead9506339804845128",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 19:58:05  tweet readOne with user tobkle is authorized
2017-07-09 19:58:05  author readOne with user tobkle is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "admin", id: "59626ead9506339804845128",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "59626ead950633980484512a", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 19:58:05  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 19:58:05  update tweet update with user tobkle is authorized
2017-07-09 19:58:05  updated tweet 59626ead950633980484512a.
2017-07-09 19:58:05  pubsub tweetUpdated readOne with user tobkle is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "admin", id: "59626ead9506339804845128",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "59626ead950633980484512b", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 19:58:05  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 19:58:05  update tweet update with user tobkle is authorized
2017-07-09 19:58:05  updated tweet 59626ead950633980484512b.
2017-07-09 19:58:05  pubsub tweetUpdated readOne with user tobkle is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "admin", id: "59626ead9506339804845128",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59626ead950633980484512a") {
    body
  }
}

2017-07-09 19:58:05  tweet readOne with user tobkle is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "admin", id: "59626ead9506339804845128",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "59626ead950633980484512a")
}

2017-07-09 19:58:05  removeTweet delete with user tobkle is authorized
2017-07-09 19:58:05  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 19:58:05  removed tweet 59626ead950633980484512a.
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "admin", id: "59626ead9506339804845128",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "59626ead950633980484512b")
}

2017-07-09 19:58:05  removeTweet delete with user tobkle is authorized
2017-07-09 19:58:05  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 19:58:05  removed tweet 59626ead950633980484512b.
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "admin", id: "59626ead9506339804845128",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59626ead950633980484512a") {
    body
  }
}

2017-07-09 19:58:05  tweet readOne with user tobkle is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "admin", id: "59626ead9506339804845128",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "59626ead9506339804845128")
}

2017-07-09 19:58:05  removeUser delete with user tobkle is authorized
2017-07-09 19:58:05  removed user 59626ead9506339804845128.
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59626ead9506339804845128") {
    username
    bio
    role
  }
}

2017-07-09 19:58:05  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "user"}) {
    id
  }
}

2017-07-09 19:58:05  ERROR Authorization: Not authorized to create in insert user.
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    username
    bio
    role
  }
}

2017-07-09 19:58:05  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "583291a1638566b3c5a92ca1", input: {username: "zoltan", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 19:58:05  ERROR Authorization: Not authorized to update in update user.
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "583291a1638566b3c5a92ca1")
}

2017-07-09 19:58:05  ERROR Authorization: Not authorized to delete in removeUser.
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 19:58:05  ERROR Authorization: Not authorized to create in insert tweet.
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 19:58:05  tweet readOne with user <no-user> is authorized
2017-07-09 19:58:05  ERROR Authorization: Not authorized to readOne in author.
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 19:58:05  tweet getOneById in updateById for docBefore readOne with user <no-user> is authorized
2017-07-09 19:58:05  ERROR Authorization: Not authorized to update in update tweet.
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 19:58:05  tweet getOneById in updateById for docBefore readOne with user <no-user> is authorized
2017-07-09 19:58:05  ERROR Authorization: Not authorized to update in update tweet.
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "583676d3618530145474e352")
}

2017-07-09 19:58:05  ERROR Authorization: Not authorized to delete in removeTweet.
2017-07-09 19:58:05  tweet getOneById in removeById for docBefore readOne with user <no-user> is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "tobkle", bio: "someone", role: "user"}) {
    id
    role
  }
}

2017-07-09 19:58:05  insert user create with user stubailo is authorized
2017-07-09 19:58:05  inserted user 59626ead950633980484512c.
2017-07-09 19:58:05  pubsub userInserted readOne with user stubailo is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "user", id: "59626ead950633980484512c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "user"}) {
    id
  }
}

2017-07-09 19:58:05  authQuery: {
  "$or": []
}
2017-07-09 19:58:05  ERROR Authorization: Not authorized to create in insert user.
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "user", id: "59626ead950633980484512c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    username
    bio
    role
  }
}

2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "_id": "59626ead950633980484512c"
    }
  ]
}
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "user", id: "59626ead950633980484512c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59626ead950633980484512c") {
    username
  }
}

2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "_id": "59626ead950633980484512c"
    }
  ]
}
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "user", id: "59626ead950633980484512c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59626ead950633980484512c") {
    username
    role
  }
}

2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "_id": "59626ead950633980484512c"
    }
  ]
}
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "user", id: "59626ead950633980484512c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "583291a1638566b3c5a92ca1", input: {username: "zoltan", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "_id": "59626ead950633980484512c"
    }
  ]
}
2017-07-09 19:58:05  ERROR Not authorized to update user
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "user", id: "59626ead950633980484512c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59626ead950633980484512c", input: {username: "tobkle", bio: "Maker of things, I guess"}) {
    username
    bio
  }
}

2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "_id": "59626ead950633980484512c"
    }
  ]
}
2017-07-09 19:58:05  updated user 59626ead950633980484512c.
2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "_id": "59626ead950633980484512c"
    }
  ]
}
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "user", id: "59626ead950633980484512c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59626ead950633980484512c", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "_id": "59626ead950633980484512c"
    }
  ]
}
2017-07-09 19:58:05  ERROR Not authorized to update field "role"
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "user", id: "59626ead950633980484512c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "583291a1638566b3c5a92ca1")
}

2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "_id": "59626ead950633980484512c"
    }
  ]
}
2017-07-09 19:58:05  ERROR remove user failed for finalQuery: {
  "_id": "583291a1638566b3c5a92ca1",
  "$or": [
    {
      "_id": "59626ead950633980484512c"
    }
  ]
}
2017-07-09 19:58:05  ERROR remove user not possible for 583291a1638566b3c5a92ca1.
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "user", id: "59626ead950633980484512c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "59626ead950633980484512c", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "authorId": "59626ead950633980484512c"
    }
  ]
}
2017-07-09 19:58:05  inserted tweet 59626ead950633980484512d.
2017-07-09 19:58:05  pubsub tweetInserted readOne with user tobkle is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "user", id: "59626ead950633980484512c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "authorId": "59626ead950633980484512c"
    }
  ]
}
2017-07-09 19:58:05  ERROR Not authorized to insert tweet
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "user", id: "59626ead950633980484512c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59626ead950633980484512d") {
    author {
      id
    }
    body
  }
}

2017-07-09 19:58:05  tweet readOne with user tobkle is authorized
2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "_id": "59626ead950633980484512c"
    }
  ]
}
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "user", id: "59626ead950633980484512c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 19:58:05  tweet readOne with user tobkle is authorized
2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "_id": "59626ead950633980484512c"
    }
  ]
}
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "user", id: "59626ead950633980484512c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "59626ead950633980484512d", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 19:58:05  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "authorId": "59626ead950633980484512c"
    },
    {
      "coauthorsIds": "59626ead950633980484512c"
    }
  ]
}
2017-07-09 19:58:05  updated tweet 59626ead950633980484512d.
2017-07-09 19:58:05  pubsub tweetUpdated readOne with user tobkle is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "user", id: "59626ead950633980484512c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 19:58:05  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "authorId": "59626ead950633980484512c"
    },
    {
      "coauthorsIds": "59626ead950633980484512c"
    }
  ]
}
2017-07-09 19:58:05  ERROR Not authorized to update tweet
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "user", id: "59626ead950633980484512c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59626ead950633980484512d") {
    body
  }
}

2017-07-09 19:58:05  tweet readOne with user tobkle is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "user", id: "59626ead950633980484512c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "59626ead950633980484512d")
}

2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "authorId": "59626ead950633980484512c"
    }
  ]
}
2017-07-09 19:58:05  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 19:58:05  removed tweet 59626ead950633980484512d.
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "user", id: "59626ead950633980484512c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "583676d3618530145474e352")
}

2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "authorId": "59626ead950633980484512c"
    }
  ]
}
2017-07-09 19:58:05  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 19:58:05  ERROR remove tweet failed for finalQuery: {
  "_id": "583676d3618530145474e352",
  "$or": [
    {
      "authorId": "59626ead950633980484512c"
    }
  ]
}
2017-07-09 19:58:05  ERROR remove tweet not possible for 583676d3618530145474e352.
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "user", id: "59626ead950633980484512c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59626ead950633980484512d") {
    body
  }
}

2017-07-09 19:58:05  tweet readOne with user tobkle is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "user", id: "59626ead950633980484512c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "59626ead950633980484512c")
}

2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "_id": "59626ead950633980484512c"
    }
  ]
}
2017-07-09 19:58:05  removed user 59626ead950633980484512c.
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59626ead950633980484512c") {
    username
    bio
    role
  }
}

2017-07-09 19:58:05  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "tobkle", bio: "someone", role: "editor"}) {
    id
    role
  }
}

2017-07-09 19:58:05  insert user create with user stubailo is authorized
2017-07-09 19:58:05  inserted user 59626ead950633980484512e.
2017-07-09 19:58:05  pubsub userInserted readOne with user stubailo is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "editor", id: "59626ead950633980484512e",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "editor"}) {
    id
  }
}

2017-07-09 19:58:05  authQuery: {
  "$or": []
}
2017-07-09 19:58:05  ERROR Authorization: Not authorized to create in insert user.
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "editor", id: "59626ead950633980484512e",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    username
    bio
    role
  }
}

2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "_id": "59626ead950633980484512e"
    }
  ]
}
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "editor", id: "59626ead950633980484512e",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59626ead950633980484512e") {
    username
    role
  }
}

2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "_id": "59626ead950633980484512e"
    }
  ]
}
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "editor", id: "59626ead950633980484512e",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "583291a1638566b3c5a92ca1", input: {username: "zoltan", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "_id": "59626ead950633980484512e"
    }
  ]
}
2017-07-09 19:58:05  ERROR Not authorized to update user
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tobkle", role: "editor", id: "59626ead950633980484512e",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59626ead950633980484512e", input: {username: "tmeasday", bio: "Maker of things, I guess"}) {
    username
    bio
  }
}

2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "_id": "59626ead950633980484512e"
    }
  ]
}
2017-07-09 19:58:05  updated user 59626ead950633980484512e.
2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "_id": "59626ead950633980484512e"
    }
  ]
}
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tmeasday", role: "editor", id: "59626ead950633980484512e",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59626ead950633980484512e", input: {username: "tmeasday", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "_id": "59626ead950633980484512e"
    }
  ]
}
2017-07-09 19:58:05  ERROR Not authorized to update field "role"
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tmeasday", role: "editor", id: "59626ead950633980484512e",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "583291a1638566b3c5a92ca1")
}

2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "_id": "59626ead950633980484512e"
    }
  ]
}
2017-07-09 19:58:05  ERROR remove user failed for finalQuery: {
  "_id": "583291a1638566b3c5a92ca1",
  "$or": [
    {
      "_id": "59626ead950633980484512e"
    }
  ]
}
2017-07-09 19:58:05  ERROR remove user not possible for 583291a1638566b3c5a92ca1.
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tmeasday", role: "editor", id: "59626ead950633980484512e",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "59626ead950633980484512e", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "authorId": "59626ead950633980484512e"
    }
  ]
}
2017-07-09 19:58:05  inserted tweet 59626ead950633980484512f.
2017-07-09 19:58:05  pubsub tweetInserted readOne with user tmeasday is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tmeasday", role: "editor", id: "59626ead950633980484512e",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "authorId": "59626ead950633980484512e"
    }
  ]
}
2017-07-09 19:58:05  ERROR Not authorized to insert tweet
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tmeasday", role: "editor", id: "59626ead950633980484512e",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59626ead950633980484512f") {
    author {
      id
    }
    body
  }
}

2017-07-09 19:58:05  tweet readOne with user tmeasday is authorized
2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "_id": "59626ead950633980484512e"
    }
  ]
}
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tmeasday", role: "editor", id: "59626ead950633980484512e",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 19:58:05  tweet readOne with user tmeasday is authorized
2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "_id": "59626ead950633980484512e"
    }
  ]
}
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tmeasday", role: "editor", id: "59626ead950633980484512e",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "59626ead950633980484512f", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 19:58:05  tweet getOneById in updateById for docBefore readOne with user tmeasday is authorized
2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "authorId": "59626ead950633980484512e"
    },
    {
      "coauthorsIds": "59626ead950633980484512e"
    }
  ]
}
2017-07-09 19:58:05  updated tweet 59626ead950633980484512f.
2017-07-09 19:58:05  pubsub tweetUpdated readOne with user tmeasday is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tmeasday", role: "editor", id: "59626ead950633980484512e",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 19:58:05  tweet getOneById in updateById for docBefore readOne with user tmeasday is authorized
2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "authorId": "59626ead950633980484512e"
    },
    {
      "coauthorsIds": "59626ead950633980484512e"
    }
  ]
}
2017-07-09 19:58:05  ERROR Not authorized to update tweet
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tmeasday", role: "editor", id: "59626ead950633980484512e",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59626ead950633980484512f") {
    body
  }
}

2017-07-09 19:58:05  tweet readOne with user tmeasday is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tmeasday", role: "editor", id: "59626ead950633980484512e",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "59626ead950633980484512f")
}

2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "authorId": "59626ead950633980484512e"
    }
  ]
}
2017-07-09 19:58:05  tweet getOneById in removeById for docBefore readOne with user tmeasday is authorized
2017-07-09 19:58:05  removed tweet 59626ead950633980484512f.
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tmeasday", role: "editor", id: "59626ead950633980484512e",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "583676d3618530145474e352")
}

2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "authorId": "59626ead950633980484512e"
    }
  ]
}
2017-07-09 19:58:05  tweet getOneById in removeById for docBefore readOne with user tmeasday is authorized
2017-07-09 19:58:05  ERROR remove tweet failed for finalQuery: {
  "_id": "583676d3618530145474e352",
  "$or": [
    {
      "authorId": "59626ead950633980484512e"
    }
  ]
}
2017-07-09 19:58:05  ERROR remove tweet not possible for 583676d3618530145474e352.
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tmeasday", role: "editor", id: "59626ead950633980484512e",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59626ead950633980484512f") {
    body
  }
}

2017-07-09 19:58:05  tweet readOne with user tmeasday is authorized
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "tmeasday", role: "editor", id: "59626ead950633980484512e",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "59626ead950633980484512e")
}

2017-07-09 19:58:05  authQuery: {
  "$or": [
    {
      "_id": "59626ead950633980484512e"
    }
  ]
}
2017-07-09 19:58:05  removed user 59626ead950633980484512e.
2017-07-09 19:58:05  --------------------------------------------------------------------------------
2017-07-09 19:58:05  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59626ead950633980484512e") {
    username
    bio
    role
  }
}

2017-07-09 19:58:05  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 19:59:58  Logger started
2017-07-09 20:01:09  Logger started
2017-07-09 20:03:22  Logger started
2017-07-09 20:04:03  --------------------------------------------------------------------------------
2017-07-09 20:04:03  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  __schema {
    queryType {
      name
    }
  }
}

2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  __schema {
    queryType {
      name
    }
  }
}

2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    role
    username
  }
}

2017-07-09 20:04:15  user readOne with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    role
    username
  }
}

2017-07-09 20:04:15  user readOne with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca2") {
    role
    username
  }
}

2017-07-09 20:04:15  user readOne with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    id
    username
    bio
  }
}

2017-07-09 20:04:15  user readOne with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users {
    username
    createdAt
  }
}

2017-07-09 20:04:15  users readMany with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users(limit: 1) {
    username
    createdAt
  }
}

2017-07-09 20:04:15  users readMany with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users(lastCreatedAt: 1479776904993) {
    username
    createdAt
  }
}

2017-07-09 20:04:15  users readMany with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users(lastCreatedAt: 1479776904993, limit: 1) {
    username
    createdAt
  }
}

2017-07-09 20:04:15  users readMany with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers {
      username
      createdAt
    }
  }
}

2017-07-09 20:04:15  user readOne with user stubailo is authorized
2017-07-09 20:04:15  followers readMany with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers(limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:04:15  user readOne with user stubailo is authorized
2017-07-09 20:04:15  followers readMany with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers(lastCreatedAt: 1479776905993) {
      username
      createdAt
    }
  }
}

2017-07-09 20:04:15  user readOne with user stubailo is authorized
2017-07-09 20:04:15  followers readMany with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers(lastCreatedAt: 1479776905993, limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:04:15  user readOne with user stubailo is authorized
2017-07-09 20:04:15  followers readMany with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following {
      username
      createdAt
    }
  }
}

2017-07-09 20:04:15  user readOne with user stubailo is authorized
2017-07-09 20:04:15  following readMany with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following(limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:04:15  user readOne with user stubailo is authorized
2017-07-09 20:04:15  following readMany with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following(lastCreatedAt: 1479776905993) {
      username
      createdAt
    }
  }
}

2017-07-09 20:04:15  user readOne with user stubailo is authorized
2017-07-09 20:04:15  following readMany with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following(lastCreatedAt: 1479776905993, limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:04:15  user readOne with user stubailo is authorized
2017-07-09 20:04:15  following readMany with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets {
      id
      createdAt
    }
  }
}

2017-07-09 20:04:15  user readOne with user stubailo is authorized
2017-07-09 20:04:15  tweets readMany with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets(limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 20:04:15  user readOne with user stubailo is authorized
2017-07-09 20:04:15  tweets readMany with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets(lastCreatedAt: 1479964340853) {
      id
      createdAt
    }
  }
}

2017-07-09 20:04:15  user readOne with user stubailo is authorized
2017-07-09 20:04:15  tweets readMany with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets(lastCreatedAt: 1479964340853, limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 20:04:15  user readOne with user stubailo is authorized
2017-07-09 20:04:15  tweets readMany with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked {
      id
      createdAt
    }
  }
}

2017-07-09 20:04:15  user readOne with user stubailo is authorized
2017-07-09 20:04:15  liked readMany with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked(limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 20:04:15  user readOne with user stubailo is authorized
2017-07-09 20:04:15  liked readMany with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked(lastCreatedAt: 1479964371334) {
      id
      createdAt
    }
  }
}

2017-07-09 20:04:15  user readOne with user stubailo is authorized
2017-07-09 20:04:15  liked readMany with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked(lastCreatedAt: 1479964371334, limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 20:04:15  user readOne with user stubailo is authorized
2017-07-09 20:04:15  liked readMany with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e351") {
    author {
      username
    }
  }
}

2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e351") {
    id
    body
  }
}

2017-07-09 20:04:15  tweet readOne with user stubailo is authorized
2017-07-09 20:04:15  tweet readOne with user stubailo is authorized
2017-07-09 20:04:15  author readOne with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets {
    id
    createdAt
  }
}

2017-07-09 20:04:15  tweets readMany with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets(limit: 1) {
    id
    createdAt
  }
}

2017-07-09 20:04:15  tweets readMany with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets(lastCreatedAt: 1479964340853) {
    id
    createdAt
  }
}

2017-07-09 20:04:15  tweets readMany with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets(lastCreatedAt: 1479964340853, limit: 1) {
    id
    createdAt
  }
}

2017-07-09 20:04:15  tweets readMany with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers {
      username
      createdAt
    }
  }
}

2017-07-09 20:04:15  tweet readOne with user stubailo is authorized
2017-07-09 20:04:15  likers readMany with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers(limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:04:15  tweet readOne with user stubailo is authorized
2017-07-09 20:04:15  likers readMany with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers(lastCreatedAt: 1479776904993) {
      username
      createdAt
    }
  }
}

2017-07-09 20:04:15  tweet readOne with user stubailo is authorized
2017-07-09 20:04:15  likers readMany with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers(lastCreatedAt: 1479776904993, limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:04:15  tweet readOne with user stubailo is authorized
2017-07-09 20:04:15  likers readMany with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "tobkle", bio: "someone", role: "admin"}) {
    id
    role
  }
}

2017-07-09 20:04:15  insert user create with user stubailo is authorized
2017-07-09 20:04:15  inserted user 5962701fbd5b289911a30965.
2017-07-09 20:04:15  pubsub userInserted readOne with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "tobkle", role: "admin", id: "5962701fbd5b289911a30965",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "editor"}) {
    id
  }
}

2017-07-09 20:04:15  insert user create with user tobkle is authorized
2017-07-09 20:04:15  inserted user 5962701fbd5b289911a30966.
2017-07-09 20:04:15  pubsub userInserted readOne with user tobkle is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "tobkle", role: "admin", id: "5962701fbd5b289911a30965",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "5962701fbd5b289911a30966") {
    username
    bio
    role
  }
}

2017-07-09 20:04:15  user readOne with user tobkle is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "tobkle", role: "admin", id: "5962701fbd5b289911a30965",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "5962701fbd5b289911a30965") {
    username
    role
  }
}

2017-07-09 20:04:15  user readOne with user tobkle is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "tobkle", role: "admin", id: "5962701fbd5b289911a30965",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "5962701fbd5b289911a30966", input: {username: "zoltan", bio: "Maker of things, I guess", role: "editor"}) {
    username
    bio
    role
  }
}

2017-07-09 20:04:15  update user update with user tobkle is authorized
2017-07-09 20:04:15  updated user 5962701fbd5b289911a30966.
2017-07-09 20:04:15  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "tobkle", role: "admin", id: "5962701fbd5b289911a30965",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "5962701fbd5b289911a30965", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:04:15  update user update with user tobkle is authorized
2017-07-09 20:04:15  updated user 5962701fbd5b289911a30965.
2017-07-09 20:04:15  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "tobkle", role: "admin", id: "5962701fbd5b289911a30965",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "5962701fbd5b289911a30966", input: {username: "zoltan", bio: "now an admin", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:04:15  update user update with user tobkle is authorized
2017-07-09 20:04:15  updated user 5962701fbd5b289911a30966.
2017-07-09 20:04:15  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "tobkle", role: "admin", id: "5962701fbd5b289911a30965",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "5962701fbd5b289911a30965", input: {username: "tobkle", bio: "Maker of things, I guess", role: "editor"}) {
    username
    bio
    role
  }
}

2017-07-09 20:04:15  update user update with user tobkle is authorized
2017-07-09 20:04:15  updated user 5962701fbd5b289911a30965.
2017-07-09 20:04:15  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "tobkle", role: "editor", id: "5962701fbd5b289911a30965",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "5962701fbd5b289911a30965", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:04:15  authQuery: {
  "$or": [
    {
      "_id": "5962701fbd5b289911a30965"
    }
  ]
}
2017-07-09 20:04:15  ERROR Not authorized to update field "role"
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "zoltan", role: "admin", id: "5962701fbd5b289911a30966",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "5962701fbd5b289911a30965", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:04:15  update user update with user zoltan is authorized
2017-07-09 20:04:15  updated user 5962701fbd5b289911a30965.
2017-07-09 20:04:15  pubsub userUpdated readOne with user zoltan is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "tobkle", role: "admin", id: "5962701fbd5b289911a30965",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "5962701fbd5b289911a30966")
}

2017-07-09 20:04:15  removeUser delete with user tobkle is authorized
2017-07-09 20:04:15  removed user 5962701fbd5b289911a30966.
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "tobkle", role: "admin", id: "5962701fbd5b289911a30965",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "5962701fbd5b289911a30965", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 20:04:15  insert tweet create with user tobkle is authorized
2017-07-09 20:04:15  inserted tweet 5962701fbd5b289911a30967.
2017-07-09 20:04:15  pubsub tweetInserted readOne with user tobkle is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "tobkle", role: "admin", id: "5962701fbd5b289911a30965",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "5962701fbd5b289911a30967") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:04:15  tweet readOne with user tobkle is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "tobkle", role: "admin", id: "5962701fbd5b289911a30965",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 20:04:15  insert tweet create with user tobkle is authorized
2017-07-09 20:04:15  author readOne with user tobkle is authorized
2017-07-09 20:04:15  inserted tweet 5962701fbd5b289911a30968.
2017-07-09 20:04:15  pubsub tweetInserted readOne with user tobkle is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "tobkle", role: "admin", id: "5962701fbd5b289911a30965",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:04:15  tweet readOne with user tobkle is authorized
2017-07-09 20:04:15  author readOne with user tobkle is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "tobkle", role: "admin", id: "5962701fbd5b289911a30965",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "5962701fbd5b289911a30967", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:04:15  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 20:04:15  update tweet update with user tobkle is authorized
2017-07-09 20:04:15  updated tweet 5962701fbd5b289911a30967.
2017-07-09 20:04:15  pubsub tweetUpdated readOne with user tobkle is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "tobkle", role: "admin", id: "5962701fbd5b289911a30965",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "5962701fbd5b289911a30968", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:04:15  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 20:04:15  update tweet update with user tobkle is authorized
2017-07-09 20:04:15  updated tweet 5962701fbd5b289911a30968.
2017-07-09 20:04:15  pubsub tweetUpdated readOne with user tobkle is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "tobkle", role: "admin", id: "5962701fbd5b289911a30965",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "5962701fbd5b289911a30967") {
    body
  }
}

2017-07-09 20:04:15  tweet readOne with user tobkle is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "tobkle", role: "admin", id: "5962701fbd5b289911a30965",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "5962701fbd5b289911a30967")
}

2017-07-09 20:04:15  removeTweet delete with user tobkle is authorized
2017-07-09 20:04:15  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 20:04:15  removed tweet 5962701fbd5b289911a30967.
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "tobkle", role: "admin", id: "5962701fbd5b289911a30965",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "5962701fbd5b289911a30968")
}

2017-07-09 20:04:15  removeTweet delete with user tobkle is authorized
2017-07-09 20:04:15  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 20:04:15  removed tweet 5962701fbd5b289911a30968.
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "tobkle", role: "admin", id: "5962701fbd5b289911a30965",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "5962701fbd5b289911a30967") {
    body
  }
}

2017-07-09 20:04:15  tweet readOne with user tobkle is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "tobkle", role: "admin", id: "5962701fbd5b289911a30965",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "5962701fbd5b289911a30965")
}

2017-07-09 20:04:15  removeUser delete with user tobkle is authorized
2017-07-09 20:04:15  removed user 5962701fbd5b289911a30965.
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "5962701fbd5b289911a30965") {
    username
    bio
    role
  }
}

2017-07-09 20:04:15  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "user"}) {
    id
  }
}

2017-07-09 20:04:15  ERROR Authorization: Not authorized to create in insert user.
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    username
    bio
    role
  }
}

2017-07-09 20:04:15  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "583291a1638566b3c5a92ca1", input: {username: "zoltan", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:04:15  ERROR Authorization: Not authorized to update in update user.
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "583291a1638566b3c5a92ca1")
}

2017-07-09 20:04:15  ERROR Authorization: Not authorized to delete in removeUser.
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 20:04:15  ERROR Authorization: Not authorized to create in insert tweet.
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:04:15  tweet readOne with user <no-user> is authorized
2017-07-09 20:04:15  ERROR Authorization: Not authorized to readOne in author.
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:04:15  tweet getOneById in updateById for docBefore readOne with user <no-user> is authorized
2017-07-09 20:04:15  ERROR Authorization: Not authorized to update in update tweet.
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:04:15  tweet getOneById in updateById for docBefore readOne with user <no-user> is authorized
2017-07-09 20:04:15  ERROR Authorization: Not authorized to update in update tweet.
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "583676d3618530145474e352")
}

2017-07-09 20:04:15  ERROR Authorization: Not authorized to delete in removeTweet.
2017-07-09 20:04:15  tweet getOneById in removeById for docBefore readOne with user <no-user> is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "tobkle", bio: "someone", role: "user"}) {
    id
    role
  }
}

2017-07-09 20:04:15  insert user create with user stubailo is authorized
2017-07-09 20:04:15  inserted user 5962701fbd5b289911a30969.
2017-07-09 20:04:15  pubsub userInserted readOne with user stubailo is authorized
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "tobkle", role: "user", id: "5962701fbd5b289911a30969",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "user"}) {
    id
  }
}

2017-07-09 20:04:15  authQuery: {
  "$or": []
}
2017-07-09 20:04:15  ERROR Authorization: Not authorized to create in insert user.
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "tobkle", role: "user", id: "5962701fbd5b289911a30969",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    username
    bio
    role
  }
}

2017-07-09 20:04:15  authQuery: {
  "$or": [
    {
      "_id": "5962701fbd5b289911a30969"
    }
  ]
}
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "tobkle", role: "user", id: "5962701fbd5b289911a30969",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "5962701fbd5b289911a30969") {
    username
  }
}

2017-07-09 20:04:15  authQuery: {
  "$or": [
    {
      "_id": "5962701fbd5b289911a30969"
    }
  ]
}
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "tobkle", role: "user", id: "5962701fbd5b289911a30969",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "5962701fbd5b289911a30969") {
    username
    role
  }
}

2017-07-09 20:04:15  authQuery: {
  "$or": [
    {
      "_id": "5962701fbd5b289911a30969"
    }
  ]
}
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "tobkle", role: "user", id: "5962701fbd5b289911a30969",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "583291a1638566b3c5a92ca1", input: {username: "zoltan", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:04:15  authQuery: {
  "$or": [
    {
      "_id": "5962701fbd5b289911a30969"
    }
  ]
}
2017-07-09 20:04:15  ERROR Not authorized to update user
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "tobkle", role: "user", id: "5962701fbd5b289911a30969",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "5962701fbd5b289911a30969", input: {username: "tobkle", bio: "Maker of things, I guess"}) {
    username
    bio
  }
}

2017-07-09 20:04:15  authQuery: {
  "$or": [
    {
      "_id": "5962701fbd5b289911a30969"
    }
  ]
}
2017-07-09 20:04:15  updated user 5962701fbd5b289911a30969.
2017-07-09 20:04:15  authQuery: {
  "$or": [
    {
      "_id": "5962701fbd5b289911a30969"
    }
  ]
}
2017-07-09 20:04:15  --------------------------------------------------------------------------------
2017-07-09 20:04:15  Request:
User: "tobkle", role: "user", id: "5962701fbd5b289911a30969",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "5962701fbd5b289911a30969", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:04:15  authQuery: {
  "$or": [
    {
      "_id": "5962701fbd5b289911a30969"
    }
  ]
}
2017-07-09 20:04:15  ERROR Not authorized to update field "role"
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "tobkle", role: "user", id: "5962701fbd5b289911a30969",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "583291a1638566b3c5a92ca1")
}

2017-07-09 20:04:16  authQuery: {
  "$or": [
    {
      "_id": "5962701fbd5b289911a30969"
    }
  ]
}
2017-07-09 20:04:16  ERROR remove user failed for finalQuery: {
  "_id": "583291a1638566b3c5a92ca1",
  "$or": [
    {
      "_id": "5962701fbd5b289911a30969"
    }
  ]
}
2017-07-09 20:04:16  ERROR remove user not possible for 583291a1638566b3c5a92ca1.
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "tobkle", role: "user", id: "5962701fbd5b289911a30969",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "5962701fbd5b289911a30969", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 20:04:16  authQuery: {
  "$or": [
    {
      "authorId": "5962701fbd5b289911a30969"
    }
  ]
}
2017-07-09 20:04:16  inserted tweet 59627020bd5b289911a3096a.
2017-07-09 20:04:16  pubsub tweetInserted readOne with user tobkle is authorized
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "tobkle", role: "user", id: "5962701fbd5b289911a30969",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 20:04:16  authQuery: {
  "$or": [
    {
      "authorId": "5962701fbd5b289911a30969"
    }
  ]
}
2017-07-09 20:04:16  ERROR Not authorized to insert tweet
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "tobkle", role: "user", id: "5962701fbd5b289911a30969",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59627020bd5b289911a3096a") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:04:16  tweet readOne with user tobkle is authorized
2017-07-09 20:04:16  authQuery: {
  "$or": [
    {
      "_id": "5962701fbd5b289911a30969"
    }
  ]
}
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "tobkle", role: "user", id: "5962701fbd5b289911a30969",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:04:16  tweet readOne with user tobkle is authorized
2017-07-09 20:04:16  authQuery: {
  "$or": [
    {
      "_id": "5962701fbd5b289911a30969"
    }
  ]
}
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "tobkle", role: "user", id: "5962701fbd5b289911a30969",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "59627020bd5b289911a3096a", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:04:16  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 20:04:16  authQuery: {
  "$or": [
    {
      "authorId": "5962701fbd5b289911a30969"
    },
    {
      "coauthorsIds": "5962701fbd5b289911a30969"
    }
  ]
}
2017-07-09 20:04:16  updated tweet 59627020bd5b289911a3096a.
2017-07-09 20:04:16  pubsub tweetUpdated readOne with user tobkle is authorized
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "tobkle", role: "user", id: "5962701fbd5b289911a30969",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:04:16  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 20:04:16  authQuery: {
  "$or": [
    {
      "authorId": "5962701fbd5b289911a30969"
    },
    {
      "coauthorsIds": "5962701fbd5b289911a30969"
    }
  ]
}
2017-07-09 20:04:16  ERROR Not authorized to update tweet
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "tobkle", role: "user", id: "5962701fbd5b289911a30969",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59627020bd5b289911a3096a") {
    body
  }
}

2017-07-09 20:04:16  tweet readOne with user tobkle is authorized
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "tobkle", role: "user", id: "5962701fbd5b289911a30969",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "59627020bd5b289911a3096a")
}

2017-07-09 20:04:16  authQuery: {
  "$or": [
    {
      "authorId": "5962701fbd5b289911a30969"
    }
  ]
}
2017-07-09 20:04:16  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 20:04:16  removed tweet 59627020bd5b289911a3096a.
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "tobkle", role: "user", id: "5962701fbd5b289911a30969",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "583676d3618530145474e352")
}

2017-07-09 20:04:16  authQuery: {
  "$or": [
    {
      "authorId": "5962701fbd5b289911a30969"
    }
  ]
}
2017-07-09 20:04:16  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 20:04:16  ERROR remove tweet failed for finalQuery: {
  "_id": "583676d3618530145474e352",
  "$or": [
    {
      "authorId": "5962701fbd5b289911a30969"
    }
  ]
}
2017-07-09 20:04:16  ERROR remove tweet not possible for 583676d3618530145474e352.
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "tobkle", role: "user", id: "5962701fbd5b289911a30969",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59627020bd5b289911a3096a") {
    body
  }
}

2017-07-09 20:04:16  tweet readOne with user tobkle is authorized
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "tobkle", role: "user", id: "5962701fbd5b289911a30969",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "5962701fbd5b289911a30969")
}

2017-07-09 20:04:16  authQuery: {
  "$or": [
    {
      "_id": "5962701fbd5b289911a30969"
    }
  ]
}
2017-07-09 20:04:16  removed user 5962701fbd5b289911a30969.
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "5962701fbd5b289911a30969") {
    username
    bio
    role
  }
}

2017-07-09 20:04:16  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "tobkle", bio: "someone", role: "editor"}) {
    id
    role
  }
}

2017-07-09 20:04:16  insert user create with user stubailo is authorized
2017-07-09 20:04:16  inserted user 59627020bd5b289911a3096b.
2017-07-09 20:04:16  pubsub userInserted readOne with user stubailo is authorized
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "tobkle", role: "editor", id: "59627020bd5b289911a3096b",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "editor"}) {
    id
  }
}

2017-07-09 20:04:16  authQuery: {
  "$or": []
}
2017-07-09 20:04:16  ERROR Authorization: Not authorized to create in insert user.
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "tobkle", role: "editor", id: "59627020bd5b289911a3096b",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    username
    bio
    role
  }
}

2017-07-09 20:04:16  authQuery: {
  "$or": [
    {
      "_id": "59627020bd5b289911a3096b"
    }
  ]
}
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "tobkle", role: "editor", id: "59627020bd5b289911a3096b",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59627020bd5b289911a3096b") {
    username
    role
  }
}

2017-07-09 20:04:16  authQuery: {
  "$or": [
    {
      "_id": "59627020bd5b289911a3096b"
    }
  ]
}
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "tobkle", role: "editor", id: "59627020bd5b289911a3096b",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "583291a1638566b3c5a92ca1", input: {username: "zoltan", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:04:16  authQuery: {
  "$or": [
    {
      "_id": "59627020bd5b289911a3096b"
    }
  ]
}
2017-07-09 20:04:16  ERROR Not authorized to update user
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "tobkle", role: "editor", id: "59627020bd5b289911a3096b",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59627020bd5b289911a3096b", input: {username: "tmeasday", bio: "Maker of things, I guess"}) {
    username
    bio
  }
}

2017-07-09 20:04:16  authQuery: {
  "$or": [
    {
      "_id": "59627020bd5b289911a3096b"
    }
  ]
}
2017-07-09 20:04:16  updated user 59627020bd5b289911a3096b.
2017-07-09 20:04:16  authQuery: {
  "$or": [
    {
      "_id": "59627020bd5b289911a3096b"
    }
  ]
}
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "tmeasday", role: "editor", id: "59627020bd5b289911a3096b",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59627020bd5b289911a3096b", input: {username: "tmeasday", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:04:16  authQuery: {
  "$or": [
    {
      "_id": "59627020bd5b289911a3096b"
    }
  ]
}
2017-07-09 20:04:16  ERROR Not authorized to update field "role"
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "tmeasday", role: "editor", id: "59627020bd5b289911a3096b",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "583291a1638566b3c5a92ca1")
}

2017-07-09 20:04:16  authQuery: {
  "$or": [
    {
      "_id": "59627020bd5b289911a3096b"
    }
  ]
}
2017-07-09 20:04:16  ERROR remove user failed for finalQuery: {
  "_id": "583291a1638566b3c5a92ca1",
  "$or": [
    {
      "_id": "59627020bd5b289911a3096b"
    }
  ]
}
2017-07-09 20:04:16  ERROR remove user not possible for 583291a1638566b3c5a92ca1.
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "tmeasday", role: "editor", id: "59627020bd5b289911a3096b",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "59627020bd5b289911a3096b", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 20:04:16  authQuery: {
  "$or": [
    {
      "authorId": "59627020bd5b289911a3096b"
    }
  ]
}
2017-07-09 20:04:16  inserted tweet 59627020bd5b289911a3096c.
2017-07-09 20:04:16  pubsub tweetInserted readOne with user tmeasday is authorized
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "tmeasday", role: "editor", id: "59627020bd5b289911a3096b",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 20:04:16  authQuery: {
  "$or": [
    {
      "authorId": "59627020bd5b289911a3096b"
    }
  ]
}
2017-07-09 20:04:16  ERROR Not authorized to insert tweet
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "tmeasday", role: "editor", id: "59627020bd5b289911a3096b",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59627020bd5b289911a3096c") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:04:16  tweet readOne with user tmeasday is authorized
2017-07-09 20:04:16  authQuery: {
  "$or": [
    {
      "_id": "59627020bd5b289911a3096b"
    }
  ]
}
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "tmeasday", role: "editor", id: "59627020bd5b289911a3096b",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:04:16  tweet readOne with user tmeasday is authorized
2017-07-09 20:04:16  authQuery: {
  "$or": [
    {
      "_id": "59627020bd5b289911a3096b"
    }
  ]
}
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "tmeasday", role: "editor", id: "59627020bd5b289911a3096b",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "59627020bd5b289911a3096c", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:04:16  tweet getOneById in updateById for docBefore readOne with user tmeasday is authorized
2017-07-09 20:04:16  authQuery: {
  "$or": [
    {
      "authorId": "59627020bd5b289911a3096b"
    },
    {
      "coauthorsIds": "59627020bd5b289911a3096b"
    }
  ]
}
2017-07-09 20:04:16  updated tweet 59627020bd5b289911a3096c.
2017-07-09 20:04:16  pubsub tweetUpdated readOne with user tmeasday is authorized
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "tmeasday", role: "editor", id: "59627020bd5b289911a3096b",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:04:16  tweet getOneById in updateById for docBefore readOne with user tmeasday is authorized
2017-07-09 20:04:16  authQuery: {
  "$or": [
    {
      "authorId": "59627020bd5b289911a3096b"
    },
    {
      "coauthorsIds": "59627020bd5b289911a3096b"
    }
  ]
}
2017-07-09 20:04:16  ERROR Not authorized to update tweet
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "tmeasday", role: "editor", id: "59627020bd5b289911a3096b",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59627020bd5b289911a3096c") {
    body
  }
}

2017-07-09 20:04:16  tweet readOne with user tmeasday is authorized
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "tmeasday", role: "editor", id: "59627020bd5b289911a3096b",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "59627020bd5b289911a3096c")
}

2017-07-09 20:04:16  authQuery: {
  "$or": [
    {
      "authorId": "59627020bd5b289911a3096b"
    }
  ]
}
2017-07-09 20:04:16  tweet getOneById in removeById for docBefore readOne with user tmeasday is authorized
2017-07-09 20:04:16  removed tweet 59627020bd5b289911a3096c.
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "tmeasday", role: "editor", id: "59627020bd5b289911a3096b",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "583676d3618530145474e352")
}

2017-07-09 20:04:16  authQuery: {
  "$or": [
    {
      "authorId": "59627020bd5b289911a3096b"
    }
  ]
}
2017-07-09 20:04:16  tweet getOneById in removeById for docBefore readOne with user tmeasday is authorized
2017-07-09 20:04:16  ERROR remove tweet failed for finalQuery: {
  "_id": "583676d3618530145474e352",
  "$or": [
    {
      "authorId": "59627020bd5b289911a3096b"
    }
  ]
}
2017-07-09 20:04:16  ERROR remove tweet not possible for 583676d3618530145474e352.
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "tmeasday", role: "editor", id: "59627020bd5b289911a3096b",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59627020bd5b289911a3096c") {
    body
  }
}

2017-07-09 20:04:16  tweet readOne with user tmeasday is authorized
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "tmeasday", role: "editor", id: "59627020bd5b289911a3096b",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "59627020bd5b289911a3096b")
}

2017-07-09 20:04:16  authQuery: {
  "$or": [
    {
      "_id": "59627020bd5b289911a3096b"
    }
  ]
}
2017-07-09 20:04:16  removed user 59627020bd5b289911a3096b.
2017-07-09 20:04:16  --------------------------------------------------------------------------------
2017-07-09 20:04:16  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59627020bd5b289911a3096b") {
    username
    bio
    role
  }
}

2017-07-09 20:04:16  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 20:05:52  Logger started
2017-07-09 20:28:15  Logger started
2017-07-09 20:29:12  Logger started
2017-07-09 20:30:13  Logger started
2017-07-09 20:30:34  --------------------------------------------------------------------------------
2017-07-09 20:30:34  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  __schema {
    queryType {
      name
    }
  }
}

2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  __schema {
    queryType {
      name
    }
  }
}

2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    role
    username
  }
}

2017-07-09 20:30:45  user readOne with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    role
    username
  }
}

2017-07-09 20:30:45  user readOne with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca2") {
    role
    username
  }
}

2017-07-09 20:30:45  user readOne with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    id
    username
    bio
  }
}

2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users {
    username
    createdAt
  }
}

2017-07-09 20:30:45  users readMany with user stubailo is authorized
2017-07-09 20:30:45  user readOne with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users(limit: 1) {
    username
    createdAt
  }
}

2017-07-09 20:30:45  users readMany with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users(lastCreatedAt: 1479776904993) {
    username
    createdAt
  }
}

2017-07-09 20:30:45  users readMany with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users(lastCreatedAt: 1479776904993, limit: 1) {
    username
    createdAt
  }
}

2017-07-09 20:30:45  users readMany with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers {
      username
      createdAt
    }
  }
}

2017-07-09 20:30:45  user readOne with user stubailo is authorized
2017-07-09 20:30:45  followers readMany with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers(limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:30:45  user readOne with user stubailo is authorized
2017-07-09 20:30:45  followers readMany with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers(lastCreatedAt: 1479776905993) {
      username
      createdAt
    }
  }
}

2017-07-09 20:30:45  user readOne with user stubailo is authorized
2017-07-09 20:30:45  followers readMany with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers(lastCreatedAt: 1479776905993, limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:30:45  user readOne with user stubailo is authorized
2017-07-09 20:30:45  followers readMany with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following {
      username
      createdAt
    }
  }
}

2017-07-09 20:30:45  user readOne with user stubailo is authorized
2017-07-09 20:30:45  following readMany with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following(limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:30:45  user readOne with user stubailo is authorized
2017-07-09 20:30:45  following readMany with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following(lastCreatedAt: 1479776905993) {
      username
      createdAt
    }
  }
}

2017-07-09 20:30:45  user readOne with user stubailo is authorized
2017-07-09 20:30:45  following readMany with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following(lastCreatedAt: 1479776905993, limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:30:45  user readOne with user stubailo is authorized
2017-07-09 20:30:45  following readMany with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets {
      id
      createdAt
    }
  }
}

2017-07-09 20:30:45  user readOne with user stubailo is authorized
2017-07-09 20:30:45  tweets readMany with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets(limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 20:30:45  user readOne with user stubailo is authorized
2017-07-09 20:30:45  tweets readMany with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets(lastCreatedAt: 1479964340853) {
      id
      createdAt
    }
  }
}

2017-07-09 20:30:45  user readOne with user stubailo is authorized
2017-07-09 20:30:45  tweets readMany with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets(lastCreatedAt: 1479964340853, limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 20:30:45  user readOne with user stubailo is authorized
2017-07-09 20:30:45  tweets readMany with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked {
      id
      createdAt
    }
  }
}

2017-07-09 20:30:45  user readOne with user stubailo is authorized
2017-07-09 20:30:45  liked readMany with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked(limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 20:30:45  user readOne with user stubailo is authorized
2017-07-09 20:30:45  liked readMany with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked(lastCreatedAt: 1479964371334) {
      id
      createdAt
    }
  }
}

2017-07-09 20:30:45  user readOne with user stubailo is authorized
2017-07-09 20:30:45  liked readMany with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked(lastCreatedAt: 1479964371334, limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 20:30:45  user readOne with user stubailo is authorized
2017-07-09 20:30:45  liked readMany with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e351") {
    id
    body
  }
}

2017-07-09 20:30:45  tweet readOne with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e351") {
    author {
      username
    }
  }
}

2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets {
    id
    createdAt
  }
}

2017-07-09 20:30:45  tweets readMany with user stubailo is authorized
2017-07-09 20:30:45  tweet readOne with user stubailo is authorized
2017-07-09 20:30:45  author readOne with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets(limit: 1) {
    id
    createdAt
  }
}

2017-07-09 20:30:45  tweets readMany with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets(lastCreatedAt: 1479964340853) {
    id
    createdAt
  }
}

2017-07-09 20:30:45  tweets readMany with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets(lastCreatedAt: 1479964340853, limit: 1) {
    id
    createdAt
  }
}

2017-07-09 20:30:45  tweets readMany with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers {
      username
      createdAt
    }
  }
}

2017-07-09 20:30:45  tweet readOne with user stubailo is authorized
2017-07-09 20:30:45  likers readMany with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers(limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:30:45  tweet readOne with user stubailo is authorized
2017-07-09 20:30:45  likers readMany with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers(lastCreatedAt: 1479776904993) {
      username
      createdAt
    }
  }
}

2017-07-09 20:30:45  tweet readOne with user stubailo is authorized
2017-07-09 20:30:45  likers readMany with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers(lastCreatedAt: 1479776904993, limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:30:45  tweet readOne with user stubailo is authorized
2017-07-09 20:30:45  likers readMany with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "tobkle", bio: "someone", role: "admin"}) {
    id
    role
  }
}

2017-07-09 20:30:45  insert user create with user stubailo is authorized
2017-07-09 20:30:45  inserted user 59627655ba519d9b0eb890f9.
2017-07-09 20:30:45  pubsub userInserted readOne with user stubailo is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "tobkle", role: "admin", id: "59627655ba519d9b0eb890f9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "editor"}) {
    id
  }
}

2017-07-09 20:30:45  insert user create with user tobkle is authorized
2017-07-09 20:30:45  inserted user 59627655ba519d9b0eb890fa.
2017-07-09 20:30:45  pubsub userInserted readOne with user tobkle is authorized
2017-07-09 20:30:45  --------------------------------------------------------------------------------
2017-07-09 20:30:45  Request:
User: "tobkle", role: "admin", id: "59627655ba519d9b0eb890f9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59627655ba519d9b0eb890fa") {
    username
    bio
    role
  }
}

2017-07-09 20:30:45  user readOne with user tobkle is authorized
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "admin", id: "59627655ba519d9b0eb890f9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59627655ba519d9b0eb890f9") {
    username
    role
  }
}

2017-07-09 20:30:46  user readOne with user tobkle is authorized
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "admin", id: "59627655ba519d9b0eb890f9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59627655ba519d9b0eb890fa", input: {username: "zoltan", bio: "Maker of things, I guess", role: "editor"}) {
    username
    bio
    role
  }
}

2017-07-09 20:30:46  update user update with user tobkle is authorized
2017-07-09 20:30:46  updated user 59627655ba519d9b0eb890fa.
2017-07-09 20:30:46  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "admin", id: "59627655ba519d9b0eb890f9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59627655ba519d9b0eb890f9", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:30:46  update user update with user tobkle is authorized
2017-07-09 20:30:46  updated user 59627655ba519d9b0eb890f9.
2017-07-09 20:30:46  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "admin", id: "59627655ba519d9b0eb890f9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59627655ba519d9b0eb890fa", input: {username: "zoltan", bio: "now an admin", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:30:46  update user update with user tobkle is authorized
2017-07-09 20:30:46  updated user 59627655ba519d9b0eb890fa.
2017-07-09 20:30:46  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "admin", id: "59627655ba519d9b0eb890f9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59627655ba519d9b0eb890f9", input: {username: "tobkle", bio: "Maker of things, I guess", role: "editor"}) {
    username
    bio
    role
  }
}

2017-07-09 20:30:46  update user update with user tobkle is authorized
2017-07-09 20:30:46  updated user 59627655ba519d9b0eb890f9.
2017-07-09 20:30:46  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "editor", id: "59627655ba519d9b0eb890f9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59627655ba519d9b0eb890f9", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "_id": "59627655ba519d9b0eb890f9"
    }
  ]
}
2017-07-09 20:30:46  ERROR Not authorized to update field "role"
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "zoltan", role: "admin", id: "59627655ba519d9b0eb890fa",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59627655ba519d9b0eb890f9", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:30:46  update user update with user zoltan is authorized
2017-07-09 20:30:46  updated user 59627655ba519d9b0eb890f9.
2017-07-09 20:30:46  pubsub userUpdated readOne with user zoltan is authorized
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "admin", id: "59627655ba519d9b0eb890f9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "59627655ba519d9b0eb890fa")
}

2017-07-09 20:30:46  removeUser delete with user tobkle is authorized
2017-07-09 20:30:46  removed user 59627655ba519d9b0eb890fa.
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "admin", id: "59627655ba519d9b0eb890f9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "59627655ba519d9b0eb890f9", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 20:30:46  insert tweet create with user tobkle is authorized
2017-07-09 20:30:46  inserted tweet 59627656ba519d9b0eb890fb.
2017-07-09 20:30:46  pubsub tweetInserted readOne with user tobkle is authorized
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "admin", id: "59627655ba519d9b0eb890f9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 20:30:46  insert tweet create with user tobkle is authorized
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "admin", id: "59627655ba519d9b0eb890f9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59627656ba519d9b0eb890fb") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:30:46  tweet readOne with user tobkle is authorized
2017-07-09 20:30:46  inserted tweet 59627656ba519d9b0eb890fc.
2017-07-09 20:30:46  pubsub tweetInserted readOne with user tobkle is authorized
2017-07-09 20:30:46  author readOne with user tobkle is authorized
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "admin", id: "59627655ba519d9b0eb890f9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:30:46  tweet readOne with user tobkle is authorized
2017-07-09 20:30:46  author readOne with user tobkle is authorized
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "admin", id: "59627655ba519d9b0eb890f9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "59627656ba519d9b0eb890fb", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:30:46  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 20:30:46  update tweet update with user tobkle is authorized
2017-07-09 20:30:46  updated tweet 59627656ba519d9b0eb890fb.
2017-07-09 20:30:46  pubsub tweetUpdated readOne with user tobkle is authorized
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "admin", id: "59627655ba519d9b0eb890f9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "59627656ba519d9b0eb890fc", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:30:46  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 20:30:46  update tweet update with user tobkle is authorized
2017-07-09 20:30:46  updated tweet 59627656ba519d9b0eb890fc.
2017-07-09 20:30:46  pubsub tweetUpdated readOne with user tobkle is authorized
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "admin", id: "59627655ba519d9b0eb890f9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59627656ba519d9b0eb890fb") {
    body
  }
}

2017-07-09 20:30:46  tweet readOne with user tobkle is authorized
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "admin", id: "59627655ba519d9b0eb890f9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "59627656ba519d9b0eb890fb")
}

2017-07-09 20:30:46  removeTweet delete with user tobkle is authorized
2017-07-09 20:30:46  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 20:30:46  removed tweet 59627656ba519d9b0eb890fb.
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "admin", id: "59627655ba519d9b0eb890f9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "59627656ba519d9b0eb890fc")
}

2017-07-09 20:30:46  removeTweet delete with user tobkle is authorized
2017-07-09 20:30:46  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 20:30:46  removed tweet 59627656ba519d9b0eb890fc.
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "admin", id: "59627655ba519d9b0eb890f9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59627656ba519d9b0eb890fb") {
    body
  }
}

2017-07-09 20:30:46  tweet readOne with user tobkle is authorized
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "admin", id: "59627655ba519d9b0eb890f9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "59627655ba519d9b0eb890f9")
}

2017-07-09 20:30:46  removeUser delete with user tobkle is authorized
2017-07-09 20:30:46  removed user 59627655ba519d9b0eb890f9.
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59627655ba519d9b0eb890f9") {
    username
    bio
    role
  }
}

2017-07-09 20:30:46  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "user"}) {
    id
  }
}

2017-07-09 20:30:46  ERROR Authorization: Not authorized to create in insert user.
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    username
    bio
    role
  }
}

2017-07-09 20:30:46  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "583291a1638566b3c5a92ca1", input: {username: "zoltan", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:30:46  ERROR Authorization: Not authorized to update in update user.
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "583291a1638566b3c5a92ca1")
}

2017-07-09 20:30:46  ERROR Authorization: Not authorized to delete in removeUser.
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 20:30:46  ERROR Authorization: Not authorized to create in insert tweet.
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:30:46  tweet readOne with user <no-user> is authorized
2017-07-09 20:30:46  ERROR Authorization: Not authorized to readOne in author.
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:30:46  tweet getOneById in updateById for docBefore readOne with user <no-user> is authorized
2017-07-09 20:30:46  ERROR Authorization: Not authorized to update in update tweet.
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:30:46  tweet getOneById in updateById for docBefore readOne with user <no-user> is authorized
2017-07-09 20:30:46  ERROR Authorization: Not authorized to update in update tweet.
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "583676d3618530145474e352")
}

2017-07-09 20:30:46  ERROR Authorization: Not authorized to delete in removeTweet.
2017-07-09 20:30:46  tweet getOneById in removeById for docBefore readOne with user <no-user> is authorized
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "tobkle", bio: "someone", role: "user"}) {
    id
    role
  }
}

2017-07-09 20:30:46  insert user create with user stubailo is authorized
2017-07-09 20:30:46  inserted user 59627656ba519d9b0eb890fd.
2017-07-09 20:30:46  pubsub userInserted readOne with user stubailo is authorized
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "user", id: "59627656ba519d9b0eb890fd",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "user"}) {
    id
  }
}

2017-07-09 20:30:46  authQuery: {
  "$or": []
}
2017-07-09 20:30:46  ERROR Authorization: Not authorized to create in insert user.
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "user", id: "59627656ba519d9b0eb890fd",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    username
    bio
    role
  }
}

2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "_id": "59627656ba519d9b0eb890fd"
    }
  ]
}
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "user", id: "59627656ba519d9b0eb890fd",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59627656ba519d9b0eb890fd") {
    username
  }
}

2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "_id": "59627656ba519d9b0eb890fd"
    }
  ]
}
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "user", id: "59627656ba519d9b0eb890fd",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59627656ba519d9b0eb890fd") {
    username
    role
  }
}

2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "_id": "59627656ba519d9b0eb890fd"
    }
  ]
}
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "user", id: "59627656ba519d9b0eb890fd",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "583291a1638566b3c5a92ca1", input: {username: "zoltan", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "_id": "59627656ba519d9b0eb890fd"
    }
  ]
}
2017-07-09 20:30:46  ERROR Not authorized to update user
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "user", id: "59627656ba519d9b0eb890fd",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59627656ba519d9b0eb890fd", input: {username: "tobkle", bio: "Maker of things, I guess"}) {
    username
    bio
  }
}

2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "_id": "59627656ba519d9b0eb890fd"
    }
  ]
}
2017-07-09 20:30:46  updated user 59627656ba519d9b0eb890fd.
2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "_id": "59627656ba519d9b0eb890fd"
    }
  ]
}
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "user", id: "59627656ba519d9b0eb890fd",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59627656ba519d9b0eb890fd", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "_id": "59627656ba519d9b0eb890fd"
    }
  ]
}
2017-07-09 20:30:46  ERROR Not authorized to update field "role"
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "user", id: "59627656ba519d9b0eb890fd",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "583291a1638566b3c5a92ca1")
}

2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "_id": "59627656ba519d9b0eb890fd"
    }
  ]
}
2017-07-09 20:30:46  ERROR remove user failed for finalQuery: {
  "_id": "583291a1638566b3c5a92ca1",
  "$or": [
    {
      "_id": "59627656ba519d9b0eb890fd"
    }
  ]
}
2017-07-09 20:30:46  ERROR remove user not possible for 583291a1638566b3c5a92ca1.
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "user", id: "59627656ba519d9b0eb890fd",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "59627656ba519d9b0eb890fd", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "authorId": "59627656ba519d9b0eb890fd"
    }
  ]
}
2017-07-09 20:30:46  inserted tweet 59627656ba519d9b0eb890fe.
2017-07-09 20:30:46  pubsub tweetInserted readOne with user tobkle is authorized
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "user", id: "59627656ba519d9b0eb890fd",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "authorId": "59627656ba519d9b0eb890fd"
    }
  ]
}
2017-07-09 20:30:46  ERROR Not authorized to insert tweet
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "user", id: "59627656ba519d9b0eb890fd",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59627656ba519d9b0eb890fe") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:30:46  tweet readOne with user tobkle is authorized
2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "_id": "59627656ba519d9b0eb890fd"
    }
  ]
}
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "user", id: "59627656ba519d9b0eb890fd",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:30:46  tweet readOne with user tobkle is authorized
2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "_id": "59627656ba519d9b0eb890fd"
    }
  ]
}
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "user", id: "59627656ba519d9b0eb890fd",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "59627656ba519d9b0eb890fe", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:30:46  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "authorId": "59627656ba519d9b0eb890fd"
    },
    {
      "coauthorsIds": "59627656ba519d9b0eb890fd"
    }
  ]
}
2017-07-09 20:30:46  updated tweet 59627656ba519d9b0eb890fe.
2017-07-09 20:30:46  pubsub tweetUpdated readOne with user tobkle is authorized
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "user", id: "59627656ba519d9b0eb890fd",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:30:46  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "authorId": "59627656ba519d9b0eb890fd"
    },
    {
      "coauthorsIds": "59627656ba519d9b0eb890fd"
    }
  ]
}
2017-07-09 20:30:46  ERROR Not authorized to update tweet
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "user", id: "59627656ba519d9b0eb890fd",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59627656ba519d9b0eb890fe") {
    body
  }
}

2017-07-09 20:30:46  tweet readOne with user tobkle is authorized
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "user", id: "59627656ba519d9b0eb890fd",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "59627656ba519d9b0eb890fe")
}

2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "authorId": "59627656ba519d9b0eb890fd"
    }
  ]
}
2017-07-09 20:30:46  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 20:30:46  removed tweet 59627656ba519d9b0eb890fe.
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "user", id: "59627656ba519d9b0eb890fd",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "583676d3618530145474e352")
}

2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "authorId": "59627656ba519d9b0eb890fd"
    }
  ]
}
2017-07-09 20:30:46  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 20:30:46  ERROR remove tweet failed for finalQuery: {
  "_id": "583676d3618530145474e352",
  "$or": [
    {
      "authorId": "59627656ba519d9b0eb890fd"
    }
  ]
}
2017-07-09 20:30:46  ERROR remove tweet not possible for 583676d3618530145474e352.
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "user", id: "59627656ba519d9b0eb890fd",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59627656ba519d9b0eb890fe") {
    body
  }
}

2017-07-09 20:30:46  tweet readOne with user tobkle is authorized
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "user", id: "59627656ba519d9b0eb890fd",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "59627656ba519d9b0eb890fd")
}

2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "_id": "59627656ba519d9b0eb890fd"
    }
  ]
}
2017-07-09 20:30:46  removed user 59627656ba519d9b0eb890fd.
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59627656ba519d9b0eb890fd") {
    username
    bio
    role
  }
}

2017-07-09 20:30:46  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "tobkle", bio: "someone", role: "editor"}) {
    id
    role
  }
}

2017-07-09 20:30:46  insert user create with user stubailo is authorized
2017-07-09 20:30:46  inserted user 59627656ba519d9b0eb890ff.
2017-07-09 20:30:46  pubsub userInserted readOne with user stubailo is authorized
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "editor", id: "59627656ba519d9b0eb890ff",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "editor"}) {
    id
  }
}

2017-07-09 20:30:46  authQuery: {
  "$or": []
}
2017-07-09 20:30:46  ERROR Authorization: Not authorized to create in insert user.
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "editor", id: "59627656ba519d9b0eb890ff",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    username
    bio
    role
  }
}

2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "_id": "59627656ba519d9b0eb890ff"
    }
  ]
}
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "editor", id: "59627656ba519d9b0eb890ff",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59627656ba519d9b0eb890ff") {
    username
    role
  }
}

2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "_id": "59627656ba519d9b0eb890ff"
    }
  ]
}
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "editor", id: "59627656ba519d9b0eb890ff",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "583291a1638566b3c5a92ca1", input: {username: "zoltan", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "_id": "59627656ba519d9b0eb890ff"
    }
  ]
}
2017-07-09 20:30:46  ERROR Not authorized to update user
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tobkle", role: "editor", id: "59627656ba519d9b0eb890ff",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59627656ba519d9b0eb890ff", input: {username: "tmeasday", bio: "Maker of things, I guess"}) {
    username
    bio
  }
}

2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "_id": "59627656ba519d9b0eb890ff"
    }
  ]
}
2017-07-09 20:30:46  updated user 59627656ba519d9b0eb890ff.
2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "_id": "59627656ba519d9b0eb890ff"
    }
  ]
}
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tmeasday", role: "editor", id: "59627656ba519d9b0eb890ff",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59627656ba519d9b0eb890ff", input: {username: "tmeasday", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "_id": "59627656ba519d9b0eb890ff"
    }
  ]
}
2017-07-09 20:30:46  ERROR Not authorized to update field "role"
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tmeasday", role: "editor", id: "59627656ba519d9b0eb890ff",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "583291a1638566b3c5a92ca1")
}

2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "_id": "59627656ba519d9b0eb890ff"
    }
  ]
}
2017-07-09 20:30:46  ERROR remove user failed for finalQuery: {
  "_id": "583291a1638566b3c5a92ca1",
  "$or": [
    {
      "_id": "59627656ba519d9b0eb890ff"
    }
  ]
}
2017-07-09 20:30:46  ERROR remove user not possible for 583291a1638566b3c5a92ca1.
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tmeasday", role: "editor", id: "59627656ba519d9b0eb890ff",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "59627656ba519d9b0eb890ff", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "authorId": "59627656ba519d9b0eb890ff"
    }
  ]
}
2017-07-09 20:30:46  inserted tweet 59627656ba519d9b0eb89100.
2017-07-09 20:30:46  pubsub tweetInserted readOne with user tmeasday is authorized
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tmeasday", role: "editor", id: "59627656ba519d9b0eb890ff",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "authorId": "59627656ba519d9b0eb890ff"
    }
  ]
}
2017-07-09 20:30:46  ERROR Not authorized to insert tweet
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tmeasday", role: "editor", id: "59627656ba519d9b0eb890ff",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59627656ba519d9b0eb89100") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:30:46  tweet readOne with user tmeasday is authorized
2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "_id": "59627656ba519d9b0eb890ff"
    }
  ]
}
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tmeasday", role: "editor", id: "59627656ba519d9b0eb890ff",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:30:46  tweet readOne with user tmeasday is authorized
2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "_id": "59627656ba519d9b0eb890ff"
    }
  ]
}
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tmeasday", role: "editor", id: "59627656ba519d9b0eb890ff",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "59627656ba519d9b0eb89100", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:30:46  tweet getOneById in updateById for docBefore readOne with user tmeasday is authorized
2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "authorId": "59627656ba519d9b0eb890ff"
    },
    {
      "coauthorsIds": "59627656ba519d9b0eb890ff"
    }
  ]
}
2017-07-09 20:30:46  updated tweet 59627656ba519d9b0eb89100.
2017-07-09 20:30:46  pubsub tweetUpdated readOne with user tmeasday is authorized
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tmeasday", role: "editor", id: "59627656ba519d9b0eb890ff",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:30:46  tweet getOneById in updateById for docBefore readOne with user tmeasday is authorized
2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "authorId": "59627656ba519d9b0eb890ff"
    },
    {
      "coauthorsIds": "59627656ba519d9b0eb890ff"
    }
  ]
}
2017-07-09 20:30:46  ERROR Not authorized to update tweet
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tmeasday", role: "editor", id: "59627656ba519d9b0eb890ff",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59627656ba519d9b0eb89100") {
    body
  }
}

2017-07-09 20:30:46  tweet readOne with user tmeasday is authorized
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tmeasday", role: "editor", id: "59627656ba519d9b0eb890ff",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "59627656ba519d9b0eb89100")
}

2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "authorId": "59627656ba519d9b0eb890ff"
    }
  ]
}
2017-07-09 20:30:46  tweet getOneById in removeById for docBefore readOne with user tmeasday is authorized
2017-07-09 20:30:46  removed tweet 59627656ba519d9b0eb89100.
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tmeasday", role: "editor", id: "59627656ba519d9b0eb890ff",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "583676d3618530145474e352")
}

2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "authorId": "59627656ba519d9b0eb890ff"
    }
  ]
}
2017-07-09 20:30:46  tweet getOneById in removeById for docBefore readOne with user tmeasday is authorized
2017-07-09 20:30:46  ERROR remove tweet failed for finalQuery: {
  "_id": "583676d3618530145474e352",
  "$or": [
    {
      "authorId": "59627656ba519d9b0eb890ff"
    }
  ]
}
2017-07-09 20:30:46  ERROR remove tweet not possible for 583676d3618530145474e352.
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tmeasday", role: "editor", id: "59627656ba519d9b0eb890ff",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59627656ba519d9b0eb89100") {
    body
  }
}

2017-07-09 20:30:46  tweet readOne with user tmeasday is authorized
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "tmeasday", role: "editor", id: "59627656ba519d9b0eb890ff",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "59627656ba519d9b0eb890ff")
}

2017-07-09 20:30:46  authQuery: {
  "$or": [
    {
      "_id": "59627656ba519d9b0eb890ff"
    }
  ]
}
2017-07-09 20:30:46  removed user 59627656ba519d9b0eb890ff.
2017-07-09 20:30:46  --------------------------------------------------------------------------------
2017-07-09 20:30:46  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59627656ba519d9b0eb890ff") {
    username
    bio
    role
  }
}

2017-07-09 20:30:46  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 20:32:30  Logger started
2017-07-09 20:33:01  Logger started
2017-07-09 20:33:14  --------------------------------------------------------------------------------
2017-07-09 20:33:14  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  __schema {
    queryType {
      name
    }
  }
}

2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  __schema {
    queryType {
      name
    }
  }
}

2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    role
    username
  }
}

2017-07-09 20:33:25  user readOne with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    role
    username
  }
}

2017-07-09 20:33:25  user readOne with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca2") {
    role
    username
  }
}

2017-07-09 20:33:25  user readOne with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    id
    username
    bio
  }
}

2017-07-09 20:33:25  user readOne with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users {
    username
    createdAt
  }
}

2017-07-09 20:33:25  users readMany with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users(limit: 1) {
    username
    createdAt
  }
}

2017-07-09 20:33:25  users readMany with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users(lastCreatedAt: 1479776904993) {
    username
    createdAt
  }
}

2017-07-09 20:33:25  users readMany with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users(lastCreatedAt: 1479776904993, limit: 1) {
    username
    createdAt
  }
}

2017-07-09 20:33:25  users readMany with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers {
      username
      createdAt
    }
  }
}

2017-07-09 20:33:25  user readOne with user stubailo is authorized
2017-07-09 20:33:25  followers readMany with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers(limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:33:25  user readOne with user stubailo is authorized
2017-07-09 20:33:25  followers readMany with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers(lastCreatedAt: 1479776905993) {
      username
      createdAt
    }
  }
}

2017-07-09 20:33:25  user readOne with user stubailo is authorized
2017-07-09 20:33:25  followers readMany with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers(lastCreatedAt: 1479776905993, limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:33:25  user readOne with user stubailo is authorized
2017-07-09 20:33:25  followers readMany with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following {
      username
      createdAt
    }
  }
}

2017-07-09 20:33:25  user readOne with user stubailo is authorized
2017-07-09 20:33:25  following readMany with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following(limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:33:25  user readOne with user stubailo is authorized
2017-07-09 20:33:25  following readMany with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following(lastCreatedAt: 1479776905993) {
      username
      createdAt
    }
  }
}

2017-07-09 20:33:25  user readOne with user stubailo is authorized
2017-07-09 20:33:25  following readMany with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following(lastCreatedAt: 1479776905993, limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:33:25  user readOne with user stubailo is authorized
2017-07-09 20:33:25  following readMany with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets {
      id
      createdAt
    }
  }
}

2017-07-09 20:33:25  user readOne with user stubailo is authorized
2017-07-09 20:33:25  tweets readMany with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets(limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 20:33:25  user readOne with user stubailo is authorized
2017-07-09 20:33:25  tweets readMany with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets(lastCreatedAt: 1479964340853) {
      id
      createdAt
    }
  }
}

2017-07-09 20:33:25  user readOne with user stubailo is authorized
2017-07-09 20:33:25  tweets readMany with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets(lastCreatedAt: 1479964340853, limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 20:33:25  user readOne with user stubailo is authorized
2017-07-09 20:33:25  tweets readMany with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked {
      id
      createdAt
    }
  }
}

2017-07-09 20:33:25  user readOne with user stubailo is authorized
2017-07-09 20:33:25  liked readMany with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked(limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 20:33:25  user readOne with user stubailo is authorized
2017-07-09 20:33:25  liked readMany with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked(lastCreatedAt: 1479964371334) {
      id
      createdAt
    }
  }
}

2017-07-09 20:33:25  user readOne with user stubailo is authorized
2017-07-09 20:33:25  liked readMany with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked(lastCreatedAt: 1479964371334, limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 20:33:25  user readOne with user stubailo is authorized
2017-07-09 20:33:25  liked readMany with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e351") {
    author {
      username
    }
  }
}

2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e351") {
    id
    body
  }
}

2017-07-09 20:33:25  tweet readOne with user stubailo is authorized
2017-07-09 20:33:25  tweet readOne with user stubailo is authorized
2017-07-09 20:33:25  author readOne with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets {
    id
    createdAt
  }
}

2017-07-09 20:33:25  tweets readMany with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets(limit: 1) {
    id
    createdAt
  }
}

2017-07-09 20:33:25  tweets readMany with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets(lastCreatedAt: 1479964340853) {
    id
    createdAt
  }
}

2017-07-09 20:33:25  tweets readMany with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets(lastCreatedAt: 1479964340853, limit: 1) {
    id
    createdAt
  }
}

2017-07-09 20:33:25  tweets readMany with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers {
      username
      createdAt
    }
  }
}

2017-07-09 20:33:25  tweet readOne with user stubailo is authorized
2017-07-09 20:33:25  likers readMany with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers(limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:33:25  tweet readOne with user stubailo is authorized
2017-07-09 20:33:25  likers readMany with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers(lastCreatedAt: 1479776904993) {
      username
      createdAt
    }
  }
}

2017-07-09 20:33:25  tweet readOne with user stubailo is authorized
2017-07-09 20:33:25  likers readMany with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers(lastCreatedAt: 1479776904993, limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:33:25  tweet readOne with user stubailo is authorized
2017-07-09 20:33:25  likers readMany with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "tobkle", bio: "someone", role: "admin"}) {
    id
    role
  }
}

2017-07-09 20:33:25  insert user create with user stubailo is authorized
2017-07-09 20:33:25  inserted user 596276f59bce489b8e6d4df3.
2017-07-09 20:33:25  pubsub userInserted readOne with user stubailo is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "tobkle", role: "admin", id: "596276f59bce489b8e6d4df3",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "editor"}) {
    id
  }
}

2017-07-09 20:33:25  insert user create with user tobkle is authorized
2017-07-09 20:33:25  inserted user 596276f59bce489b8e6d4df4.
2017-07-09 20:33:25  pubsub userInserted readOne with user tobkle is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "tobkle", role: "admin", id: "596276f59bce489b8e6d4df3",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "596276f59bce489b8e6d4df4") {
    username
    bio
    role
  }
}

2017-07-09 20:33:25  user readOne with user tobkle is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "tobkle", role: "admin", id: "596276f59bce489b8e6d4df3",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "596276f59bce489b8e6d4df3") {
    username
    role
  }
}

2017-07-09 20:33:25  user readOne with user tobkle is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "tobkle", role: "admin", id: "596276f59bce489b8e6d4df3",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "596276f59bce489b8e6d4df4", input: {username: "zoltan", bio: "Maker of things, I guess", role: "editor"}) {
    username
    bio
    role
  }
}

2017-07-09 20:33:25  update user update with user tobkle is authorized
2017-07-09 20:33:25  updated user 596276f59bce489b8e6d4df4.
2017-07-09 20:33:25  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "tobkle", role: "admin", id: "596276f59bce489b8e6d4df3",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "596276f59bce489b8e6d4df3", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:33:25  update user update with user tobkle is authorized
2017-07-09 20:33:25  updated user 596276f59bce489b8e6d4df3.
2017-07-09 20:33:25  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "tobkle", role: "admin", id: "596276f59bce489b8e6d4df3",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "596276f59bce489b8e6d4df4", input: {username: "zoltan", bio: "now an admin", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:33:25  update user update with user tobkle is authorized
2017-07-09 20:33:25  updated user 596276f59bce489b8e6d4df4.
2017-07-09 20:33:25  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "tobkle", role: "admin", id: "596276f59bce489b8e6d4df3",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "596276f59bce489b8e6d4df3", input: {username: "tobkle", bio: "Maker of things, I guess", role: "editor"}) {
    username
    bio
    role
  }
}

2017-07-09 20:33:25  update user update with user tobkle is authorized
2017-07-09 20:33:25  updated user 596276f59bce489b8e6d4df3.
2017-07-09 20:33:25  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "tobkle", role: "editor", id: "596276f59bce489b8e6d4df3",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "596276f59bce489b8e6d4df3", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:33:25  authQuery: {
  "$or": [
    {
      "_id": "596276f59bce489b8e6d4df3"
    }
  ]
}
2017-07-09 20:33:25  ERROR Not authorized to update field "role"
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "zoltan", role: "admin", id: "596276f59bce489b8e6d4df4",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "596276f59bce489b8e6d4df3", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:33:25  update user update with user zoltan is authorized
2017-07-09 20:33:25  updated user 596276f59bce489b8e6d4df3.
2017-07-09 20:33:25  pubsub userUpdated readOne with user zoltan is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "tobkle", role: "admin", id: "596276f59bce489b8e6d4df3",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "596276f59bce489b8e6d4df4")
}

2017-07-09 20:33:25  removeUser delete with user tobkle is authorized
2017-07-09 20:33:25  removed user 596276f59bce489b8e6d4df4.
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "tobkle", role: "admin", id: "596276f59bce489b8e6d4df3",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "596276f59bce489b8e6d4df3", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 20:33:25  insert tweet create with user tobkle is authorized
2017-07-09 20:33:25  inserted tweet 596276f59bce489b8e6d4df5.
2017-07-09 20:33:25  pubsub tweetInserted readOne with user tobkle is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "tobkle", role: "admin", id: "596276f59bce489b8e6d4df3",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 20:33:25  insert tweet create with user tobkle is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "tobkle", role: "admin", id: "596276f59bce489b8e6d4df3",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "596276f59bce489b8e6d4df5") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:33:25  tweet readOne with user tobkle is authorized
2017-07-09 20:33:25  inserted tweet 596276f59bce489b8e6d4df6.
2017-07-09 20:33:25  pubsub tweetInserted readOne with user tobkle is authorized
2017-07-09 20:33:25  author readOne with user tobkle is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "tobkle", role: "admin", id: "596276f59bce489b8e6d4df3",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:33:25  tweet readOne with user tobkle is authorized
2017-07-09 20:33:25  author readOne with user tobkle is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "tobkle", role: "admin", id: "596276f59bce489b8e6d4df3",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "596276f59bce489b8e6d4df5", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:33:25  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 20:33:25  update tweet update with user tobkle is authorized
2017-07-09 20:33:25  updated tweet 596276f59bce489b8e6d4df5.
2017-07-09 20:33:25  pubsub tweetUpdated readOne with user tobkle is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "tobkle", role: "admin", id: "596276f59bce489b8e6d4df3",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "596276f59bce489b8e6d4df6", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:33:25  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 20:33:25  update tweet update with user tobkle is authorized
2017-07-09 20:33:25  updated tweet 596276f59bce489b8e6d4df6.
2017-07-09 20:33:25  pubsub tweetUpdated readOne with user tobkle is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "tobkle", role: "admin", id: "596276f59bce489b8e6d4df3",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "596276f59bce489b8e6d4df5") {
    body
  }
}

2017-07-09 20:33:25  tweet readOne with user tobkle is authorized
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "tobkle", role: "admin", id: "596276f59bce489b8e6d4df3",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "596276f59bce489b8e6d4df5")
}

2017-07-09 20:33:25  removeTweet delete with user tobkle is authorized
2017-07-09 20:33:25  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 20:33:25  removed tweet 596276f59bce489b8e6d4df5.
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "tobkle", role: "admin", id: "596276f59bce489b8e6d4df3",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "596276f59bce489b8e6d4df6")
}

2017-07-09 20:33:25  removeTweet delete with user tobkle is authorized
2017-07-09 20:33:25  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 20:33:25  removed tweet 596276f59bce489b8e6d4df6.
2017-07-09 20:33:25  --------------------------------------------------------------------------------
2017-07-09 20:33:25  Request:
User: "tobkle", role: "admin", id: "596276f59bce489b8e6d4df3",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "596276f59bce489b8e6d4df5") {
    body
  }
}

2017-07-09 20:33:25  tweet readOne with user tobkle is authorized
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tobkle", role: "admin", id: "596276f59bce489b8e6d4df3",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "596276f59bce489b8e6d4df3")
}

2017-07-09 20:33:26  removeUser delete with user tobkle is authorized
2017-07-09 20:33:26  removed user 596276f59bce489b8e6d4df3.
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "596276f59bce489b8e6d4df3") {
    username
    bio
    role
  }
}

2017-07-09 20:33:26  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "user"}) {
    id
  }
}

2017-07-09 20:33:26  ERROR Authorization: Not authorized to create in insert user.
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    username
    bio
    role
  }
}

2017-07-09 20:33:26  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "583291a1638566b3c5a92ca1", input: {username: "zoltan", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:33:26  ERROR Authorization: Not authorized to update in update user.
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "583291a1638566b3c5a92ca1")
}

2017-07-09 20:33:26  ERROR Authorization: Not authorized to delete in removeUser.
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 20:33:26  ERROR Authorization: Not authorized to create in insert tweet.
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:33:26  tweet readOne with user <no-user> is authorized
2017-07-09 20:33:26  ERROR Authorization: Not authorized to readOne in author.
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:33:26  tweet getOneById in updateById for docBefore readOne with user <no-user> is authorized
2017-07-09 20:33:26  ERROR Authorization: Not authorized to update in update tweet.
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:33:26  tweet getOneById in updateById for docBefore readOne with user <no-user> is authorized
2017-07-09 20:33:26  ERROR Authorization: Not authorized to update in update tweet.
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "583676d3618530145474e352")
}

2017-07-09 20:33:26  ERROR Authorization: Not authorized to delete in removeTweet.
2017-07-09 20:33:26  tweet getOneById in removeById for docBefore readOne with user <no-user> is authorized
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "tobkle", bio: "someone", role: "user"}) {
    id
    role
  }
}

2017-07-09 20:33:26  insert user create with user stubailo is authorized
2017-07-09 20:33:26  inserted user 596276f69bce489b8e6d4df7.
2017-07-09 20:33:26  pubsub userInserted readOne with user stubailo is authorized
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tobkle", role: "user", id: "596276f69bce489b8e6d4df7",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "user"}) {
    id
  }
}

2017-07-09 20:33:26  authQuery: {
  "$or": []
}
2017-07-09 20:33:26  ERROR Authorization: Not authorized to create in insert user.
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tobkle", role: "user", id: "596276f69bce489b8e6d4df7",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    username
    bio
    role
  }
}

2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "_id": "596276f69bce489b8e6d4df7"
    }
  ]
}
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tobkle", role: "user", id: "596276f69bce489b8e6d4df7",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "596276f69bce489b8e6d4df7") {
    username
  }
}

2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "_id": "596276f69bce489b8e6d4df7"
    }
  ]
}
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tobkle", role: "user", id: "596276f69bce489b8e6d4df7",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "596276f69bce489b8e6d4df7") {
    username
    role
  }
}

2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "_id": "596276f69bce489b8e6d4df7"
    }
  ]
}
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tobkle", role: "user", id: "596276f69bce489b8e6d4df7",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "583291a1638566b3c5a92ca1", input: {username: "zoltan", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "_id": "596276f69bce489b8e6d4df7"
    }
  ]
}
2017-07-09 20:33:26  ERROR Not authorized to update field "role"
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tobkle", role: "user", id: "596276f69bce489b8e6d4df7",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "596276f69bce489b8e6d4df7", input: {username: "tobkle", bio: "Maker of things, I guess"}) {
    username
    bio
  }
}

2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "_id": "596276f69bce489b8e6d4df7"
    }
  ]
}
2017-07-09 20:33:26  updated user 596276f69bce489b8e6d4df7.
2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "_id": "596276f69bce489b8e6d4df7"
    }
  ]
}
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tobkle", role: "user", id: "596276f69bce489b8e6d4df7",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "596276f69bce489b8e6d4df7", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "_id": "596276f69bce489b8e6d4df7"
    }
  ]
}
2017-07-09 20:33:26  ERROR Not authorized to update field "role"
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tobkle", role: "user", id: "596276f69bce489b8e6d4df7",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "583291a1638566b3c5a92ca1")
}

2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "_id": "596276f69bce489b8e6d4df7"
    }
  ]
}
2017-07-09 20:33:26  ERROR remove user failed for finalQuery: {
  "_id": "583291a1638566b3c5a92ca1",
  "$or": [
    {
      "_id": "596276f69bce489b8e6d4df7"
    }
  ]
}
2017-07-09 20:33:26  ERROR remove user not possible for 583291a1638566b3c5a92ca1.
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tobkle", role: "user", id: "596276f69bce489b8e6d4df7",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "596276f69bce489b8e6d4df7", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "authorId": "596276f69bce489b8e6d4df7"
    }
  ]
}
2017-07-09 20:33:26  inserted tweet 596276f69bce489b8e6d4df8.
2017-07-09 20:33:26  pubsub tweetInserted readOne with user tobkle is authorized
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tobkle", role: "user", id: "596276f69bce489b8e6d4df7",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "authorId": "596276f69bce489b8e6d4df7"
    }
  ]
}
2017-07-09 20:33:26  ERROR Not authorized to insert tweet
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tobkle", role: "user", id: "596276f69bce489b8e6d4df7",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "596276f69bce489b8e6d4df8") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:33:26  tweet readOne with user tobkle is authorized
2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "_id": "596276f69bce489b8e6d4df7"
    }
  ]
}
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tobkle", role: "user", id: "596276f69bce489b8e6d4df7",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:33:26  tweet readOne with user tobkle is authorized
2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "_id": "596276f69bce489b8e6d4df7"
    }
  ]
}
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tobkle", role: "user", id: "596276f69bce489b8e6d4df7",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "596276f69bce489b8e6d4df8", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:33:26  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "authorId": "596276f69bce489b8e6d4df7"
    },
    {
      "coauthorsIds": "596276f69bce489b8e6d4df7"
    }
  ]
}
2017-07-09 20:33:26  updated tweet 596276f69bce489b8e6d4df8.
2017-07-09 20:33:26  pubsub tweetUpdated readOne with user tobkle is authorized
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tobkle", role: "user", id: "596276f69bce489b8e6d4df7",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:33:26  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "authorId": "596276f69bce489b8e6d4df7"
    },
    {
      "coauthorsIds": "596276f69bce489b8e6d4df7"
    }
  ]
}
2017-07-09 20:33:26  ERROR Not authorized to update tweet
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tobkle", role: "user", id: "596276f69bce489b8e6d4df7",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "596276f69bce489b8e6d4df8") {
    body
  }
}

2017-07-09 20:33:26  tweet readOne with user tobkle is authorized
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tobkle", role: "user", id: "596276f69bce489b8e6d4df7",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "596276f69bce489b8e6d4df8")
}

2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "authorId": "596276f69bce489b8e6d4df7"
    }
  ]
}
2017-07-09 20:33:26  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 20:33:26  removed tweet 596276f69bce489b8e6d4df8.
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tobkle", role: "user", id: "596276f69bce489b8e6d4df7",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "583676d3618530145474e352")
}

2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "authorId": "596276f69bce489b8e6d4df7"
    }
  ]
}
2017-07-09 20:33:26  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 20:33:26  ERROR remove tweet failed for finalQuery: {
  "_id": "583676d3618530145474e352",
  "$or": [
    {
      "authorId": "596276f69bce489b8e6d4df7"
    }
  ]
}
2017-07-09 20:33:26  ERROR remove tweet not possible for 583676d3618530145474e352.
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tobkle", role: "user", id: "596276f69bce489b8e6d4df7",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "596276f69bce489b8e6d4df8") {
    body
  }
}

2017-07-09 20:33:26  tweet readOne with user tobkle is authorized
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tobkle", role: "user", id: "596276f69bce489b8e6d4df7",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "596276f69bce489b8e6d4df7")
}

2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "_id": "596276f69bce489b8e6d4df7"
    }
  ]
}
2017-07-09 20:33:26  removed user 596276f69bce489b8e6d4df7.
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "596276f69bce489b8e6d4df7") {
    username
    bio
    role
  }
}

2017-07-09 20:33:26  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "tobkle", bio: "someone", role: "editor"}) {
    id
    role
  }
}

2017-07-09 20:33:26  insert user create with user stubailo is authorized
2017-07-09 20:33:26  inserted user 596276f69bce489b8e6d4df9.
2017-07-09 20:33:26  pubsub userInserted readOne with user stubailo is authorized
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tobkle", role: "editor", id: "596276f69bce489b8e6d4df9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "editor"}) {
    id
  }
}

2017-07-09 20:33:26  authQuery: {
  "$or": []
}
2017-07-09 20:33:26  ERROR Authorization: Not authorized to create in insert user.
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tobkle", role: "editor", id: "596276f69bce489b8e6d4df9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    username
    bio
    role
  }
}

2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "_id": "596276f69bce489b8e6d4df9"
    }
  ]
}
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tobkle", role: "editor", id: "596276f69bce489b8e6d4df9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "596276f69bce489b8e6d4df9") {
    username
    role
  }
}

2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "_id": "596276f69bce489b8e6d4df9"
    }
  ]
}
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tobkle", role: "editor", id: "596276f69bce489b8e6d4df9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "583291a1638566b3c5a92ca1", input: {username: "zoltan", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "_id": "596276f69bce489b8e6d4df9"
    }
  ]
}
2017-07-09 20:33:26  ERROR Not authorized to update field "role"
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tobkle", role: "editor", id: "596276f69bce489b8e6d4df9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "596276f69bce489b8e6d4df9", input: {username: "tmeasday", bio: "Maker of things, I guess"}) {
    username
    bio
  }
}

2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "_id": "596276f69bce489b8e6d4df9"
    }
  ]
}
2017-07-09 20:33:26  updated user 596276f69bce489b8e6d4df9.
2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "_id": "596276f69bce489b8e6d4df9"
    }
  ]
}
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tmeasday", role: "editor", id: "596276f69bce489b8e6d4df9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "596276f69bce489b8e6d4df9", input: {username: "tmeasday", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "_id": "596276f69bce489b8e6d4df9"
    }
  ]
}
2017-07-09 20:33:26  ERROR Not authorized to update field "role"
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tmeasday", role: "editor", id: "596276f69bce489b8e6d4df9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "583291a1638566b3c5a92ca1")
}

2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "_id": "596276f69bce489b8e6d4df9"
    }
  ]
}
2017-07-09 20:33:26  ERROR remove user failed for finalQuery: {
  "_id": "583291a1638566b3c5a92ca1",
  "$or": [
    {
      "_id": "596276f69bce489b8e6d4df9"
    }
  ]
}
2017-07-09 20:33:26  ERROR remove user not possible for 583291a1638566b3c5a92ca1.
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tmeasday", role: "editor", id: "596276f69bce489b8e6d4df9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "596276f69bce489b8e6d4df9", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "authorId": "596276f69bce489b8e6d4df9"
    }
  ]
}
2017-07-09 20:33:26  inserted tweet 596276f69bce489b8e6d4dfa.
2017-07-09 20:33:26  pubsub tweetInserted readOne with user tmeasday is authorized
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tmeasday", role: "editor", id: "596276f69bce489b8e6d4df9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "authorId": "596276f69bce489b8e6d4df9"
    }
  ]
}
2017-07-09 20:33:26  ERROR Not authorized to insert tweet
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tmeasday", role: "editor", id: "596276f69bce489b8e6d4df9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "596276f69bce489b8e6d4dfa") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:33:26  tweet readOne with user tmeasday is authorized
2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "_id": "596276f69bce489b8e6d4df9"
    }
  ]
}
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tmeasday", role: "editor", id: "596276f69bce489b8e6d4df9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:33:26  tweet readOne with user tmeasday is authorized
2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "_id": "596276f69bce489b8e6d4df9"
    }
  ]
}
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tmeasday", role: "editor", id: "596276f69bce489b8e6d4df9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "596276f69bce489b8e6d4dfa", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:33:26  tweet getOneById in updateById for docBefore readOne with user tmeasday is authorized
2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "authorId": "596276f69bce489b8e6d4df9"
    },
    {
      "coauthorsIds": "596276f69bce489b8e6d4df9"
    }
  ]
}
2017-07-09 20:33:26  updated tweet 596276f69bce489b8e6d4dfa.
2017-07-09 20:33:26  pubsub tweetUpdated readOne with user tmeasday is authorized
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tmeasday", role: "editor", id: "596276f69bce489b8e6d4df9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:33:26  tweet getOneById in updateById for docBefore readOne with user tmeasday is authorized
2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "authorId": "596276f69bce489b8e6d4df9"
    },
    {
      "coauthorsIds": "596276f69bce489b8e6d4df9"
    }
  ]
}
2017-07-09 20:33:26  ERROR Not authorized to update tweet
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tmeasday", role: "editor", id: "596276f69bce489b8e6d4df9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "596276f69bce489b8e6d4dfa") {
    body
  }
}

2017-07-09 20:33:26  tweet readOne with user tmeasday is authorized
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tmeasday", role: "editor", id: "596276f69bce489b8e6d4df9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "596276f69bce489b8e6d4dfa")
}

2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "authorId": "596276f69bce489b8e6d4df9"
    }
  ]
}
2017-07-09 20:33:26  tweet getOneById in removeById for docBefore readOne with user tmeasday is authorized
2017-07-09 20:33:26  removed tweet 596276f69bce489b8e6d4dfa.
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tmeasday", role: "editor", id: "596276f69bce489b8e6d4df9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "583676d3618530145474e352")
}

2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "authorId": "596276f69bce489b8e6d4df9"
    }
  ]
}
2017-07-09 20:33:26  tweet getOneById in removeById for docBefore readOne with user tmeasday is authorized
2017-07-09 20:33:26  ERROR remove tweet failed for finalQuery: {
  "_id": "583676d3618530145474e352",
  "$or": [
    {
      "authorId": "596276f69bce489b8e6d4df9"
    }
  ]
}
2017-07-09 20:33:26  ERROR remove tweet not possible for 583676d3618530145474e352.
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tmeasday", role: "editor", id: "596276f69bce489b8e6d4df9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "596276f69bce489b8e6d4dfa") {
    body
  }
}

2017-07-09 20:33:26  tweet readOne with user tmeasday is authorized
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "tmeasday", role: "editor", id: "596276f69bce489b8e6d4df9",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "596276f69bce489b8e6d4df9")
}

2017-07-09 20:33:26  authQuery: {
  "$or": [
    {
      "_id": "596276f69bce489b8e6d4df9"
    }
  ]
}
2017-07-09 20:33:26  removed user 596276f69bce489b8e6d4df9.
2017-07-09 20:33:26  --------------------------------------------------------------------------------
2017-07-09 20:33:26  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "596276f69bce489b8e6d4df9") {
    username
    bio
    role
  }
}

2017-07-09 20:33:26  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 20:34:32  Logger started
2017-07-09 20:35:00  Logger started
2017-07-09 20:35:21  Logger started
2017-07-09 20:35:45  --------------------------------------------------------------------------------
2017-07-09 20:35:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  __schema {
    queryType {
      name
    }
  }
}

2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  __schema {
    queryType {
      name
    }
  }
}

2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    role
    username
  }
}

2017-07-09 20:35:56  user readOne with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    role
    username
  }
}

2017-07-09 20:35:56  user readOne with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca2") {
    role
    username
  }
}

2017-07-09 20:35:56  user readOne with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    id
    username
    bio
  }
}

2017-07-09 20:35:56  user readOne with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users {
    username
    createdAt
  }
}

2017-07-09 20:35:56  users readMany with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users(limit: 1) {
    username
    createdAt
  }
}

2017-07-09 20:35:56  users readMany with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users(lastCreatedAt: 1479776904993) {
    username
    createdAt
  }
}

2017-07-09 20:35:56  users readMany with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users(lastCreatedAt: 1479776904993, limit: 1) {
    username
    createdAt
  }
}

2017-07-09 20:35:56  users readMany with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers {
      username
      createdAt
    }
  }
}

2017-07-09 20:35:56  user readOne with user stubailo is authorized
2017-07-09 20:35:56  followers readMany with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers(limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:35:56  user readOne with user stubailo is authorized
2017-07-09 20:35:56  followers readMany with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers(lastCreatedAt: 1479776905993) {
      username
      createdAt
    }
  }
}

2017-07-09 20:35:56  user readOne with user stubailo is authorized
2017-07-09 20:35:56  followers readMany with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers(lastCreatedAt: 1479776905993, limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:35:56  user readOne with user stubailo is authorized
2017-07-09 20:35:56  followers readMany with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following {
      username
      createdAt
    }
  }
}

2017-07-09 20:35:56  user readOne with user stubailo is authorized
2017-07-09 20:35:56  following readMany with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following(limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:35:56  user readOne with user stubailo is authorized
2017-07-09 20:35:56  following readMany with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following(lastCreatedAt: 1479776905993) {
      username
      createdAt
    }
  }
}

2017-07-09 20:35:56  user readOne with user stubailo is authorized
2017-07-09 20:35:56  following readMany with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following(lastCreatedAt: 1479776905993, limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:35:56  user readOne with user stubailo is authorized
2017-07-09 20:35:56  following readMany with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets {
      id
      createdAt
    }
  }
}

2017-07-09 20:35:56  user readOne with user stubailo is authorized
2017-07-09 20:35:56  tweets readMany with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets(limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 20:35:56  user readOne with user stubailo is authorized
2017-07-09 20:35:56  tweets readMany with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets(lastCreatedAt: 1479964340853) {
      id
      createdAt
    }
  }
}

2017-07-09 20:35:56  user readOne with user stubailo is authorized
2017-07-09 20:35:56  tweets readMany with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets(lastCreatedAt: 1479964340853, limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 20:35:56  user readOne with user stubailo is authorized
2017-07-09 20:35:56  tweets readMany with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked {
      id
      createdAt
    }
  }
}

2017-07-09 20:35:56  user readOne with user stubailo is authorized
2017-07-09 20:35:56  liked readMany with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked(limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 20:35:56  user readOne with user stubailo is authorized
2017-07-09 20:35:56  liked readMany with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked(lastCreatedAt: 1479964371334) {
      id
      createdAt
    }
  }
}

2017-07-09 20:35:56  user readOne with user stubailo is authorized
2017-07-09 20:35:56  liked readMany with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked(lastCreatedAt: 1479964371334, limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 20:35:56  user readOne with user stubailo is authorized
2017-07-09 20:35:56  liked readMany with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e351") {
    author {
      username
    }
  }
}

2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e351") {
    id
    body
  }
}

2017-07-09 20:35:56  tweet readOne with user stubailo is authorized
2017-07-09 20:35:56  tweet readOne with user stubailo is authorized
2017-07-09 20:35:56  author readOne with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets {
    id
    createdAt
  }
}

2017-07-09 20:35:56  tweets readMany with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets(limit: 1) {
    id
    createdAt
  }
}

2017-07-09 20:35:56  tweets readMany with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets(lastCreatedAt: 1479964340853) {
    id
    createdAt
  }
}

2017-07-09 20:35:56  tweets readMany with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets(lastCreatedAt: 1479964340853, limit: 1) {
    id
    createdAt
  }
}

2017-07-09 20:35:56  tweets readMany with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers {
      username
      createdAt
    }
  }
}

2017-07-09 20:35:56  tweet readOne with user stubailo is authorized
2017-07-09 20:35:56  likers readMany with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers(limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:35:56  tweet readOne with user stubailo is authorized
2017-07-09 20:35:56  likers readMany with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers(lastCreatedAt: 1479776904993) {
      username
      createdAt
    }
  }
}

2017-07-09 20:35:56  tweet readOne with user stubailo is authorized
2017-07-09 20:35:56  likers readMany with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers(lastCreatedAt: 1479776904993, limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:35:56  tweet readOne with user stubailo is authorized
2017-07-09 20:35:56  likers readMany with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "tobkle", bio: "someone", role: "admin"}) {
    id
    role
  }
}

2017-07-09 20:35:56  insert user create with user stubailo is authorized
2017-07-09 20:35:56  inserted user 5962778c08de6c9c11df0d23.
2017-07-09 20:35:56  pubsub userInserted readOne with user stubailo is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "tobkle", role: "admin", id: "5962778c08de6c9c11df0d23",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "editor"}) {
    id
  }
}

2017-07-09 20:35:56  insert user create with user tobkle is authorized
2017-07-09 20:35:56  inserted user 5962778c08de6c9c11df0d24.
2017-07-09 20:35:56  pubsub userInserted readOne with user tobkle is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "tobkle", role: "admin", id: "5962778c08de6c9c11df0d23",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "5962778c08de6c9c11df0d24") {
    username
    bio
    role
  }
}

2017-07-09 20:35:56  user readOne with user tobkle is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "tobkle", role: "admin", id: "5962778c08de6c9c11df0d23",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "5962778c08de6c9c11df0d23") {
    username
    role
  }
}

2017-07-09 20:35:56  user readOne with user tobkle is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "tobkle", role: "admin", id: "5962778c08de6c9c11df0d23",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "5962778c08de6c9c11df0d24", input: {username: "zoltan", bio: "Maker of things, I guess", role: "editor"}) {
    username
    bio
    role
  }
}

2017-07-09 20:35:56  update user update with user tobkle is authorized
2017-07-09 20:35:56  updated user 5962778c08de6c9c11df0d24.
2017-07-09 20:35:56  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "tobkle", role: "admin", id: "5962778c08de6c9c11df0d23",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "5962778c08de6c9c11df0d23", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:35:56  update user update with user tobkle is authorized
2017-07-09 20:35:56  updated user 5962778c08de6c9c11df0d23.
2017-07-09 20:35:56  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "tobkle", role: "admin", id: "5962778c08de6c9c11df0d23",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "5962778c08de6c9c11df0d24", input: {username: "zoltan", bio: "now an admin", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:35:56  update user update with user tobkle is authorized
2017-07-09 20:35:56  updated user 5962778c08de6c9c11df0d24.
2017-07-09 20:35:56  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "tobkle", role: "admin", id: "5962778c08de6c9c11df0d23",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "5962778c08de6c9c11df0d23", input: {username: "tobkle", bio: "Maker of things, I guess", role: "editor"}) {
    username
    bio
    role
  }
}

2017-07-09 20:35:56  update user update with user tobkle is authorized
2017-07-09 20:35:56  updated user 5962778c08de6c9c11df0d23.
2017-07-09 20:35:56  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "tobkle", role: "editor", id: "5962778c08de6c9c11df0d23",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "5962778c08de6c9c11df0d23", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:35:56  authQuery: {
  "$or": [
    {
      "_id": "5962778c08de6c9c11df0d23"
    }
  ]
}
2017-07-09 20:35:56  ERROR Not authorized to update field "role"
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "zoltan", role: "admin", id: "5962778c08de6c9c11df0d24",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "5962778c08de6c9c11df0d23", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:35:56  update user update with user zoltan is authorized
2017-07-09 20:35:56  updated user 5962778c08de6c9c11df0d23.
2017-07-09 20:35:56  pubsub userUpdated readOne with user zoltan is authorized
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "tobkle", role: "admin", id: "5962778c08de6c9c11df0d23",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "5962778c08de6c9c11df0d24")
}

2017-07-09 20:35:56  removeUser delete with user tobkle is authorized
2017-07-09 20:35:56  removed user 5962778c08de6c9c11df0d24.
2017-07-09 20:35:56  --------------------------------------------------------------------------------
2017-07-09 20:35:56  Request:
User: "tobkle", role: "admin", id: "5962778c08de6c9c11df0d23",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "5962778c08de6c9c11df0d23", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 20:35:57  insert tweet create with user tobkle is authorized
2017-07-09 20:35:57  inserted tweet 5962778d08de6c9c11df0d25.
2017-07-09 20:35:57  pubsub tweetInserted readOne with user tobkle is authorized
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "admin", id: "5962778c08de6c9c11df0d23",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 20:35:57  insert tweet create with user tobkle is authorized
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "admin", id: "5962778c08de6c9c11df0d23",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "5962778d08de6c9c11df0d25") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:35:57  tweet readOne with user tobkle is authorized
2017-07-09 20:35:57  inserted tweet 5962778d08de6c9c11df0d26.
2017-07-09 20:35:57  pubsub tweetInserted readOne with user tobkle is authorized
2017-07-09 20:35:57  author readOne with user tobkle is authorized
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "admin", id: "5962778c08de6c9c11df0d23",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:35:57  tweet readOne with user tobkle is authorized
2017-07-09 20:35:57  author readOne with user tobkle is authorized
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "admin", id: "5962778c08de6c9c11df0d23",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "5962778d08de6c9c11df0d25", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:35:57  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 20:35:57  update tweet update with user tobkle is authorized
2017-07-09 20:35:57  updated tweet 5962778d08de6c9c11df0d25.
2017-07-09 20:35:57  pubsub tweetUpdated readOne with user tobkle is authorized
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "admin", id: "5962778c08de6c9c11df0d23",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "5962778d08de6c9c11df0d26", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:35:57  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 20:35:57  update tweet update with user tobkle is authorized
2017-07-09 20:35:57  updated tweet 5962778d08de6c9c11df0d26.
2017-07-09 20:35:57  pubsub tweetUpdated readOne with user tobkle is authorized
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "admin", id: "5962778c08de6c9c11df0d23",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "5962778d08de6c9c11df0d25") {
    body
  }
}

2017-07-09 20:35:57  tweet readOne with user tobkle is authorized
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "admin", id: "5962778c08de6c9c11df0d23",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "5962778d08de6c9c11df0d25")
}

2017-07-09 20:35:57  removeTweet delete with user tobkle is authorized
2017-07-09 20:35:57  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 20:35:57  removed tweet 5962778d08de6c9c11df0d25.
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "admin", id: "5962778c08de6c9c11df0d23",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "5962778d08de6c9c11df0d26")
}

2017-07-09 20:35:57  removeTweet delete with user tobkle is authorized
2017-07-09 20:35:57  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 20:35:57  removed tweet 5962778d08de6c9c11df0d26.
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "admin", id: "5962778c08de6c9c11df0d23",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "5962778d08de6c9c11df0d25") {
    body
  }
}

2017-07-09 20:35:57  tweet readOne with user tobkle is authorized
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "admin", id: "5962778c08de6c9c11df0d23",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "5962778c08de6c9c11df0d23")
}

2017-07-09 20:35:57  removeUser delete with user tobkle is authorized
2017-07-09 20:35:57  removed user 5962778c08de6c9c11df0d23.
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "5962778c08de6c9c11df0d23") {
    username
    bio
    role
  }
}

2017-07-09 20:35:57  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "user"}) {
    id
  }
}

2017-07-09 20:35:57  ERROR Authorization: Not authorized to create in insert user.
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    username
    bio
    role
  }
}

2017-07-09 20:35:57  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "583291a1638566b3c5a92ca1", input: {username: "zoltan", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:35:57  ERROR Authorization: Not authorized to update in update user.
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "583291a1638566b3c5a92ca1")
}

2017-07-09 20:35:57  ERROR Authorization: Not authorized to delete in removeUser.
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 20:35:57  ERROR Authorization: Not authorized to create in insert tweet.
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:35:57  tweet readOne with user <no-user> is authorized
2017-07-09 20:35:57  ERROR Authorization: Not authorized to readOne in author.
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:35:57  tweet getOneById in updateById for docBefore readOne with user <no-user> is authorized
2017-07-09 20:35:57  ERROR Authorization: Not authorized to update in update tweet.
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:35:57  tweet getOneById in updateById for docBefore readOne with user <no-user> is authorized
2017-07-09 20:35:57  ERROR Authorization: Not authorized to update in update tweet.
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "583676d3618530145474e352")
}

2017-07-09 20:35:57  ERROR Authorization: Not authorized to delete in removeTweet.
2017-07-09 20:35:57  tweet getOneById in removeById for docBefore readOne with user <no-user> is authorized
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "tobkle", bio: "someone", role: "user"}) {
    id
    role
  }
}

2017-07-09 20:35:57  insert user create with user stubailo is authorized
2017-07-09 20:35:57  inserted user 5962778d08de6c9c11df0d27.
2017-07-09 20:35:57  pubsub userInserted readOne with user stubailo is authorized
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "user", id: "5962778d08de6c9c11df0d27",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "user"}) {
    id
  }
}

2017-07-09 20:35:57  authQuery: {
  "$or": []
}
2017-07-09 20:35:57  ERROR Authorization: Not authorized to create in insert user.
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "user", id: "5962778d08de6c9c11df0d27",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    username
    bio
    role
  }
}

2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "_id": "5962778d08de6c9c11df0d27"
    }
  ]
}
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "user", id: "5962778d08de6c9c11df0d27",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "5962778d08de6c9c11df0d27") {
    username
  }
}

2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "_id": "5962778d08de6c9c11df0d27"
    }
  ]
}
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "user", id: "5962778d08de6c9c11df0d27",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "5962778d08de6c9c11df0d27") {
    username
    role
  }
}

2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "_id": "5962778d08de6c9c11df0d27"
    }
  ]
}
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "user", id: "5962778d08de6c9c11df0d27",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "583291a1638566b3c5a92ca1", input: {username: "zoltan", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "_id": "5962778d08de6c9c11df0d27"
    }
  ]
}
2017-07-09 20:35:57  ERROR Not authorized to update field "role"
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "user", id: "5962778d08de6c9c11df0d27",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "5962778d08de6c9c11df0d27", input: {username: "tobkle", bio: "Maker of things, I guess"}) {
    username
    bio
  }
}

2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "_id": "5962778d08de6c9c11df0d27"
    }
  ]
}
2017-07-09 20:35:57  updated user 5962778d08de6c9c11df0d27.
2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "_id": "5962778d08de6c9c11df0d27"
    }
  ]
}
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "user", id: "5962778d08de6c9c11df0d27",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "5962778d08de6c9c11df0d27", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "_id": "5962778d08de6c9c11df0d27"
    }
  ]
}
2017-07-09 20:35:57  ERROR Not authorized to update field "role"
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "user", id: "5962778d08de6c9c11df0d27",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "583291a1638566b3c5a92ca1")
}

2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "_id": "5962778d08de6c9c11df0d27"
    }
  ]
}
2017-07-09 20:35:57  ERROR remove user failed for finalQuery: {
  "_id": "583291a1638566b3c5a92ca1",
  "$or": [
    {
      "_id": "5962778d08de6c9c11df0d27"
    }
  ]
}
2017-07-09 20:35:57  ERROR remove user not possible for 583291a1638566b3c5a92ca1.
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "user", id: "5962778d08de6c9c11df0d27",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "5962778d08de6c9c11df0d27", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "authorId": "5962778d08de6c9c11df0d27"
    }
  ]
}
2017-07-09 20:35:57  inserted tweet 5962778d08de6c9c11df0d28.
2017-07-09 20:35:57  pubsub tweetInserted readOne with user tobkle is authorized
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "user", id: "5962778d08de6c9c11df0d27",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "authorId": "5962778d08de6c9c11df0d27"
    }
  ]
}
2017-07-09 20:35:57  ERROR Not authorized to insert tweet
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "user", id: "5962778d08de6c9c11df0d27",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "5962778d08de6c9c11df0d28") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:35:57  tweet readOne with user tobkle is authorized
2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "_id": "5962778d08de6c9c11df0d27"
    }
  ]
}
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "user", id: "5962778d08de6c9c11df0d27",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:35:57  tweet readOne with user tobkle is authorized
2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "_id": "5962778d08de6c9c11df0d27"
    }
  ]
}
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "user", id: "5962778d08de6c9c11df0d27",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "5962778d08de6c9c11df0d28", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:35:57  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "authorId": "5962778d08de6c9c11df0d27"
    },
    {
      "coauthorsIds": "5962778d08de6c9c11df0d27"
    }
  ]
}
2017-07-09 20:35:57  updated tweet 5962778d08de6c9c11df0d28.
2017-07-09 20:35:57  pubsub tweetUpdated readOne with user tobkle is authorized
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "user", id: "5962778d08de6c9c11df0d27",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:35:57  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "authorId": "5962778d08de6c9c11df0d27"
    },
    {
      "coauthorsIds": "5962778d08de6c9c11df0d27"
    }
  ]
}
2017-07-09 20:35:57  ERROR update tweet failed finalQuery: {
  "_id": "583676d3618530145474e352",
  "$or": [
    {
      "authorId": "5962778d08de6c9c11df0d27"
    },
    {
      "coauthorsIds": "5962778d08de6c9c11df0d27"
    }
  ]
}
2017-07-09 20:35:57  ERROR update tweet failed for docToUpdate: {
  "$set": {
    "body": "This is a modified test tweet",
    "updatedAt": 1499625357426,
    "updatedById": "5962778d08de6c9c11df0d27"
  }
}
2017-07-09 20:35:57  ERROR update tweet not possible for 583676d3618530145474e352.
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "user", id: "5962778d08de6c9c11df0d27",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "5962778d08de6c9c11df0d28") {
    body
  }
}

2017-07-09 20:35:57  tweet readOne with user tobkle is authorized
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "user", id: "5962778d08de6c9c11df0d27",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "5962778d08de6c9c11df0d28")
}

2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "authorId": "5962778d08de6c9c11df0d27"
    }
  ]
}
2017-07-09 20:35:57  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 20:35:57  removed tweet 5962778d08de6c9c11df0d28.
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "user", id: "5962778d08de6c9c11df0d27",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "583676d3618530145474e352")
}

2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "authorId": "5962778d08de6c9c11df0d27"
    }
  ]
}
2017-07-09 20:35:57  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 20:35:57  ERROR remove tweet failed for finalQuery: {
  "_id": "583676d3618530145474e352",
  "$or": [
    {
      "authorId": "5962778d08de6c9c11df0d27"
    }
  ]
}
2017-07-09 20:35:57  ERROR remove tweet not possible for 583676d3618530145474e352.
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "user", id: "5962778d08de6c9c11df0d27",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "5962778d08de6c9c11df0d28") {
    body
  }
}

2017-07-09 20:35:57  tweet readOne with user tobkle is authorized
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "user", id: "5962778d08de6c9c11df0d27",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "5962778d08de6c9c11df0d27")
}

2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "_id": "5962778d08de6c9c11df0d27"
    }
  ]
}
2017-07-09 20:35:57  removed user 5962778d08de6c9c11df0d27.
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "5962778d08de6c9c11df0d27") {
    username
    bio
    role
  }
}

2017-07-09 20:35:57  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "tobkle", bio: "someone", role: "editor"}) {
    id
    role
  }
}

2017-07-09 20:35:57  insert user create with user stubailo is authorized
2017-07-09 20:35:57  inserted user 5962778d08de6c9c11df0d29.
2017-07-09 20:35:57  pubsub userInserted readOne with user stubailo is authorized
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "editor", id: "5962778d08de6c9c11df0d29",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "editor"}) {
    id
  }
}

2017-07-09 20:35:57  authQuery: {
  "$or": []
}
2017-07-09 20:35:57  ERROR Authorization: Not authorized to create in insert user.
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "editor", id: "5962778d08de6c9c11df0d29",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    username
    bio
    role
  }
}

2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "_id": "5962778d08de6c9c11df0d29"
    }
  ]
}
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "editor", id: "5962778d08de6c9c11df0d29",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "5962778d08de6c9c11df0d29") {
    username
    role
  }
}

2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "_id": "5962778d08de6c9c11df0d29"
    }
  ]
}
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "editor", id: "5962778d08de6c9c11df0d29",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "583291a1638566b3c5a92ca1", input: {username: "zoltan", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "_id": "5962778d08de6c9c11df0d29"
    }
  ]
}
2017-07-09 20:35:57  ERROR Not authorized to update field "role"
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tobkle", role: "editor", id: "5962778d08de6c9c11df0d29",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "5962778d08de6c9c11df0d29", input: {username: "tmeasday", bio: "Maker of things, I guess"}) {
    username
    bio
  }
}

2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "_id": "5962778d08de6c9c11df0d29"
    }
  ]
}
2017-07-09 20:35:57  updated user 5962778d08de6c9c11df0d29.
2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "_id": "5962778d08de6c9c11df0d29"
    }
  ]
}
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tmeasday", role: "editor", id: "5962778d08de6c9c11df0d29",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "5962778d08de6c9c11df0d29", input: {username: "tmeasday", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "_id": "5962778d08de6c9c11df0d29"
    }
  ]
}
2017-07-09 20:35:57  ERROR Not authorized to update field "role"
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tmeasday", role: "editor", id: "5962778d08de6c9c11df0d29",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "583291a1638566b3c5a92ca1")
}

2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "_id": "5962778d08de6c9c11df0d29"
    }
  ]
}
2017-07-09 20:35:57  ERROR remove user failed for finalQuery: {
  "_id": "583291a1638566b3c5a92ca1",
  "$or": [
    {
      "_id": "5962778d08de6c9c11df0d29"
    }
  ]
}
2017-07-09 20:35:57  ERROR remove user not possible for 583291a1638566b3c5a92ca1.
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tmeasday", role: "editor", id: "5962778d08de6c9c11df0d29",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "5962778d08de6c9c11df0d29", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "authorId": "5962778d08de6c9c11df0d29"
    }
  ]
}
2017-07-09 20:35:57  inserted tweet 5962778d08de6c9c11df0d2a.
2017-07-09 20:35:57  pubsub tweetInserted readOne with user tmeasday is authorized
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tmeasday", role: "editor", id: "5962778d08de6c9c11df0d29",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "authorId": "5962778d08de6c9c11df0d29"
    }
  ]
}
2017-07-09 20:35:57  ERROR Not authorized to insert tweet
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tmeasday", role: "editor", id: "5962778d08de6c9c11df0d29",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "5962778d08de6c9c11df0d2a") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:35:57  tweet readOne with user tmeasday is authorized
2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "_id": "5962778d08de6c9c11df0d29"
    }
  ]
}
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tmeasday", role: "editor", id: "5962778d08de6c9c11df0d29",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:35:57  tweet readOne with user tmeasday is authorized
2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "_id": "5962778d08de6c9c11df0d29"
    }
  ]
}
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tmeasday", role: "editor", id: "5962778d08de6c9c11df0d29",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "5962778d08de6c9c11df0d2a", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:35:57  tweet getOneById in updateById for docBefore readOne with user tmeasday is authorized
2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "authorId": "5962778d08de6c9c11df0d29"
    },
    {
      "coauthorsIds": "5962778d08de6c9c11df0d29"
    }
  ]
}
2017-07-09 20:35:57  updated tweet 5962778d08de6c9c11df0d2a.
2017-07-09 20:35:57  pubsub tweetUpdated readOne with user tmeasday is authorized
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tmeasday", role: "editor", id: "5962778d08de6c9c11df0d29",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:35:57  tweet getOneById in updateById for docBefore readOne with user tmeasday is authorized
2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "authorId": "5962778d08de6c9c11df0d29"
    },
    {
      "coauthorsIds": "5962778d08de6c9c11df0d29"
    }
  ]
}
2017-07-09 20:35:57  ERROR update tweet failed finalQuery: {
  "_id": "583676d3618530145474e352",
  "$or": [
    {
      "authorId": "5962778d08de6c9c11df0d29"
    },
    {
      "coauthorsIds": "5962778d08de6c9c11df0d29"
    }
  ]
}
2017-07-09 20:35:57  ERROR update tweet failed for docToUpdate: {
  "$set": {
    "body": "This is a modified test tweet",
    "updatedAt": 1499625357646,
    "updatedById": "5962778d08de6c9c11df0d29"
  }
}
2017-07-09 20:35:57  ERROR update tweet not possible for 583676d3618530145474e352.
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tmeasday", role: "editor", id: "5962778d08de6c9c11df0d29",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "5962778d08de6c9c11df0d2a") {
    body
  }
}

2017-07-09 20:35:57  tweet readOne with user tmeasday is authorized
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tmeasday", role: "editor", id: "5962778d08de6c9c11df0d29",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "5962778d08de6c9c11df0d2a")
}

2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "authorId": "5962778d08de6c9c11df0d29"
    }
  ]
}
2017-07-09 20:35:57  tweet getOneById in removeById for docBefore readOne with user tmeasday is authorized
2017-07-09 20:35:57  removed tweet 5962778d08de6c9c11df0d2a.
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tmeasday", role: "editor", id: "5962778d08de6c9c11df0d29",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "583676d3618530145474e352")
}

2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "authorId": "5962778d08de6c9c11df0d29"
    }
  ]
}
2017-07-09 20:35:57  tweet getOneById in removeById for docBefore readOne with user tmeasday is authorized
2017-07-09 20:35:57  ERROR remove tweet failed for finalQuery: {
  "_id": "583676d3618530145474e352",
  "$or": [
    {
      "authorId": "5962778d08de6c9c11df0d29"
    }
  ]
}
2017-07-09 20:35:57  ERROR remove tweet not possible for 583676d3618530145474e352.
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tmeasday", role: "editor", id: "5962778d08de6c9c11df0d29",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "5962778d08de6c9c11df0d2a") {
    body
  }
}

2017-07-09 20:35:57  tweet readOne with user tmeasday is authorized
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "tmeasday", role: "editor", id: "5962778d08de6c9c11df0d29",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "5962778d08de6c9c11df0d29")
}

2017-07-09 20:35:57  authQuery: {
  "$or": [
    {
      "_id": "5962778d08de6c9c11df0d29"
    }
  ]
}
2017-07-09 20:35:57  removed user 5962778d08de6c9c11df0d29.
2017-07-09 20:35:57  --------------------------------------------------------------------------------
2017-07-09 20:35:57  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "5962778d08de6c9c11df0d29") {
    username
    bio
    role
  }
}

2017-07-09 20:35:57  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 20:36:20  Logger started
2017-07-09 20:36:33  Logger started
2017-07-09 20:37:37  Logger started
2017-07-09 20:38:24  Logger started
2017-07-09 20:39:07  --------------------------------------------------------------------------------
2017-07-09 20:39:07  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  __schema {
    queryType {
      name
    }
  }
}

2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  __schema {
    queryType {
      name
    }
  }
}

2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    role
    username
  }
}

2017-07-09 20:39:18  user readOne with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    role
    username
  }
}

2017-07-09 20:39:18  user readOne with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca2") {
    role
    username
  }
}

2017-07-09 20:39:18  user readOne with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    id
    username
    bio
  }
}

2017-07-09 20:39:18  user readOne with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users {
    username
    createdAt
  }
}

2017-07-09 20:39:18  users readMany with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users(limit: 1) {
    username
    createdAt
  }
}

2017-07-09 20:39:18  users readMany with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users(lastCreatedAt: 1479776904993) {
    username
    createdAt
  }
}

2017-07-09 20:39:18  users readMany with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users(lastCreatedAt: 1479776904993, limit: 1) {
    username
    createdAt
  }
}

2017-07-09 20:39:18  users readMany with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers {
      username
      createdAt
    }
  }
}

2017-07-09 20:39:18  user readOne with user stubailo is authorized
2017-07-09 20:39:18  followers readMany with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers(limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:39:18  user readOne with user stubailo is authorized
2017-07-09 20:39:18  followers readMany with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers(lastCreatedAt: 1479776905993) {
      username
      createdAt
    }
  }
}

2017-07-09 20:39:18  user readOne with user stubailo is authorized
2017-07-09 20:39:18  followers readMany with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers(lastCreatedAt: 1479776905993, limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:39:18  user readOne with user stubailo is authorized
2017-07-09 20:39:18  followers readMany with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following {
      username
      createdAt
    }
  }
}

2017-07-09 20:39:18  user readOne with user stubailo is authorized
2017-07-09 20:39:18  following readMany with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following(limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:39:18  user readOne with user stubailo is authorized
2017-07-09 20:39:18  following readMany with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following(lastCreatedAt: 1479776905993) {
      username
      createdAt
    }
  }
}

2017-07-09 20:39:18  user readOne with user stubailo is authorized
2017-07-09 20:39:18  following readMany with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following(lastCreatedAt: 1479776905993, limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:39:18  user readOne with user stubailo is authorized
2017-07-09 20:39:18  following readMany with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets {
      id
      createdAt
    }
  }
}

2017-07-09 20:39:18  user readOne with user stubailo is authorized
2017-07-09 20:39:18  tweets readMany with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets(limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 20:39:18  user readOne with user stubailo is authorized
2017-07-09 20:39:18  tweets readMany with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets(lastCreatedAt: 1479964340853) {
      id
      createdAt
    }
  }
}

2017-07-09 20:39:18  user readOne with user stubailo is authorized
2017-07-09 20:39:18  tweets readMany with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets(lastCreatedAt: 1479964340853, limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 20:39:18  user readOne with user stubailo is authorized
2017-07-09 20:39:18  tweets readMany with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked {
      id
      createdAt
    }
  }
}

2017-07-09 20:39:18  user readOne with user stubailo is authorized
2017-07-09 20:39:18  liked readMany with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked(limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 20:39:18  user readOne with user stubailo is authorized
2017-07-09 20:39:18  liked readMany with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked(lastCreatedAt: 1479964371334) {
      id
      createdAt
    }
  }
}

2017-07-09 20:39:18  user readOne with user stubailo is authorized
2017-07-09 20:39:18  liked readMany with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked(lastCreatedAt: 1479964371334, limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 20:39:18  user readOne with user stubailo is authorized
2017-07-09 20:39:18  liked readMany with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets {
    id
    createdAt
  }
}

2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e351") {
    author {
      username
    }
  }
}

2017-07-09 20:39:18  tweets readMany with user stubailo is authorized
2017-07-09 20:39:18  tweet readOne with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e351") {
    id
    body
  }
}

2017-07-09 20:39:18  tweet readOne with user stubailo is authorized
2017-07-09 20:39:18  author readOne with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets(limit: 1) {
    id
    createdAt
  }
}

2017-07-09 20:39:18  tweets readMany with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets(lastCreatedAt: 1479964340853) {
    id
    createdAt
  }
}

2017-07-09 20:39:18  tweets readMany with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets(lastCreatedAt: 1479964340853, limit: 1) {
    id
    createdAt
  }
}

2017-07-09 20:39:18  tweets readMany with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers {
      username
      createdAt
    }
  }
}

2017-07-09 20:39:18  tweet readOne with user stubailo is authorized
2017-07-09 20:39:18  likers readMany with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers(limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:39:18  tweet readOne with user stubailo is authorized
2017-07-09 20:39:18  likers readMany with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers(lastCreatedAt: 1479776904993) {
      username
      createdAt
    }
  }
}

2017-07-09 20:39:18  tweet readOne with user stubailo is authorized
2017-07-09 20:39:18  likers readMany with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers(lastCreatedAt: 1479776904993, limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:39:18  tweet readOne with user stubailo is authorized
2017-07-09 20:39:18  likers readMany with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "tobkle", bio: "someone", role: "admin"}) {
    id
    role
  }
}

2017-07-09 20:39:18  insert user create with user stubailo is authorized
2017-07-09 20:39:18  inserted user 596278564c57819cb42922c4.
2017-07-09 20:39:18  pubsub userInserted readOne with user stubailo is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "tobkle", role: "admin", id: "596278564c57819cb42922c4",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "editor"}) {
    id
  }
}

2017-07-09 20:39:18  insert user create with user tobkle is authorized
2017-07-09 20:39:18  inserted user 596278564c57819cb42922c5.
2017-07-09 20:39:18  pubsub userInserted readOne with user tobkle is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "tobkle", role: "admin", id: "596278564c57819cb42922c4",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "596278564c57819cb42922c5") {
    username
    bio
    role
  }
}

2017-07-09 20:39:18  user readOne with user tobkle is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "tobkle", role: "admin", id: "596278564c57819cb42922c4",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "596278564c57819cb42922c4") {
    username
    role
  }
}

2017-07-09 20:39:18  user readOne with user tobkle is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "tobkle", role: "admin", id: "596278564c57819cb42922c4",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "596278564c57819cb42922c5", input: {username: "zoltan", bio: "Maker of things, I guess", role: "editor"}) {
    username
    bio
    role
  }
}

2017-07-09 20:39:18  update user update with user tobkle is authorized
2017-07-09 20:39:18  updated user 596278564c57819cb42922c5.
2017-07-09 20:39:18  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "tobkle", role: "admin", id: "596278564c57819cb42922c4",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "596278564c57819cb42922c4", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:39:18  update user update with user tobkle is authorized
2017-07-09 20:39:18  updated user 596278564c57819cb42922c4.
2017-07-09 20:39:18  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "tobkle", role: "admin", id: "596278564c57819cb42922c4",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "596278564c57819cb42922c5", input: {username: "zoltan", bio: "now an admin", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:39:18  update user update with user tobkle is authorized
2017-07-09 20:39:18  updated user 596278564c57819cb42922c5.
2017-07-09 20:39:18  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "tobkle", role: "admin", id: "596278564c57819cb42922c4",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "596278564c57819cb42922c4", input: {username: "tobkle", bio: "Maker of things, I guess", role: "editor"}) {
    username
    bio
    role
  }
}

2017-07-09 20:39:18  update user update with user tobkle is authorized
2017-07-09 20:39:18  updated user 596278564c57819cb42922c4.
2017-07-09 20:39:18  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 20:39:18  --------------------------------------------------------------------------------
2017-07-09 20:39:18  Request:
User: "tobkle", role: "editor", id: "596278564c57819cb42922c4",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "596278564c57819cb42922c4", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:39:18  authQuery: {
  "$or": [
    {
      "_id": "596278564c57819cb42922c4"
    }
  ]
}
2017-07-09 20:39:18  ERROR Not authorized to update field "role"
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "zoltan", role: "admin", id: "596278564c57819cb42922c5",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "596278564c57819cb42922c4", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:39:19  update user update with user zoltan is authorized
2017-07-09 20:39:19  updated user 596278564c57819cb42922c4.
2017-07-09 20:39:19  pubsub userUpdated readOne with user zoltan is authorized
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "admin", id: "596278564c57819cb42922c4",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "596278564c57819cb42922c5")
}

2017-07-09 20:39:19  removeUser delete with user tobkle is authorized
2017-07-09 20:39:19  removed user 596278564c57819cb42922c5.
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "admin", id: "596278564c57819cb42922c4",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "596278564c57819cb42922c4", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 20:39:19  insert tweet create with user tobkle is authorized
2017-07-09 20:39:19  inserted tweet 596278574c57819cb42922c6.
2017-07-09 20:39:19  pubsub tweetInserted readOne with user tobkle is authorized
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "admin", id: "596278564c57819cb42922c4",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 20:39:19  insert tweet create with user tobkle is authorized
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "admin", id: "596278564c57819cb42922c4",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "596278574c57819cb42922c6") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:39:19  tweet readOne with user tobkle is authorized
2017-07-09 20:39:19  inserted tweet 596278574c57819cb42922c7.
2017-07-09 20:39:19  pubsub tweetInserted readOne with user tobkle is authorized
2017-07-09 20:39:19  author readOne with user tobkle is authorized
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "admin", id: "596278564c57819cb42922c4",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:39:19  tweet readOne with user tobkle is authorized
2017-07-09 20:39:19  author readOne with user tobkle is authorized
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "admin", id: "596278564c57819cb42922c4",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "596278574c57819cb42922c6", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:39:19  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 20:39:19  update tweet update with user tobkle is authorized
2017-07-09 20:39:19  updated tweet 596278574c57819cb42922c6.
2017-07-09 20:39:19  pubsub tweetUpdated readOne with user tobkle is authorized
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "admin", id: "596278564c57819cb42922c4",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "596278574c57819cb42922c7", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:39:19  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 20:39:19  update tweet update with user tobkle is authorized
2017-07-09 20:39:19  updated tweet 596278574c57819cb42922c7.
2017-07-09 20:39:19  pubsub tweetUpdated readOne with user tobkle is authorized
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "admin", id: "596278564c57819cb42922c4",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "596278574c57819cb42922c6") {
    body
  }
}

2017-07-09 20:39:19  tweet readOne with user tobkle is authorized
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "admin", id: "596278564c57819cb42922c4",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "596278574c57819cb42922c6")
}

2017-07-09 20:39:19  removeTweet delete with user tobkle is authorized
2017-07-09 20:39:19  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 20:39:19  removed tweet 596278574c57819cb42922c6.
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "admin", id: "596278564c57819cb42922c4",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "596278574c57819cb42922c7")
}

2017-07-09 20:39:19  removeTweet delete with user tobkle is authorized
2017-07-09 20:39:19  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 20:39:19  removed tweet 596278574c57819cb42922c7.
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "admin", id: "596278564c57819cb42922c4",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "596278574c57819cb42922c6") {
    body
  }
}

2017-07-09 20:39:19  tweet readOne with user tobkle is authorized
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "admin", id: "596278564c57819cb42922c4",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "596278564c57819cb42922c4")
}

2017-07-09 20:39:19  removeUser delete with user tobkle is authorized
2017-07-09 20:39:19  removed user 596278564c57819cb42922c4.
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "596278564c57819cb42922c4") {
    username
    bio
    role
  }
}

2017-07-09 20:39:19  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "user"}) {
    id
  }
}

2017-07-09 20:39:19  ERROR Authorization: Not authorized to create in insert user.
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    username
    bio
    role
  }
}

2017-07-09 20:39:19  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "583291a1638566b3c5a92ca1", input: {username: "zoltan", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:39:19  ERROR Authorization: Not authorized to update in update user.
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "583291a1638566b3c5a92ca1")
}

2017-07-09 20:39:19  ERROR Authorization: Not authorized to delete in removeUser.
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 20:39:19  ERROR Authorization: Not authorized to create in insert tweet.
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:39:19  tweet readOne with user <no-user> is authorized
2017-07-09 20:39:19  ERROR Authorization: Not authorized to readOne in author.
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:39:19  tweet getOneById in updateById for docBefore readOne with user <no-user> is authorized
2017-07-09 20:39:19  ERROR Authorization: Not authorized to update in update tweet.
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:39:19  tweet getOneById in updateById for docBefore readOne with user <no-user> is authorized
2017-07-09 20:39:19  ERROR Authorization: Not authorized to update in update tweet.
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "583676d3618530145474e352")
}

2017-07-09 20:39:19  ERROR Authorization: Not authorized to delete in removeTweet.
2017-07-09 20:39:19  tweet getOneById in removeById for docBefore readOne with user <no-user> is authorized
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "tobkle", bio: "someone", role: "user"}) {
    id
    role
  }
}

2017-07-09 20:39:19  insert user create with user stubailo is authorized
2017-07-09 20:39:19  inserted user 596278574c57819cb42922c8.
2017-07-09 20:39:19  pubsub userInserted readOne with user stubailo is authorized
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "user", id: "596278574c57819cb42922c8",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "user"}) {
    id
  }
}

2017-07-09 20:39:19  authQuery: {
  "$or": []
}
2017-07-09 20:39:19  ERROR Authorization: Not authorized to create in insert user.
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "user", id: "596278574c57819cb42922c8",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    username
    bio
    role
  }
}

2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "_id": "596278574c57819cb42922c8"
    }
  ]
}
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "user", id: "596278574c57819cb42922c8",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "596278574c57819cb42922c8") {
    username
  }
}

2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "_id": "596278574c57819cb42922c8"
    }
  ]
}
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "user", id: "596278574c57819cb42922c8",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "596278574c57819cb42922c8") {
    username
    role
  }
}

2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "_id": "596278574c57819cb42922c8"
    }
  ]
}
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "user", id: "596278574c57819cb42922c8",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "583291a1638566b3c5a92ca1", input: {username: "zoltan", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "_id": "596278574c57819cb42922c8"
    }
  ]
}
2017-07-09 20:39:19  ERROR Not authorized to update field "role"
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "user", id: "596278574c57819cb42922c8",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "596278574c57819cb42922c8", input: {username: "tobkle", bio: "Maker of things, I guess"}) {
    username
    bio
  }
}

2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "_id": "596278574c57819cb42922c8"
    }
  ]
}
2017-07-09 20:39:19  updated user 596278574c57819cb42922c8.
2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "_id": "596278574c57819cb42922c8"
    }
  ]
}
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "user", id: "596278574c57819cb42922c8",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "596278574c57819cb42922c8", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "_id": "596278574c57819cb42922c8"
    }
  ]
}
2017-07-09 20:39:19  ERROR Not authorized to update field "role"
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "user", id: "596278574c57819cb42922c8",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "583291a1638566b3c5a92ca1")
}

2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "_id": "596278574c57819cb42922c8"
    }
  ]
}
2017-07-09 20:39:19  ERROR remove user failed for finalQuery: {
  "_id": "583291a1638566b3c5a92ca1",
  "$or": [
    {
      "_id": "596278574c57819cb42922c8"
    }
  ]
}
2017-07-09 20:39:19  ERROR remove user not possible for 583291a1638566b3c5a92ca1.
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "user", id: "596278574c57819cb42922c8",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "596278574c57819cb42922c8", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "authorId": "596278574c57819cb42922c8"
    }
  ]
}
2017-07-09 20:39:19  inserted tweet 596278574c57819cb42922c9.
2017-07-09 20:39:19  pubsub tweetInserted readOne with user tobkle is authorized
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "user", id: "596278574c57819cb42922c8",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "authorId": "596278574c57819cb42922c8"
    }
  ]
}
2017-07-09 20:39:19  ERROR Not authorized to insert tweet
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "user", id: "596278574c57819cb42922c8",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "596278574c57819cb42922c9") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:39:19  tweet readOne with user tobkle is authorized
2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "_id": "596278574c57819cb42922c8"
    }
  ]
}
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "user", id: "596278574c57819cb42922c8",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:39:19  tweet readOne with user tobkle is authorized
2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "_id": "596278574c57819cb42922c8"
    }
  ]
}
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "user", id: "596278574c57819cb42922c8",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "596278574c57819cb42922c9", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:39:19  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "authorId": "596278574c57819cb42922c8"
    },
    {
      "coauthorsIds": "596278574c57819cb42922c8"
    }
  ]
}
2017-07-09 20:39:19  updated tweet 596278574c57819cb42922c9.
2017-07-09 20:39:19  pubsub tweetUpdated readOne with user tobkle is authorized
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "user", id: "596278574c57819cb42922c8",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:39:19  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "authorId": "596278574c57819cb42922c8"
    },
    {
      "coauthorsIds": "596278574c57819cb42922c8"
    }
  ]
}
2017-07-09 20:39:19  ERROR update tweet failed finalQuery: {
  "_id": "583676d3618530145474e352",
  "$or": [
    {
      "authorId": "596278574c57819cb42922c8"
    },
    {
      "coauthorsIds": "596278574c57819cb42922c8"
    }
  ]
}
2017-07-09 20:39:19  ERROR update tweet failed for docToUpdate: {
  "$set": {
    "body": "This is a modified test tweet",
    "updatedAt": 1499625559454,
    "updatedById": "596278574c57819cb42922c8"
  }
}
2017-07-09 20:39:19  ERROR update tweet not possible for 583676d3618530145474e352.
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "user", id: "596278574c57819cb42922c8",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "596278574c57819cb42922c9") {
    body
  }
}

2017-07-09 20:39:19  tweet readOne with user tobkle is authorized
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "user", id: "596278574c57819cb42922c8",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "596278574c57819cb42922c9")
}

2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "authorId": "596278574c57819cb42922c8"
    }
  ]
}
2017-07-09 20:39:19  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 20:39:19  removed tweet 596278574c57819cb42922c9.
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "user", id: "596278574c57819cb42922c8",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "583676d3618530145474e352")
}

2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "authorId": "596278574c57819cb42922c8"
    }
  ]
}
2017-07-09 20:39:19  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 20:39:19  ERROR remove tweet failed for finalQuery: {
  "_id": "583676d3618530145474e352",
  "$or": [
    {
      "authorId": "596278574c57819cb42922c8"
    }
  ]
}
2017-07-09 20:39:19  ERROR remove tweet not possible for 583676d3618530145474e352.
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "user", id: "596278574c57819cb42922c8",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "596278574c57819cb42922c9") {
    body
  }
}

2017-07-09 20:39:19  tweet readOne with user tobkle is authorized
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "user", id: "596278574c57819cb42922c8",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "596278574c57819cb42922c8")
}

2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "_id": "596278574c57819cb42922c8"
    }
  ]
}
2017-07-09 20:39:19  removed user 596278574c57819cb42922c8.
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "596278574c57819cb42922c8") {
    username
    bio
    role
  }
}

2017-07-09 20:39:19  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "tobkle", bio: "someone", role: "editor"}) {
    id
    role
  }
}

2017-07-09 20:39:19  insert user create with user stubailo is authorized
2017-07-09 20:39:19  inserted user 596278574c57819cb42922ca.
2017-07-09 20:39:19  pubsub userInserted readOne with user stubailo is authorized
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "editor", id: "596278574c57819cb42922ca",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "editor"}) {
    id
  }
}

2017-07-09 20:39:19  authQuery: {
  "$or": []
}
2017-07-09 20:39:19  ERROR Authorization: Not authorized to create in insert user.
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "editor", id: "596278574c57819cb42922ca",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    username
    bio
    role
  }
}

2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "_id": "596278574c57819cb42922ca"
    }
  ]
}
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "editor", id: "596278574c57819cb42922ca",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "596278574c57819cb42922ca") {
    username
    role
  }
}

2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "_id": "596278574c57819cb42922ca"
    }
  ]
}
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "editor", id: "596278574c57819cb42922ca",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "583291a1638566b3c5a92ca1", input: {username: "zoltan", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "_id": "596278574c57819cb42922ca"
    }
  ]
}
2017-07-09 20:39:19  ERROR Not authorized to update field "role"
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tobkle", role: "editor", id: "596278574c57819cb42922ca",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "596278574c57819cb42922ca", input: {username: "tmeasday", bio: "Maker of things, I guess"}) {
    username
    bio
  }
}

2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "_id": "596278574c57819cb42922ca"
    }
  ]
}
2017-07-09 20:39:19  updated user 596278574c57819cb42922ca.
2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "_id": "596278574c57819cb42922ca"
    }
  ]
}
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tmeasday", role: "editor", id: "596278574c57819cb42922ca",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "596278574c57819cb42922ca", input: {username: "tmeasday", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "_id": "596278574c57819cb42922ca"
    }
  ]
}
2017-07-09 20:39:19  ERROR Not authorized to update field "role"
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tmeasday", role: "editor", id: "596278574c57819cb42922ca",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "583291a1638566b3c5a92ca1")
}

2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "_id": "596278574c57819cb42922ca"
    }
  ]
}
2017-07-09 20:39:19  ERROR remove user failed for finalQuery: {
  "_id": "583291a1638566b3c5a92ca1",
  "$or": [
    {
      "_id": "596278574c57819cb42922ca"
    }
  ]
}
2017-07-09 20:39:19  ERROR remove user not possible for 583291a1638566b3c5a92ca1.
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tmeasday", role: "editor", id: "596278574c57819cb42922ca",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "596278574c57819cb42922ca", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "authorId": "596278574c57819cb42922ca"
    }
  ]
}
2017-07-09 20:39:19  inserted tweet 596278574c57819cb42922cb.
2017-07-09 20:39:19  pubsub tweetInserted readOne with user tmeasday is authorized
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tmeasday", role: "editor", id: "596278574c57819cb42922ca",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "authorId": "596278574c57819cb42922ca"
    }
  ]
}
2017-07-09 20:39:19  ERROR Not authorized to insert tweet
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tmeasday", role: "editor", id: "596278574c57819cb42922ca",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "596278574c57819cb42922cb") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:39:19  tweet readOne with user tmeasday is authorized
2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "_id": "596278574c57819cb42922ca"
    }
  ]
}
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tmeasday", role: "editor", id: "596278574c57819cb42922ca",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:39:19  tweet readOne with user tmeasday is authorized
2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "_id": "596278574c57819cb42922ca"
    }
  ]
}
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tmeasday", role: "editor", id: "596278574c57819cb42922ca",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "596278574c57819cb42922cb", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:39:19  tweet getOneById in updateById for docBefore readOne with user tmeasday is authorized
2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "authorId": "596278574c57819cb42922ca"
    },
    {
      "coauthorsIds": "596278574c57819cb42922ca"
    }
  ]
}
2017-07-09 20:39:19  updated tweet 596278574c57819cb42922cb.
2017-07-09 20:39:19  pubsub tweetUpdated readOne with user tmeasday is authorized
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tmeasday", role: "editor", id: "596278574c57819cb42922ca",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:39:19  tweet getOneById in updateById for docBefore readOne with user tmeasday is authorized
2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "authorId": "596278574c57819cb42922ca"
    },
    {
      "coauthorsIds": "596278574c57819cb42922ca"
    }
  ]
}
2017-07-09 20:39:19  ERROR update tweet failed finalQuery: {
  "_id": "583676d3618530145474e352",
  "$or": [
    {
      "authorId": "596278574c57819cb42922ca"
    },
    {
      "coauthorsIds": "596278574c57819cb42922ca"
    }
  ]
}
2017-07-09 20:39:19  ERROR update tweet failed for docToUpdate: {
  "$set": {
    "body": "This is a modified test tweet",
    "updatedAt": 1499625559652,
    "updatedById": "596278574c57819cb42922ca"
  }
}
2017-07-09 20:39:19  ERROR update tweet not possible for 583676d3618530145474e352.
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tmeasday", role: "editor", id: "596278574c57819cb42922ca",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "596278574c57819cb42922cb") {
    body
  }
}

2017-07-09 20:39:19  tweet readOne with user tmeasday is authorized
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tmeasday", role: "editor", id: "596278574c57819cb42922ca",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "596278574c57819cb42922cb")
}

2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "authorId": "596278574c57819cb42922ca"
    }
  ]
}
2017-07-09 20:39:19  tweet getOneById in removeById for docBefore readOne with user tmeasday is authorized
2017-07-09 20:39:19  removed tweet 596278574c57819cb42922cb.
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tmeasday", role: "editor", id: "596278574c57819cb42922ca",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "583676d3618530145474e352")
}

2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "authorId": "596278574c57819cb42922ca"
    }
  ]
}
2017-07-09 20:39:19  tweet getOneById in removeById for docBefore readOne with user tmeasday is authorized
2017-07-09 20:39:19  ERROR remove tweet failed for finalQuery: {
  "_id": "583676d3618530145474e352",
  "$or": [
    {
      "authorId": "596278574c57819cb42922ca"
    }
  ]
}
2017-07-09 20:39:19  ERROR remove tweet not possible for 583676d3618530145474e352.
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tmeasday", role: "editor", id: "596278574c57819cb42922ca",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "596278574c57819cb42922cb") {
    body
  }
}

2017-07-09 20:39:19  tweet readOne with user tmeasday is authorized
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "tmeasday", role: "editor", id: "596278574c57819cb42922ca",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "596278574c57819cb42922ca")
}

2017-07-09 20:39:19  authQuery: {
  "$or": [
    {
      "_id": "596278574c57819cb42922ca"
    }
  ]
}
2017-07-09 20:39:19  removed user 596278574c57819cb42922ca.
2017-07-09 20:39:19  --------------------------------------------------------------------------------
2017-07-09 20:39:19  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "596278574c57819cb42922ca") {
    username
    bio
    role
  }
}

2017-07-09 20:39:19  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 20:42:33  --------------------------------------------------------------------------------
2017-07-09 20:42:33  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  __schema {
    queryType {
      name
    }
  }
}

2017-07-09 20:42:44  --------------------------------------------------------------------------------
2017-07-09 20:42:44  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  __schema {
    queryType {
      name
    }
  }
}

2017-07-09 20:42:44  --------------------------------------------------------------------------------
2017-07-09 20:42:44  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    role
    username
  }
}

2017-07-09 20:42:44  user readOne with user stubailo is authorized
2017-07-09 20:42:44  --------------------------------------------------------------------------------
2017-07-09 20:42:44  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    role
    username
  }
}

2017-07-09 20:42:44  user readOne with user stubailo is authorized
2017-07-09 20:42:44  --------------------------------------------------------------------------------
2017-07-09 20:42:44  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca2") {
    role
    username
  }
}

2017-07-09 20:42:44  user readOne with user stubailo is authorized
2017-07-09 20:42:44  --------------------------------------------------------------------------------
2017-07-09 20:42:44  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    id
    username
    bio
  }
}

2017-07-09 20:42:44  user readOne with user stubailo is authorized
2017-07-09 20:42:44  --------------------------------------------------------------------------------
2017-07-09 20:42:44  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users {
    username
    createdAt
  }
}

2017-07-09 20:42:44  users readMany with user stubailo is authorized
2017-07-09 20:42:44  --------------------------------------------------------------------------------
2017-07-09 20:42:44  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users(limit: 1) {
    username
    createdAt
  }
}

2017-07-09 20:42:44  users readMany with user stubailo is authorized
2017-07-09 20:42:44  --------------------------------------------------------------------------------
2017-07-09 20:42:44  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users(lastCreatedAt: 1479776904993) {
    username
    createdAt
  }
}

2017-07-09 20:42:44  users readMany with user stubailo is authorized
2017-07-09 20:42:44  --------------------------------------------------------------------------------
2017-07-09 20:42:44  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users(lastCreatedAt: 1479776904993, limit: 1) {
    username
    createdAt
  }
}

2017-07-09 20:42:44  users readMany with user stubailo is authorized
2017-07-09 20:42:44  --------------------------------------------------------------------------------
2017-07-09 20:42:44  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers {
      username
      createdAt
    }
  }
}

2017-07-09 20:42:44  user readOne with user stubailo is authorized
2017-07-09 20:42:44  followers readMany with user stubailo is authorized
2017-07-09 20:42:44  --------------------------------------------------------------------------------
2017-07-09 20:42:44  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers(limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:42:44  user readOne with user stubailo is authorized
2017-07-09 20:42:44  followers readMany with user stubailo is authorized
2017-07-09 20:42:44  --------------------------------------------------------------------------------
2017-07-09 20:42:44  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers(lastCreatedAt: 1479776905993) {
      username
      createdAt
    }
  }
}

2017-07-09 20:42:44  user readOne with user stubailo is authorized
2017-07-09 20:42:44  followers readMany with user stubailo is authorized
2017-07-09 20:42:44  --------------------------------------------------------------------------------
2017-07-09 20:42:44  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers(lastCreatedAt: 1479776905993, limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:42:44  user readOne with user stubailo is authorized
2017-07-09 20:42:44  followers readMany with user stubailo is authorized
2017-07-09 20:42:44  --------------------------------------------------------------------------------
2017-07-09 20:42:44  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following {
      username
      createdAt
    }
  }
}

2017-07-09 20:42:44  user readOne with user stubailo is authorized
2017-07-09 20:42:44  following readMany with user stubailo is authorized
2017-07-09 20:42:44  --------------------------------------------------------------------------------
2017-07-09 20:42:44  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following(limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:42:44  user readOne with user stubailo is authorized
2017-07-09 20:42:44  following readMany with user stubailo is authorized
2017-07-09 20:42:44  --------------------------------------------------------------------------------
2017-07-09 20:42:44  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following(lastCreatedAt: 1479776905993) {
      username
      createdAt
    }
  }
}

2017-07-09 20:42:44  user readOne with user stubailo is authorized
2017-07-09 20:42:44  following readMany with user stubailo is authorized
2017-07-09 20:42:44  --------------------------------------------------------------------------------
2017-07-09 20:42:44  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following(lastCreatedAt: 1479776905993, limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:42:44  user readOne with user stubailo is authorized
2017-07-09 20:42:44  following readMany with user stubailo is authorized
2017-07-09 20:42:44  --------------------------------------------------------------------------------
2017-07-09 20:42:44  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets {
      id
      createdAt
    }
  }
}

2017-07-09 20:42:44  user readOne with user stubailo is authorized
2017-07-09 20:42:44  tweets readMany with user stubailo is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets(limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 20:42:45  user readOne with user stubailo is authorized
2017-07-09 20:42:45  tweets readMany with user stubailo is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets(lastCreatedAt: 1479964340853) {
      id
      createdAt
    }
  }
}

2017-07-09 20:42:45  user readOne with user stubailo is authorized
2017-07-09 20:42:45  tweets readMany with user stubailo is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets(lastCreatedAt: 1479964340853, limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 20:42:45  user readOne with user stubailo is authorized
2017-07-09 20:42:45  tweets readMany with user stubailo is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked {
      id
      createdAt
    }
  }
}

2017-07-09 20:42:45  user readOne with user stubailo is authorized
2017-07-09 20:42:45  liked readMany with user stubailo is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked(limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 20:42:45  user readOne with user stubailo is authorized
2017-07-09 20:42:45  liked readMany with user stubailo is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked(lastCreatedAt: 1479964371334) {
      id
      createdAt
    }
  }
}

2017-07-09 20:42:45  user readOne with user stubailo is authorized
2017-07-09 20:42:45  liked readMany with user stubailo is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked(lastCreatedAt: 1479964371334, limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 20:42:45  user readOne with user stubailo is authorized
2017-07-09 20:42:45  liked readMany with user stubailo is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e351") {
    id
    body
  }
}

2017-07-09 20:42:45  tweet readOne with user stubailo is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e351") {
    author {
      username
    }
  }
}

2017-07-09 20:42:45  tweet readOne with user stubailo is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets {
    id
    createdAt
  }
}

2017-07-09 20:42:45  tweets readMany with user stubailo is authorized
2017-07-09 20:42:45  author readOne with user stubailo is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets(limit: 1) {
    id
    createdAt
  }
}

2017-07-09 20:42:45  tweets readMany with user stubailo is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets(lastCreatedAt: 1479964340853) {
    id
    createdAt
  }
}

2017-07-09 20:42:45  tweets readMany with user stubailo is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets(lastCreatedAt: 1479964340853, limit: 1) {
    id
    createdAt
  }
}

2017-07-09 20:42:45  tweets readMany with user stubailo is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers {
      username
      createdAt
    }
  }
}

2017-07-09 20:42:45  tweet readOne with user stubailo is authorized
2017-07-09 20:42:45  likers readMany with user stubailo is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers(limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:42:45  tweet readOne with user stubailo is authorized
2017-07-09 20:42:45  likers readMany with user stubailo is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers(lastCreatedAt: 1479776904993) {
      username
      createdAt
    }
  }
}

2017-07-09 20:42:45  tweet readOne with user stubailo is authorized
2017-07-09 20:42:45  likers readMany with user stubailo is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers(lastCreatedAt: 1479776904993, limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 20:42:45  tweet readOne with user stubailo is authorized
2017-07-09 20:42:45  likers readMany with user stubailo is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "tobkle", bio: "someone", role: "admin"}) {
    id
    role
  }
}

2017-07-09 20:42:45  insert user create with user stubailo is authorized
2017-07-09 20:42:45  inserted user 596279254c57819cb42922cc.
2017-07-09 20:42:45  pubsub userInserted readOne with user stubailo is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "admin", id: "596279254c57819cb42922cc",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "editor"}) {
    id
  }
}

2017-07-09 20:42:45  insert user create with user tobkle is authorized
2017-07-09 20:42:45  inserted user 596279254c57819cb42922cd.
2017-07-09 20:42:45  pubsub userInserted readOne with user tobkle is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "admin", id: "596279254c57819cb42922cc",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "596279254c57819cb42922cd") {
    username
    bio
    role
  }
}

2017-07-09 20:42:45  user readOne with user tobkle is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "admin", id: "596279254c57819cb42922cc",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "596279254c57819cb42922cc") {
    username
    role
  }
}

2017-07-09 20:42:45  user readOne with user tobkle is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "admin", id: "596279254c57819cb42922cc",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "596279254c57819cb42922cd", input: {username: "zoltan", bio: "Maker of things, I guess", role: "editor"}) {
    username
    bio
    role
  }
}

2017-07-09 20:42:45  update user update with user tobkle is authorized
2017-07-09 20:42:45  updated user 596279254c57819cb42922cd.
2017-07-09 20:42:45  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "admin", id: "596279254c57819cb42922cc",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "596279254c57819cb42922cc", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:42:45  update user update with user tobkle is authorized
2017-07-09 20:42:45  updated user 596279254c57819cb42922cc.
2017-07-09 20:42:45  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "admin", id: "596279254c57819cb42922cc",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "596279254c57819cb42922cd", input: {username: "zoltan", bio: "now an admin", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:42:45  update user update with user tobkle is authorized
2017-07-09 20:42:45  updated user 596279254c57819cb42922cd.
2017-07-09 20:42:45  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "admin", id: "596279254c57819cb42922cc",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "596279254c57819cb42922cc", input: {username: "tobkle", bio: "Maker of things, I guess", role: "editor"}) {
    username
    bio
    role
  }
}

2017-07-09 20:42:45  update user update with user tobkle is authorized
2017-07-09 20:42:45  updated user 596279254c57819cb42922cc.
2017-07-09 20:42:45  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "editor", id: "596279254c57819cb42922cc",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "596279254c57819cb42922cc", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "_id": "596279254c57819cb42922cc"
    }
  ]
}
2017-07-09 20:42:45  ERROR Not authorized to update field "role"
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "zoltan", role: "admin", id: "596279254c57819cb42922cd",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "596279254c57819cb42922cc", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:42:45  update user update with user zoltan is authorized
2017-07-09 20:42:45  updated user 596279254c57819cb42922cc.
2017-07-09 20:42:45  pubsub userUpdated readOne with user zoltan is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "admin", id: "596279254c57819cb42922cc",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "596279254c57819cb42922cd")
}

2017-07-09 20:42:45  removeUser delete with user tobkle is authorized
2017-07-09 20:42:45  removed user 596279254c57819cb42922cd.
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "admin", id: "596279254c57819cb42922cc",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "596279254c57819cb42922cc", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 20:42:45  insert tweet create with user tobkle is authorized
2017-07-09 20:42:45  inserted tweet 596279254c57819cb42922ce.
2017-07-09 20:42:45  pubsub tweetInserted readOne with user tobkle is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "admin", id: "596279254c57819cb42922cc",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 20:42:45  insert tweet create with user tobkle is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "admin", id: "596279254c57819cb42922cc",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "596279254c57819cb42922ce") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:42:45  tweet readOne with user tobkle is authorized
2017-07-09 20:42:45  inserted tweet 596279254c57819cb42922cf.
2017-07-09 20:42:45  pubsub tweetInserted readOne with user tobkle is authorized
2017-07-09 20:42:45  author readOne with user tobkle is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "admin", id: "596279254c57819cb42922cc",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:42:45  tweet readOne with user tobkle is authorized
2017-07-09 20:42:45  author readOne with user tobkle is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "admin", id: "596279254c57819cb42922cc",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "596279254c57819cb42922ce", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:42:45  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 20:42:45  update tweet update with user tobkle is authorized
2017-07-09 20:42:45  updated tweet 596279254c57819cb42922ce.
2017-07-09 20:42:45  pubsub tweetUpdated readOne with user tobkle is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "admin", id: "596279254c57819cb42922cc",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "596279254c57819cb42922cf", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:42:45  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 20:42:45  update tweet update with user tobkle is authorized
2017-07-09 20:42:45  updated tweet 596279254c57819cb42922cf.
2017-07-09 20:42:45  pubsub tweetUpdated readOne with user tobkle is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "admin", id: "596279254c57819cb42922cc",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "596279254c57819cb42922ce") {
    body
  }
}

2017-07-09 20:42:45  tweet readOne with user tobkle is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "admin", id: "596279254c57819cb42922cc",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "596279254c57819cb42922ce")
}

2017-07-09 20:42:45  removeTweet delete with user tobkle is authorized
2017-07-09 20:42:45  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 20:42:45  removed tweet 596279254c57819cb42922ce.
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "admin", id: "596279254c57819cb42922cc",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "596279254c57819cb42922cf")
}

2017-07-09 20:42:45  removeTweet delete with user tobkle is authorized
2017-07-09 20:42:45  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 20:42:45  removed tweet 596279254c57819cb42922cf.
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "admin", id: "596279254c57819cb42922cc",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "596279254c57819cb42922ce") {
    body
  }
}

2017-07-09 20:42:45  tweet readOne with user tobkle is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "admin", id: "596279254c57819cb42922cc",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "596279254c57819cb42922cc")
}

2017-07-09 20:42:45  removeUser delete with user tobkle is authorized
2017-07-09 20:42:45  removed user 596279254c57819cb42922cc.
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "596279254c57819cb42922cc") {
    username
    bio
    role
  }
}

2017-07-09 20:42:45  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "user"}) {
    id
  }
}

2017-07-09 20:42:45  ERROR Authorization: Not authorized to create in insert user.
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    username
    bio
    role
  }
}

2017-07-09 20:42:45  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "583291a1638566b3c5a92ca1", input: {username: "zoltan", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:42:45  ERROR Authorization: Not authorized to update in update user.
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "583291a1638566b3c5a92ca1")
}

2017-07-09 20:42:45  ERROR Authorization: Not authorized to delete in removeUser.
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 20:42:45  ERROR Authorization: Not authorized to create in insert tweet.
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:42:45  tweet readOne with user <no-user> is authorized
2017-07-09 20:42:45  ERROR Authorization: Not authorized to readOne in author.
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:42:45  tweet getOneById in updateById for docBefore readOne with user <no-user> is authorized
2017-07-09 20:42:45  ERROR Authorization: Not authorized to update in update tweet.
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:42:45  tweet getOneById in updateById for docBefore readOne with user <no-user> is authorized
2017-07-09 20:42:45  ERROR Authorization: Not authorized to update in update tweet.
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "583676d3618530145474e352")
}

2017-07-09 20:42:45  ERROR Authorization: Not authorized to delete in removeTweet.
2017-07-09 20:42:45  tweet getOneById in removeById for docBefore readOne with user <no-user> is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "tobkle", bio: "someone", role: "user"}) {
    id
    role
  }
}

2017-07-09 20:42:45  insert user create with user stubailo is authorized
2017-07-09 20:42:45  inserted user 596279254c57819cb42922d0.
2017-07-09 20:42:45  pubsub userInserted readOne with user stubailo is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "user", id: "596279254c57819cb42922d0",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "user"}) {
    id
  }
}

2017-07-09 20:42:45  authQuery: {
  "$or": []
}
2017-07-09 20:42:45  ERROR Authorization: Not authorized to create in insert user.
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "user", id: "596279254c57819cb42922d0",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    username
    bio
    role
  }
}

2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "_id": "596279254c57819cb42922d0"
    }
  ]
}
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "user", id: "596279254c57819cb42922d0",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "596279254c57819cb42922d0") {
    username
  }
}

2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "_id": "596279254c57819cb42922d0"
    }
  ]
}
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "user", id: "596279254c57819cb42922d0",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "596279254c57819cb42922d0") {
    username
    role
  }
}

2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "_id": "596279254c57819cb42922d0"
    }
  ]
}
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "user", id: "596279254c57819cb42922d0",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "583291a1638566b3c5a92ca1", input: {username: "zoltan", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "_id": "596279254c57819cb42922d0"
    }
  ]
}
2017-07-09 20:42:45  ERROR Not authorized to update field "role"
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "user", id: "596279254c57819cb42922d0",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "596279254c57819cb42922d0", input: {username: "tobkle", bio: "Maker of things, I guess"}) {
    username
    bio
  }
}

2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "_id": "596279254c57819cb42922d0"
    }
  ]
}
2017-07-09 20:42:45  updated user 596279254c57819cb42922d0.
2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "_id": "596279254c57819cb42922d0"
    }
  ]
}
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "user", id: "596279254c57819cb42922d0",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "596279254c57819cb42922d0", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "_id": "596279254c57819cb42922d0"
    }
  ]
}
2017-07-09 20:42:45  ERROR Not authorized to update field "role"
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "user", id: "596279254c57819cb42922d0",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "583291a1638566b3c5a92ca1")
}

2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "_id": "596279254c57819cb42922d0"
    }
  ]
}
2017-07-09 20:42:45  ERROR remove user failed for finalQuery: {
  "_id": "583291a1638566b3c5a92ca1",
  "$or": [
    {
      "_id": "596279254c57819cb42922d0"
    }
  ]
}
2017-07-09 20:42:45  ERROR remove user not possible for 583291a1638566b3c5a92ca1.
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "user", id: "596279254c57819cb42922d0",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "596279254c57819cb42922d0", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "authorId": "596279254c57819cb42922d0"
    }
  ]
}
2017-07-09 20:42:45  inserted tweet 596279254c57819cb42922d1.
2017-07-09 20:42:45  pubsub tweetInserted readOne with user tobkle is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "user", id: "596279254c57819cb42922d0",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "authorId": "596279254c57819cb42922d0"
    }
  ]
}
2017-07-09 20:42:45  ERROR Not authorized to insert tweet
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "user", id: "596279254c57819cb42922d0",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "596279254c57819cb42922d1") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:42:45  tweet readOne with user tobkle is authorized
2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "_id": "596279254c57819cb42922d0"
    }
  ]
}
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "user", id: "596279254c57819cb42922d0",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:42:45  tweet readOne with user tobkle is authorized
2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "_id": "596279254c57819cb42922d0"
    }
  ]
}
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "user", id: "596279254c57819cb42922d0",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "596279254c57819cb42922d1", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:42:45  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "authorId": "596279254c57819cb42922d0"
    },
    {
      "coauthorsIds": "596279254c57819cb42922d0"
    }
  ]
}
2017-07-09 20:42:45  updated tweet 596279254c57819cb42922d1.
2017-07-09 20:42:45  pubsub tweetUpdated readOne with user tobkle is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "user", id: "596279254c57819cb42922d0",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:42:45  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "authorId": "596279254c57819cb42922d0"
    },
    {
      "coauthorsIds": "596279254c57819cb42922d0"
    }
  ]
}
2017-07-09 20:42:45  ERROR update tweet failed finalQuery: {
  "_id": "583676d3618530145474e352",
  "$or": [
    {
      "authorId": "596279254c57819cb42922d0"
    },
    {
      "coauthorsIds": "596279254c57819cb42922d0"
    }
  ]
}
2017-07-09 20:42:45  ERROR update tweet failed for docToUpdate: {
  "$set": {
    "body": "This is a modified test tweet",
    "updatedAt": 1499625765665,
    "updatedById": "596279254c57819cb42922d0"
  }
}
2017-07-09 20:42:45  ERROR update tweet not possible for 583676d3618530145474e352.
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "user", id: "596279254c57819cb42922d0",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "596279254c57819cb42922d1") {
    body
  }
}

2017-07-09 20:42:45  tweet readOne with user tobkle is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "user", id: "596279254c57819cb42922d0",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "596279254c57819cb42922d1")
}

2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "authorId": "596279254c57819cb42922d0"
    }
  ]
}
2017-07-09 20:42:45  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 20:42:45  removed tweet 596279254c57819cb42922d1.
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "user", id: "596279254c57819cb42922d0",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "583676d3618530145474e352")
}

2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "authorId": "596279254c57819cb42922d0"
    }
  ]
}
2017-07-09 20:42:45  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 20:42:45  ERROR remove tweet failed for finalQuery: {
  "_id": "583676d3618530145474e352",
  "$or": [
    {
      "authorId": "596279254c57819cb42922d0"
    }
  ]
}
2017-07-09 20:42:45  ERROR remove tweet not possible for 583676d3618530145474e352.
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "user", id: "596279254c57819cb42922d0",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "596279254c57819cb42922d1") {
    body
  }
}

2017-07-09 20:42:45  tweet readOne with user tobkle is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "user", id: "596279254c57819cb42922d0",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "596279254c57819cb42922d0")
}

2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "_id": "596279254c57819cb42922d0"
    }
  ]
}
2017-07-09 20:42:45  removed user 596279254c57819cb42922d0.
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "596279254c57819cb42922d0") {
    username
    bio
    role
  }
}

2017-07-09 20:42:45  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "tobkle", bio: "someone", role: "editor"}) {
    id
    role
  }
}

2017-07-09 20:42:45  insert user create with user stubailo is authorized
2017-07-09 20:42:45  inserted user 596279254c57819cb42922d2.
2017-07-09 20:42:45  pubsub userInserted readOne with user stubailo is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "editor", id: "596279254c57819cb42922d2",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "editor"}) {
    id
  }
}

2017-07-09 20:42:45  authQuery: {
  "$or": []
}
2017-07-09 20:42:45  ERROR Authorization: Not authorized to create in insert user.
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "editor", id: "596279254c57819cb42922d2",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    username
    bio
    role
  }
}

2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "_id": "596279254c57819cb42922d2"
    }
  ]
}
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "editor", id: "596279254c57819cb42922d2",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "596279254c57819cb42922d2") {
    username
    role
  }
}

2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "_id": "596279254c57819cb42922d2"
    }
  ]
}
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "editor", id: "596279254c57819cb42922d2",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "583291a1638566b3c5a92ca1", input: {username: "zoltan", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "_id": "596279254c57819cb42922d2"
    }
  ]
}
2017-07-09 20:42:45  ERROR Not authorized to update field "role"
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tobkle", role: "editor", id: "596279254c57819cb42922d2",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "596279254c57819cb42922d2", input: {username: "tmeasday", bio: "Maker of things, I guess"}) {
    username
    bio
  }
}

2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "_id": "596279254c57819cb42922d2"
    }
  ]
}
2017-07-09 20:42:45  updated user 596279254c57819cb42922d2.
2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "_id": "596279254c57819cb42922d2"
    }
  ]
}
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tmeasday", role: "editor", id: "596279254c57819cb42922d2",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "596279254c57819cb42922d2", input: {username: "tmeasday", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "_id": "596279254c57819cb42922d2"
    }
  ]
}
2017-07-09 20:42:45  ERROR Not authorized to update field "role"
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tmeasday", role: "editor", id: "596279254c57819cb42922d2",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "583291a1638566b3c5a92ca1")
}

2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "_id": "596279254c57819cb42922d2"
    }
  ]
}
2017-07-09 20:42:45  ERROR remove user failed for finalQuery: {
  "_id": "583291a1638566b3c5a92ca1",
  "$or": [
    {
      "_id": "596279254c57819cb42922d2"
    }
  ]
}
2017-07-09 20:42:45  ERROR remove user not possible for 583291a1638566b3c5a92ca1.
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tmeasday", role: "editor", id: "596279254c57819cb42922d2",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "596279254c57819cb42922d2", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "authorId": "596279254c57819cb42922d2"
    }
  ]
}
2017-07-09 20:42:45  inserted tweet 596279254c57819cb42922d3.
2017-07-09 20:42:45  pubsub tweetInserted readOne with user tmeasday is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tmeasday", role: "editor", id: "596279254c57819cb42922d2",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "authorId": "596279254c57819cb42922d2"
    }
  ]
}
2017-07-09 20:42:45  ERROR Not authorized to insert tweet
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tmeasday", role: "editor", id: "596279254c57819cb42922d2",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "596279254c57819cb42922d3") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:42:45  tweet readOne with user tmeasday is authorized
2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "_id": "596279254c57819cb42922d2"
    }
  ]
}
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tmeasday", role: "editor", id: "596279254c57819cb42922d2",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 20:42:45  tweet readOne with user tmeasday is authorized
2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "_id": "596279254c57819cb42922d2"
    }
  ]
}
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tmeasday", role: "editor", id: "596279254c57819cb42922d2",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "596279254c57819cb42922d3", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:42:45  tweet getOneById in updateById for docBefore readOne with user tmeasday is authorized
2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "authorId": "596279254c57819cb42922d2"
    },
    {
      "coauthorsIds": "596279254c57819cb42922d2"
    }
  ]
}
2017-07-09 20:42:45  updated tweet 596279254c57819cb42922d3.
2017-07-09 20:42:45  pubsub tweetUpdated readOne with user tmeasday is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tmeasday", role: "editor", id: "596279254c57819cb42922d2",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 20:42:45  tweet getOneById in updateById for docBefore readOne with user tmeasday is authorized
2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "authorId": "596279254c57819cb42922d2"
    },
    {
      "coauthorsIds": "596279254c57819cb42922d2"
    }
  ]
}
2017-07-09 20:42:45  ERROR update tweet failed finalQuery: {
  "_id": "583676d3618530145474e352",
  "$or": [
    {
      "authorId": "596279254c57819cb42922d2"
    },
    {
      "coauthorsIds": "596279254c57819cb42922d2"
    }
  ]
}
2017-07-09 20:42:45  ERROR update tweet failed for docToUpdate: {
  "$set": {
    "body": "This is a modified test tweet",
    "updatedAt": 1499625765847,
    "updatedById": "596279254c57819cb42922d2"
  }
}
2017-07-09 20:42:45  ERROR update tweet not possible for 583676d3618530145474e352.
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tmeasday", role: "editor", id: "596279254c57819cb42922d2",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "596279254c57819cb42922d3") {
    body
  }
}

2017-07-09 20:42:45  tweet readOne with user tmeasday is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tmeasday", role: "editor", id: "596279254c57819cb42922d2",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "596279254c57819cb42922d3")
}

2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "authorId": "596279254c57819cb42922d2"
    }
  ]
}
2017-07-09 20:42:45  tweet getOneById in removeById for docBefore readOne with user tmeasday is authorized
2017-07-09 20:42:45  removed tweet 596279254c57819cb42922d3.
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tmeasday", role: "editor", id: "596279254c57819cb42922d2",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "583676d3618530145474e352")
}

2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "authorId": "596279254c57819cb42922d2"
    }
  ]
}
2017-07-09 20:42:45  tweet getOneById in removeById for docBefore readOne with user tmeasday is authorized
2017-07-09 20:42:45  ERROR remove tweet failed for finalQuery: {
  "_id": "583676d3618530145474e352",
  "$or": [
    {
      "authorId": "596279254c57819cb42922d2"
    }
  ]
}
2017-07-09 20:42:45  ERROR remove tweet not possible for 583676d3618530145474e352.
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tmeasday", role: "editor", id: "596279254c57819cb42922d2",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "596279254c57819cb42922d3") {
    body
  }
}

2017-07-09 20:42:45  tweet readOne with user tmeasday is authorized
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "tmeasday", role: "editor", id: "596279254c57819cb42922d2",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "596279254c57819cb42922d2")
}

2017-07-09 20:42:45  authQuery: {
  "$or": [
    {
      "_id": "596279254c57819cb42922d2"
    }
  ]
}
2017-07-09 20:42:45  removed user 596279254c57819cb42922d2.
2017-07-09 20:42:45  --------------------------------------------------------------------------------
2017-07-09 20:42:45  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "596279254c57819cb42922d2") {
    username
    bio
    role
  }
}

2017-07-09 20:42:45  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 20:46:10  Logger started
2017-07-09 21:06:09  --------------------------------------------------------------------------------
2017-07-09 21:06:09  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  __schema {
    queryType {
      name
    }
  }
}

2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  __schema {
    queryType {
      name
    }
  }
}

2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    role
    username
  }
}

2017-07-09 21:06:19  user readOne with user stubailo is authorized
2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    role
    username
  }
}

2017-07-09 21:06:19  user readOne with user stubailo is authorized
2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca2") {
    role
    username
  }
}

2017-07-09 21:06:19  user readOne with user stubailo is authorized
2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    id
    username
    bio
  }
}

2017-07-09 21:06:19  user readOne with user stubailo is authorized
2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users {
    username
    createdAt
  }
}

2017-07-09 21:06:19  users readMany with user stubailo is authorized
2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users(limit: 1) {
    username
    createdAt
  }
}

2017-07-09 21:06:19  users readMany with user stubailo is authorized
2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users(lastCreatedAt: 1479776904993) {
    username
    createdAt
  }
}

2017-07-09 21:06:19  users readMany with user stubailo is authorized
2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  users(lastCreatedAt: 1479776904993, limit: 1) {
    username
    createdAt
  }
}

2017-07-09 21:06:19  users readMany with user stubailo is authorized
2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers {
      username
      createdAt
    }
  }
}

2017-07-09 21:06:19  user readOne with user stubailo is authorized
2017-07-09 21:06:19  followers readMany with user stubailo is authorized
2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers(limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 21:06:19  user readOne with user stubailo is authorized
2017-07-09 21:06:19  followers readMany with user stubailo is authorized
2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers(lastCreatedAt: 1479776905993) {
      username
      createdAt
    }
  }
}

2017-07-09 21:06:19  user readOne with user stubailo is authorized
2017-07-09 21:06:19  followers readMany with user stubailo is authorized
2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    followers(lastCreatedAt: 1479776905993, limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 21:06:19  user readOne with user stubailo is authorized
2017-07-09 21:06:19  followers readMany with user stubailo is authorized
2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following {
      username
      createdAt
    }
  }
}

2017-07-09 21:06:19  user readOne with user stubailo is authorized
2017-07-09 21:06:19  following readMany with user stubailo is authorized
2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following(limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 21:06:19  user readOne with user stubailo is authorized
2017-07-09 21:06:19  following readMany with user stubailo is authorized
2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following(lastCreatedAt: 1479776905993) {
      username
      createdAt
    }
  }
}

2017-07-09 21:06:19  user readOne with user stubailo is authorized
2017-07-09 21:06:19  following readMany with user stubailo is authorized
2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    following(lastCreatedAt: 1479776905993, limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 21:06:19  user readOne with user stubailo is authorized
2017-07-09 21:06:19  following readMany with user stubailo is authorized
2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets {
      id
      createdAt
    }
  }
}

2017-07-09 21:06:19  user readOne with user stubailo is authorized
2017-07-09 21:06:19  tweets readMany with user stubailo is authorized
2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets(limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 21:06:19  user readOne with user stubailo is authorized
2017-07-09 21:06:19  tweets readMany with user stubailo is authorized
2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets(lastCreatedAt: 1479964340853) {
      id
      createdAt
    }
  }
}

2017-07-09 21:06:19  user readOne with user stubailo is authorized
2017-07-09 21:06:19  tweets readMany with user stubailo is authorized
2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    tweets(lastCreatedAt: 1479964340853, limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 21:06:19  user readOne with user stubailo is authorized
2017-07-09 21:06:19  tweets readMany with user stubailo is authorized
2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked {
      id
      createdAt
    }
  }
}

2017-07-09 21:06:19  user readOne with user stubailo is authorized
2017-07-09 21:06:19  liked readMany with user stubailo is authorized
2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked(limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 21:06:19  user readOne with user stubailo is authorized
2017-07-09 21:06:19  liked readMany with user stubailo is authorized
2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked(lastCreatedAt: 1479964371334) {
      id
      createdAt
    }
  }
}

2017-07-09 21:06:19  user readOne with user stubailo is authorized
2017-07-09 21:06:19  liked readMany with user stubailo is authorized
2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca0") {
    liked(lastCreatedAt: 1479964371334, limit: 1) {
      id
      createdAt
    }
  }
}

2017-07-09 21:06:19  user readOne with user stubailo is authorized
2017-07-09 21:06:19  liked readMany with user stubailo is authorized
2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e351") {
    id
    body
  }
}

2017-07-09 21:06:19  tweet readOne with user stubailo is authorized
2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e351") {
    author {
      username
    }
  }
}

2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets {
    id
    createdAt
  }
}

2017-07-09 21:06:19  tweets readMany with user stubailo is authorized
2017-07-09 21:06:19  tweet readOne with user stubailo is authorized
2017-07-09 21:06:19  author readOne with user stubailo is authorized
2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets(limit: 1) {
    id
    createdAt
  }
}

2017-07-09 21:06:19  tweets readMany with user stubailo is authorized
2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets(lastCreatedAt: 1479964340853) {
    id
    createdAt
  }
}

2017-07-09 21:06:19  tweets readMany with user stubailo is authorized
2017-07-09 21:06:19  --------------------------------------------------------------------------------
2017-07-09 21:06:19  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweets(lastCreatedAt: 1479964340853, limit: 1) {
    id
    createdAt
  }
}

2017-07-09 21:06:19  tweets readMany with user stubailo is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers {
      username
      createdAt
    }
  }
}

2017-07-09 21:06:20  tweet readOne with user stubailo is authorized
2017-07-09 21:06:20  likers readMany with user stubailo is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers(limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 21:06:20  tweet readOne with user stubailo is authorized
2017-07-09 21:06:20  likers readMany with user stubailo is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers(lastCreatedAt: 1479776904993) {
      username
      createdAt
    }
  }
}

2017-07-09 21:06:20  tweet readOne with user stubailo is authorized
2017-07-09 21:06:20  likers readMany with user stubailo is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e353") {
    likers(lastCreatedAt: 1479776904993, limit: 1) {
      username
      createdAt
    }
  }
}

2017-07-09 21:06:20  tweet readOne with user stubailo is authorized
2017-07-09 21:06:20  likers readMany with user stubailo is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "tobkle", bio: "someone", role: "admin"}) {
    id
    role
  }
}

2017-07-09 21:06:20  insert user create with user stubailo is authorized
2017-07-09 21:06:20  inserted user 59627eac2157d09ddf9d728c.
2017-07-09 21:06:20  pubsub userInserted readOne with user stubailo is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "admin", id: "59627eac2157d09ddf9d728c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "editor"}) {
    id
  }
}

2017-07-09 21:06:20  insert user create with user tobkle is authorized
2017-07-09 21:06:20  inserted user 59627eac2157d09ddf9d728d.
2017-07-09 21:06:20  pubsub userInserted readOne with user tobkle is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "admin", id: "59627eac2157d09ddf9d728c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59627eac2157d09ddf9d728d") {
    username
    bio
    role
  }
}

2017-07-09 21:06:20  user readOne with user tobkle is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "admin", id: "59627eac2157d09ddf9d728c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59627eac2157d09ddf9d728c") {
    username
    role
  }
}

2017-07-09 21:06:20  user readOne with user tobkle is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "admin", id: "59627eac2157d09ddf9d728c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59627eac2157d09ddf9d728d", input: {username: "zoltan", bio: "Maker of things, I guess", role: "editor"}) {
    username
    bio
    role
  }
}

2017-07-09 21:06:20  update user update with user tobkle is authorized
2017-07-09 21:06:20  updated user 59627eac2157d09ddf9d728d.
2017-07-09 21:06:20  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "admin", id: "59627eac2157d09ddf9d728c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59627eac2157d09ddf9d728c", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 21:06:20  update user update with user tobkle is authorized
2017-07-09 21:06:20  updated user 59627eac2157d09ddf9d728c.
2017-07-09 21:06:20  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "admin", id: "59627eac2157d09ddf9d728c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59627eac2157d09ddf9d728d", input: {username: "zoltan", bio: "now an admin", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 21:06:20  update user update with user tobkle is authorized
2017-07-09 21:06:20  updated user 59627eac2157d09ddf9d728d.
2017-07-09 21:06:20  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "admin", id: "59627eac2157d09ddf9d728c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59627eac2157d09ddf9d728c", input: {username: "tobkle", bio: "Maker of things, I guess", role: "editor"}) {
    username
    bio
    role
  }
}

2017-07-09 21:06:20  update user update with user tobkle is authorized
2017-07-09 21:06:20  updated user 59627eac2157d09ddf9d728c.
2017-07-09 21:06:20  pubsub userUpdated readOne with user tobkle is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "editor", id: "59627eac2157d09ddf9d728c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59627eac2157d09ddf9d728c", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "_id": "59627eac2157d09ddf9d728c"
    }
  ]
}
2017-07-09 21:06:20  ERROR Not authorized to update field "role"
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "zoltan", role: "admin", id: "59627eac2157d09ddf9d728d",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59627eac2157d09ddf9d728c", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 21:06:20  update user update with user zoltan is authorized
2017-07-09 21:06:20  updated user 59627eac2157d09ddf9d728c.
2017-07-09 21:06:20  pubsub userUpdated readOne with user zoltan is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "admin", id: "59627eac2157d09ddf9d728c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "59627eac2157d09ddf9d728d")
}

2017-07-09 21:06:20  removeUser delete with user tobkle is authorized
2017-07-09 21:06:20  removed user 59627eac2157d09ddf9d728d.
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "admin", id: "59627eac2157d09ddf9d728c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "59627eac2157d09ddf9d728c", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 21:06:20  insert tweet create with user tobkle is authorized
2017-07-09 21:06:20  inserted tweet 59627eac2157d09ddf9d728e.
2017-07-09 21:06:20  pubsub tweetInserted readOne with user tobkle is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "admin", id: "59627eac2157d09ddf9d728c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 21:06:20  insert tweet create with user tobkle is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "admin", id: "59627eac2157d09ddf9d728c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59627eac2157d09ddf9d728e") {
    author {
      id
    }
    body
  }
}

2017-07-09 21:06:20  tweet readOne with user tobkle is authorized
2017-07-09 21:06:20  inserted tweet 59627eac2157d09ddf9d728f.
2017-07-09 21:06:20  pubsub tweetInserted readOne with user tobkle is authorized
2017-07-09 21:06:20  author readOne with user tobkle is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "admin", id: "59627eac2157d09ddf9d728c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 21:06:20  tweet readOne with user tobkle is authorized
2017-07-09 21:06:20  author readOne with user tobkle is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "admin", id: "59627eac2157d09ddf9d728c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "59627eac2157d09ddf9d728e", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 21:06:20  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 21:06:20  update tweet update with user tobkle is authorized
2017-07-09 21:06:20  updated tweet 59627eac2157d09ddf9d728e.
2017-07-09 21:06:20  pubsub tweetUpdated readOne with user tobkle is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "admin", id: "59627eac2157d09ddf9d728c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "59627eac2157d09ddf9d728f", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 21:06:20  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 21:06:20  update tweet update with user tobkle is authorized
2017-07-09 21:06:20  updated tweet 59627eac2157d09ddf9d728f.
2017-07-09 21:06:20  pubsub tweetUpdated readOne with user tobkle is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "admin", id: "59627eac2157d09ddf9d728c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59627eac2157d09ddf9d728e") {
    body
  }
}

2017-07-09 21:06:20  tweet readOne with user tobkle is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "admin", id: "59627eac2157d09ddf9d728c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "59627eac2157d09ddf9d728e")
}

2017-07-09 21:06:20  removeTweet delete with user tobkle is authorized
2017-07-09 21:06:20  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 21:06:20  removed tweet 59627eac2157d09ddf9d728e.
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "admin", id: "59627eac2157d09ddf9d728c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "59627eac2157d09ddf9d728f")
}

2017-07-09 21:06:20  removeTweet delete with user tobkle is authorized
2017-07-09 21:06:20  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 21:06:20  removed tweet 59627eac2157d09ddf9d728f.
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "admin", id: "59627eac2157d09ddf9d728c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59627eac2157d09ddf9d728e") {
    body
  }
}

2017-07-09 21:06:20  tweet readOne with user tobkle is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "admin", id: "59627eac2157d09ddf9d728c",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "59627eac2157d09ddf9d728c")
}

2017-07-09 21:06:20  removeUser delete with user tobkle is authorized
2017-07-09 21:06:20  removed user 59627eac2157d09ddf9d728c.
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59627eac2157d09ddf9d728c") {
    username
    bio
    role
  }
}

2017-07-09 21:06:20  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "user"}) {
    id
  }
}

2017-07-09 21:06:20  ERROR Authorization: Not authorized to create in insert user.
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    username
    bio
    role
  }
}

2017-07-09 21:06:20  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "583291a1638566b3c5a92ca1", input: {username: "zoltan", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 21:06:20  ERROR Authorization: Not authorized to update in update user.
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "583291a1638566b3c5a92ca1")
}

2017-07-09 21:06:20  ERROR Authorization: Not authorized to delete in removeUser.
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 21:06:20  ERROR Authorization: Not authorized to create in insert tweet.
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 21:06:20  tweet readOne with user <no-user> is authorized
2017-07-09 21:06:20  ERROR Authorization: Not authorized to readOne in author.
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 21:06:20  tweet getOneById in updateById for docBefore readOne with user <no-user> is authorized
2017-07-09 21:06:20  ERROR Authorization: Not authorized to update in update tweet.
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 21:06:20  tweet getOneById in updateById for docBefore readOne with user <no-user> is authorized
2017-07-09 21:06:20  ERROR Authorization: Not authorized to update in update tweet.
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "583676d3618530145474e352")
}

2017-07-09 21:06:20  ERROR Authorization: Not authorized to delete in removeTweet.
2017-07-09 21:06:20  tweet getOneById in removeById for docBefore readOne with user <no-user> is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "tobkle", bio: "someone", role: "user"}) {
    id
    role
  }
}

2017-07-09 21:06:20  insert user create with user stubailo is authorized
2017-07-09 21:06:20  inserted user 59627eac2157d09ddf9d7290.
2017-07-09 21:06:20  pubsub userInserted readOne with user stubailo is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "user", id: "59627eac2157d09ddf9d7290",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "user"}) {
    id
  }
}

2017-07-09 21:06:20  authQuery: {
  "$or": []
}
2017-07-09 21:06:20  ERROR Authorization: Not authorized to create in insert user.
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "user", id: "59627eac2157d09ddf9d7290",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    username
    bio
    role
  }
}

2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "_id": "59627eac2157d09ddf9d7290"
    }
  ]
}
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "user", id: "59627eac2157d09ddf9d7290",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59627eac2157d09ddf9d7290") {
    username
  }
}

2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "_id": "59627eac2157d09ddf9d7290"
    }
  ]
}
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "user", id: "59627eac2157d09ddf9d7290",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59627eac2157d09ddf9d7290") {
    username
    role
  }
}

2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "_id": "59627eac2157d09ddf9d7290"
    }
  ]
}
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "user", id: "59627eac2157d09ddf9d7290",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "583291a1638566b3c5a92ca1", input: {username: "zoltan", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "_id": "59627eac2157d09ddf9d7290"
    }
  ]
}
2017-07-09 21:06:20  ERROR Not authorized to update field "role"
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "user", id: "59627eac2157d09ddf9d7290",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59627eac2157d09ddf9d7290", input: {username: "tobkle", bio: "Maker of things, I guess"}) {
    username
    bio
  }
}

2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "_id": "59627eac2157d09ddf9d7290"
    }
  ]
}
2017-07-09 21:06:20  updated user 59627eac2157d09ddf9d7290.
2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "_id": "59627eac2157d09ddf9d7290"
    }
  ]
}
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "user", id: "59627eac2157d09ddf9d7290",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59627eac2157d09ddf9d7290", input: {username: "tobkle", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "_id": "59627eac2157d09ddf9d7290"
    }
  ]
}
2017-07-09 21:06:20  ERROR Not authorized to update field "role"
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "user", id: "59627eac2157d09ddf9d7290",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "583291a1638566b3c5a92ca1")
}

2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "_id": "59627eac2157d09ddf9d7290"
    }
  ]
}
2017-07-09 21:06:20  ERROR remove user failed for finalQuery: {
  "_id": "583291a1638566b3c5a92ca1",
  "$or": [
    {
      "_id": "59627eac2157d09ddf9d7290"
    }
  ]
}
2017-07-09 21:06:20  ERROR remove user not possible for 583291a1638566b3c5a92ca1.
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "user", id: "59627eac2157d09ddf9d7290",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "59627eac2157d09ddf9d7290", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "authorId": "59627eac2157d09ddf9d7290"
    }
  ]
}
2017-07-09 21:06:20  inserted tweet 59627eac2157d09ddf9d7291.
2017-07-09 21:06:20  pubsub tweetInserted readOne with user tobkle is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "user", id: "59627eac2157d09ddf9d7290",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "authorId": "59627eac2157d09ddf9d7290"
    }
  ]
}
2017-07-09 21:06:20  ERROR Not authorized to insert tweet
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "user", id: "59627eac2157d09ddf9d7290",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59627eac2157d09ddf9d7291") {
    author {
      id
    }
    body
  }
}

2017-07-09 21:06:20  tweet readOne with user tobkle is authorized
2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "_id": "59627eac2157d09ddf9d7290"
    }
  ]
}
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "user", id: "59627eac2157d09ddf9d7290",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 21:06:20  tweet readOne with user tobkle is authorized
2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "_id": "59627eac2157d09ddf9d7290"
    }
  ]
}
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "user", id: "59627eac2157d09ddf9d7290",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "59627eac2157d09ddf9d7291", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 21:06:20  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "authorId": "59627eac2157d09ddf9d7290"
    },
    {
      "coauthorsIds": "59627eac2157d09ddf9d7290"
    }
  ]
}
2017-07-09 21:06:20  updated tweet 59627eac2157d09ddf9d7291.
2017-07-09 21:06:20  pubsub tweetUpdated readOne with user tobkle is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "user", id: "59627eac2157d09ddf9d7290",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 21:06:20  tweet getOneById in updateById for docBefore readOne with user tobkle is authorized
2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "authorId": "59627eac2157d09ddf9d7290"
    },
    {
      "coauthorsIds": "59627eac2157d09ddf9d7290"
    }
  ]
}
2017-07-09 21:06:20  ERROR update tweet failed finalQuery: {
  "_id": "583676d3618530145474e352",
  "$or": [
    {
      "authorId": "59627eac2157d09ddf9d7290"
    },
    {
      "coauthorsIds": "59627eac2157d09ddf9d7290"
    }
  ]
}
2017-07-09 21:06:20  ERROR update tweet failed for docToUpdate: {
  "$set": {
    "body": "This is a modified test tweet",
    "updatedAt": 1499627180595,
    "updatedById": "59627eac2157d09ddf9d7290"
  }
}
2017-07-09 21:06:20  ERROR update tweet not possible for 583676d3618530145474e352.
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "user", id: "59627eac2157d09ddf9d7290",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59627eac2157d09ddf9d7291") {
    body
  }
}

2017-07-09 21:06:20  tweet readOne with user tobkle is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "user", id: "59627eac2157d09ddf9d7290",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "59627eac2157d09ddf9d7291")
}

2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "authorId": "59627eac2157d09ddf9d7290"
    }
  ]
}
2017-07-09 21:06:20  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 21:06:20  removed tweet 59627eac2157d09ddf9d7291.
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "user", id: "59627eac2157d09ddf9d7290",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "583676d3618530145474e352")
}

2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "authorId": "59627eac2157d09ddf9d7290"
    }
  ]
}
2017-07-09 21:06:20  tweet getOneById in removeById for docBefore readOne with user tobkle is authorized
2017-07-09 21:06:20  ERROR remove tweet failed for finalQuery: {
  "_id": "583676d3618530145474e352",
  "$or": [
    {
      "authorId": "59627eac2157d09ddf9d7290"
    }
  ]
}
2017-07-09 21:06:20  ERROR remove tweet not possible for 583676d3618530145474e352.
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "user", id: "59627eac2157d09ddf9d7290",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59627eac2157d09ddf9d7291") {
    body
  }
}

2017-07-09 21:06:20  tweet readOne with user tobkle is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "user", id: "59627eac2157d09ddf9d7290",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "59627eac2157d09ddf9d7290")
}

2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "_id": "59627eac2157d09ddf9d7290"
    }
  ]
}
2017-07-09 21:06:20  removed user 59627eac2157d09ddf9d7290.
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59627eac2157d09ddf9d7290") {
    username
    bio
    role
  }
}

2017-07-09 21:06:20  ERROR Authorization: Not authorized to readOne in user.
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "stubailo", role: "admin", id: "583291a1638566b3c5a92ca1",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "tobkle", bio: "someone", role: "editor"}) {
    id
    role
  }
}

2017-07-09 21:06:20  insert user create with user stubailo is authorized
2017-07-09 21:06:20  inserted user 59627eac2157d09ddf9d7292.
2017-07-09 21:06:20  pubsub userInserted readOne with user stubailo is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "editor", id: "59627eac2157d09ddf9d7292",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createUser(input: {username: "zol", bio: "Maker of apps, product and engineering. Climber. Cyclist. Enthusiast. Product lead", role: "editor"}) {
    id
  }
}

2017-07-09 21:06:20  authQuery: {
  "$or": []
}
2017-07-09 21:06:20  ERROR Authorization: Not authorized to create in insert user.
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "editor", id: "59627eac2157d09ddf9d7292",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "583291a1638566b3c5a92ca1") {
    username
    bio
    role
  }
}

2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "_id": "59627eac2157d09ddf9d7292"
    }
  ]
}
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "editor", id: "59627eac2157d09ddf9d7292",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59627eac2157d09ddf9d7292") {
    username
    role
  }
}

2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "_id": "59627eac2157d09ddf9d7292"
    }
  ]
}
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "editor", id: "59627eac2157d09ddf9d7292",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "583291a1638566b3c5a92ca1", input: {username: "zoltan", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "_id": "59627eac2157d09ddf9d7292"
    }
  ]
}
2017-07-09 21:06:20  ERROR Not authorized to update field "role"
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tobkle", role: "editor", id: "59627eac2157d09ddf9d7292",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59627eac2157d09ddf9d7292", input: {username: "tmeasday", bio: "Maker of things, I guess"}) {
    username
    bio
  }
}

2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "_id": "59627eac2157d09ddf9d7292"
    }
  ]
}
2017-07-09 21:06:20  updated user 59627eac2157d09ddf9d7292.
2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "_id": "59627eac2157d09ddf9d7292"
    }
  ]
}
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tmeasday", role: "editor", id: "59627eac2157d09ddf9d7292",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateUser(id: "59627eac2157d09ddf9d7292", input: {username: "tmeasday", bio: "Maker of things, I guess", role: "admin"}) {
    username
    bio
    role
  }
}

2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "_id": "59627eac2157d09ddf9d7292"
    }
  ]
}
2017-07-09 21:06:20  ERROR Not authorized to update field "role"
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tmeasday", role: "editor", id: "59627eac2157d09ddf9d7292",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "583291a1638566b3c5a92ca1")
}

2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "_id": "59627eac2157d09ddf9d7292"
    }
  ]
}
2017-07-09 21:06:20  ERROR remove user failed for finalQuery: {
  "_id": "583291a1638566b3c5a92ca1",
  "$or": [
    {
      "_id": "59627eac2157d09ddf9d7292"
    }
  ]
}
2017-07-09 21:06:20  ERROR remove user not possible for 583291a1638566b3c5a92ca1.
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tmeasday", role: "editor", id: "59627eac2157d09ddf9d7292",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "59627eac2157d09ddf9d7292", coauthorsIds: [], body: "This is a test tweet of user tobkle"}) {
    id
  }
}

2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "authorId": "59627eac2157d09ddf9d7292"
    }
  ]
}
2017-07-09 21:06:20  inserted tweet 59627eac2157d09ddf9d7293.
2017-07-09 21:06:20  pubsub tweetInserted readOne with user tmeasday is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tmeasday", role: "editor", id: "59627eac2157d09ddf9d7292",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  createTweet(input: {authorId: "583291a1638566b3c5a92ca1", coauthorsIds: [], body: "We put our hearts into this talk about a #GraphQL-first workflow and how it helped us build apps fast:"}) {
    id
  }
}

2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "authorId": "59627eac2157d09ddf9d7292"
    }
  ]
}
2017-07-09 21:06:20  ERROR Not authorized to insert tweet
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tmeasday", role: "editor", id: "59627eac2157d09ddf9d7292",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59627eac2157d09ddf9d7293") {
    author {
      id
    }
    body
  }
}

2017-07-09 21:06:20  tweet readOne with user tmeasday is authorized
2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "_id": "59627eac2157d09ddf9d7292"
    }
  ]
}
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tmeasday", role: "editor", id: "59627eac2157d09ddf9d7292",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "583676d3618530145474e352") {
    author {
      id
    }
    body
  }
}

2017-07-09 21:06:20  tweet readOne with user tmeasday is authorized
2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "_id": "59627eac2157d09ddf9d7292"
    }
  ]
}
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tmeasday", role: "editor", id: "59627eac2157d09ddf9d7292",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "59627eac2157d09ddf9d7293", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 21:06:20  tweet getOneById in updateById for docBefore readOne with user tmeasday is authorized
2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "authorId": "59627eac2157d09ddf9d7292"
    },
    {
      "coauthorsIds": "59627eac2157d09ddf9d7292"
    }
  ]
}
2017-07-09 21:06:20  updated tweet 59627eac2157d09ddf9d7293.
2017-07-09 21:06:20  pubsub tweetUpdated readOne with user tmeasday is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tmeasday", role: "editor", id: "59627eac2157d09ddf9d7292",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  updateTweet(id: "583676d3618530145474e352", input: {body: "This is a modified test tweet"}) {
    body
  }
}

2017-07-09 21:06:20  tweet getOneById in updateById for docBefore readOne with user tmeasday is authorized
2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "authorId": "59627eac2157d09ddf9d7292"
    },
    {
      "coauthorsIds": "59627eac2157d09ddf9d7292"
    }
  ]
}
2017-07-09 21:06:20  ERROR update tweet failed finalQuery: {
  "_id": "583676d3618530145474e352",
  "$or": [
    {
      "authorId": "59627eac2157d09ddf9d7292"
    },
    {
      "coauthorsIds": "59627eac2157d09ddf9d7292"
    }
  ]
}
2017-07-09 21:06:20  ERROR update tweet failed for docToUpdate: {
  "$set": {
    "body": "This is a modified test tweet",
    "updatedAt": 1499627180803,
    "updatedById": "59627eac2157d09ddf9d7292"
  }
}
2017-07-09 21:06:20  ERROR update tweet not possible for 583676d3618530145474e352.
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tmeasday", role: "editor", id: "59627eac2157d09ddf9d7292",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59627eac2157d09ddf9d7293") {
    body
  }
}

2017-07-09 21:06:20  tweet readOne with user tmeasday is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tmeasday", role: "editor", id: "59627eac2157d09ddf9d7292",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "59627eac2157d09ddf9d7293")
}

2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "authorId": "59627eac2157d09ddf9d7292"
    }
  ]
}
2017-07-09 21:06:20  tweet getOneById in removeById for docBefore readOne with user tmeasday is authorized
2017-07-09 21:06:20  removed tweet 59627eac2157d09ddf9d7293.
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tmeasday", role: "editor", id: "59627eac2157d09ddf9d7292",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeTweet(id: "583676d3618530145474e352")
}

2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "authorId": "59627eac2157d09ddf9d7292"
    }
  ]
}
2017-07-09 21:06:20  tweet getOneById in removeById for docBefore readOne with user tmeasday is authorized
2017-07-09 21:06:20  ERROR remove tweet failed for finalQuery: {
  "_id": "583676d3618530145474e352",
  "$or": [
    {
      "authorId": "59627eac2157d09ddf9d7292"
    }
  ]
}
2017-07-09 21:06:20  ERROR remove tweet not possible for 583676d3618530145474e352.
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tmeasday", role: "editor", id: "59627eac2157d09ddf9d7292",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  tweet(id: "59627eac2157d09ddf9d7293") {
    body
  }
}

2017-07-09 21:06:20  tweet readOne with user tmeasday is authorized
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "tmeasday", role: "editor", id: "59627eac2157d09ddf9d7292",
Operation: "<no-name>", variables: "<no-variables>",
Query:
mutation {
  removeUser(id: "59627eac2157d09ddf9d7292")
}

2017-07-09 21:06:20  authQuery: {
  "$or": [
    {
      "_id": "59627eac2157d09ddf9d7292"
    }
  ]
}
2017-07-09 21:06:20  removed user 59627eac2157d09ddf9d7292.
2017-07-09 21:06:20  --------------------------------------------------------------------------------
2017-07-09 21:06:20  Request:
User: "<no-user>", role: "<no-role>", id: "<no-id>",
Operation: "<no-name>", variables: "<no-variables>",
Query:
{
  user(id: "59627eac2157d09ddf9d7292") {
    username
    bio
    role
  }
}

2017-07-09 21:06:20  ERROR Authorization: Not authorized to readOne in user.
